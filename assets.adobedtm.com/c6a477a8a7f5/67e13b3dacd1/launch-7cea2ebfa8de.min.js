// For license information, see `https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/launch-7cea2ebfa8de.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2025-05-12T16:23:06Z",turbineBuildDate:"2024-08-22T17:32:44Z",turbineVersion:"28.0.0"},environment:{id:"ENc4d65ef930f74fda988f844192f12e8d",stage:"production"},dataElements:{cbdevice:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbdevice?CBDL.pgInfo.cbdevice.toLocaleLowerCase():"Datalayer:cbdevice Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},"Click URL":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){let t="";return void 0!==e&&(t=void 0!==e.element&&(e.element.getAttribute("href")||e.element.href)||""),t||""}}},stepName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof CBDL){if("object"==typeof CBDL.pgInfo){var e=_satellite.getVar("cbpgType"),t=_satellite.getVar("cbpgFunction"),n=_satellite.getVar("cbpgSubFunction"),o=_satellite.getVar("cbpgName"),r=_satellite.getVar("cbproduct")+"|"+e+"|"+t+"|"+n+"|"+o;return void 0!==r?r:"Datalayer:stepName Missing"}return"Datalayer:Page Info Missing"}return"Datalayer:CBDL Missing"}}},cbpgName:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgName?CBDL.pgInfo.cbpgName.toLocaleLowerCase():"Datalayer:Page Name Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},"AEP Analytics Click Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){function t(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>""!==t)).map((([e,n])=>[e,n===Object(n)?t(n):n])))}function n(e){if(Object.keys(e).forEach((t=>{if(e[t]&&"object"==typeof e[t]&&null===n(e[t]))return delete e[t]})),!Object.keys(e).length)return null}if("object"==typeof CBDL&&"object"==typeof CBDL.pgInfo){let s={},c={},l={},d={},u={},p={value:1},g=JSON.parse(JSON.stringify(CBDL.pgInfo)),m=void 0!==g.cbwebidentifier?g.cbwebidentifier.toLowerCase():"Datalayer:cbwebidentifier Missing",f=void 0!==g.cbdevice?g.cbdevice.toLowerCase():"Datalayer:cbdevice Missing",h=void 0!==g.cbproduct?g.cbproduct.toLowerCase():"Datalayer:cbproduct Missing",b=void 0!==g.cbpgType?g.cbpgType.toLowerCase():"Datalayer:cbpgType Missing",v=void 0!==g.cbpgFunction?g.cbpgFunction.toLowerCase():"Datalayer:cbpgFunction Missing",y=void 0!==g.cbpgSubFunction?g.cbpgSubFunction.toLowerCase():"Datalayer:cbpgSubFunction Missing",w=void 0!==g.cbpgName?g.cbpgName.toLowerCase():"Datalayer:cbpgName Missing",C=void 0!==g.cbpgName?h+"|"+b+"|"+v+"|"+y+"|"+w:"Datalayer:stepName Missing",k=void 0!==e?"null"!==e.element.getAttribute("data-cbdata-type")&&null!==e.element.getAttribute("data-cbdata-type")?e.element.getAttribute("data-cbdata-type"):"button":"link";var o=e.element.getAttribute("title")||e.element.title||"",r=e.element.getAttribute("innerText")||e.element.innerText||"";e.element.getAttribute("innerHTML")||e.element.innerHtml;let E=void 0!==e?e.element.getAttribute("data-cbdata-reason"):"",P=function(){if("Share this article on LinkedIn"!==o&&"Share this article on Facebook"!==o&&"Share this article on Twitter"!==o&&"Share this article over Email"!==o&&"Facebook"!==o&&"Twitter"!==o&&"Linkedin"!==o&&"Youtube"!==o&&"Instagram"!==o&&"Citizens Bank Linkedin"!==o&&"Citizens Bank Twitter"!==o&&"Citizens Bank YouTube"!==o&&"Citizens Bank Instagram"!==o&&"Citizens Bank Facebook"!==o||(o=o.toLowerCase().replace(/\s+/g,"-"),E=E.includes(o)?E:E+o.replace(/\s+/g,"-")),E=""!==E?E:""!==o?o:""!==r?r:"",void 0!==E&&""!==E)return b+"|"+v+"|"+y+"|"+w+":"+k+"|"+E}()||"";var a=function(){var t=void 0!==e?e.element:"",n=t.closest("section,header,footer"),o=t.getAttribute("href")||t.href||"",r=t.getAttribute("class")||t.className||"",a=t.parentNode.childNodes.length>1?t.parentNode.childNodes[1].innerText:"";a=void 0!==a&&"undefined"!==a&null!==a?a:"";var i="",s=t.getAttribute("data-video"),c=/[a-zA-Z]/g;let l="";var d=function(e){return e.length>=1?e[0]:""},u=function(e){return e?e.replace(/^-+|-+(?=-|$)/g,"").replace(/^\s+|\s+$/g,""):""};if(o&&(-1!=o.indexOf("https://apps.apple.com/us/")||-1!=o.indexOf("https://apps.apple.com/app/apple-store")||-1!=o.indexOf("citizens-bank-mobile-banking")||-1!=o.indexOf("http://itunes.com/apps/rbscitizensna/citizensbankmobilebanking")||-1!=o.indexOf("apps.apple.com/us/app/citizens-bank-mobile-banking/id388082488")?i="Download on the Apple App Store":-1!=o.indexOf("id=com.citizensbank.androidapp")||-1!=o.indexOf("http://play.google.com/store/apps/details%3Fid%3Dcom.citizensbank.androidapp")?i="Download on Google Play":-1!=o.indexOf("/HomePage.html")||-1!=o.indexOf("/Homepage.html")||-1!=o.indexOf("/homepage.html")?i="citizens-logo":-1!=E.indexOf("dcom-c-nav-header")&&-1!=o.indexOf("/corporate-finance/default.html")&&(i="citizens-commercial-logo")),"string"==typeof r&&null!==r&&("dcom-nav-mobile-search cbensightenevent"==r||"dcom-nav-desktop-search cbensightenevent"==r?i="search-icon":t.closest("div")&&t.closest("div").className&&"dcom-c-navigation-bar__search"==t.closest("div").className?i="search":"dcom-c-btn dcom-c-iconBtn cbensightenevent"!=r&&"dcom-c-btn dcom-c-iconbtn cbensightenevent"!=r||(i="mobile-menu-icon")),l=null!==n&&"undefined"!==n&&void 0!==n?(d(n.classList)||n.getAttribute("id")||n.tagName)+"__"+u(t.getAttribute("title")||t.innerText||t.getAttribute("value")||i||a||s):u(E)||i,c.test(l)&&(l=l.replace(/^[^A-Za-z]+/,"")),l=l.toLocaleLowerCase(),void 0!==l&&""!==l)return b+"|"+v+"|"+y+"|"+w+":"+k.toLocaleLowerCase()+"|"+l.replace(/<[^>]*>?/gm,"").replace(/\s+/g,"-")},i="cbdotcom";c=Object.assign({},{eVar2:m},{eVar3:f},{eVar4:h},{eVar7:b},{eVar8:v},{eVar9:y},{eVar10:w},{eVar35:P},{eVar58:P},{eVar68:_satellite.getVar("Shopper Pages")},{eVar89:a()||""},{eVar90:C},{eVar181:i}),l=Object.assign({},{prop2:m},{prop3:f},{prop4:h},{prop7:b},{prop8:v},{prop9:y},{prop10:w},{prop35:P},{prop58:P},{prop60:C},{prop69:_satellite.getVar("Shopper Pages")});let I=t(c),x=t(l);return u=Object.assign({},{event35:p}),s=Object.assign({},{eVars:I},{props:x}),d=Object.assign({},{customDimensions:s},{event1to100:u}),n(d),d}}}},PageURL:{modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"url"}},siteVersion:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?"cbdotcom":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},cbtype:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbtype?CBDL.pgInfo.cbtype.toLocaleLowerCase():"Datalayer:cbtype Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},OneTrustInfo:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=_satellite.cookie.get("OptanonConsent"),t=null!=e?e.split("&"):"",n={},o="";if(t.length>0){t.forEach((e=>{const[t,o]=e.split("=");n[t]=o}));let e=void 0!==n.groups?n.groups:"",r=void 0!==n.consentId?n.consentId:"object"==typeof OneTrust&&"string"==typeof OneTrust.getDataSubjectId()?OneTrust.getDataSubjectId():"";e=""!==e?e.match(/\b\w+:1\b/g).join(",").replaceAll(":1",""):"string"==typeof OptanonActiveGroups?OptanonActiveGroups.replace(/^,|,$/g,""):"",""!==r&&null!==r&&""!==e&&null!==e&&"undefined"!==e?o=r+"|"+e:""!=r&&null!=r||""===e||null===e||"undefined"===e?""===r||null===r||""!=e&&null!=e&&"undefined"!=e||(o=r):o=e}return o}}},"AEP XDM Mapping Click Event":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webInteraction:{URL:"%Click URL%",name:"%eVar58%",type:"other",linkClicks:{value:1}}},_experience:{analytics:"%AEP Analytics Click Object%"}},sandbox:{name:"prod"}}},"Country Language":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?(CBDL.pgInfo.cbcountry+"|"+CBDL.pgInfo.cblanguage).toLocaleLowerCase():"Datalayer:conLang Missing":"Datalayer:CBDL Missing"}}},eVar35:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.element.getAttribute("data-cbdata-reason"),n=e.element.getAttribute("data-cbdata-type"),o=_satellite.getVar("cbpgType"),r=_satellite.getVar("cbpgFunction"),a=_satellite.getVar("cbpgSubFunction"),i=_satellite.getVar("cbpgName"),s=e.element.getAttribute("title");if("Share this article on LinkedIn"!==s&&"Share this article on Facebook"!==s&&"Share this article on Twitter"!==s&&"Share this article over Email"!==s&&"Facebook"!==s&&"Twitter"!==s&&"Linkedin"!==s&&"Youtube"!==s&&"Instagram"!==s&&"Citizens Bank Linkedin"!==s&&"Citizens Bank Twitter"!==s&&"Citizens Bank YouTube"!==s&&"Citizens Bank Instagram"!==s&&"Citizens Bank Facebook"!==s||(s=s.toLowerCase().replace(/\s+/g,"-"),t=t.includes(s)?t:t+s.replace(/\s+/g,"-")),void 0!==t&&""!==t)return o+"|"+r+"|"+a+"|"+i+":"+n+"|"+t}}},"AEP - Variable ":{modulePath:"adobe-alloy/dist/lib/dataElements/variable/index.js",settings:{cacheId:"d38c7486-70d2-4f00-a373-0c9a92fe2e67",dataElementId:"DE8fe85f15040a461e9d069a8739088c4e"}},demandbaseDataElement2:{defaultValue:"",modulePath:"demandbase/dist/lib/dataElements/demandbasedataelement2.js",settings:{}},"s.pageName":{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e="";if("object"==typeof CBDL){if("object"==typeof CBDL.pgInfo){pi=JSON.parse(JSON.stringify(CBDL.pgInfo));let t=void 0!==pi.cbpgType?pi.cbpgType.toLowerCase():"Datalayer:cbpgType Missing",n=void 0!==pi.cbpgFunction?pi.cbpgFunction.toLowerCase():"Datalayer:cbpgFunction Missing",o=void 0!==pi.cbpgSubFunction?pi.cbpgSubFunction.toLowerCase():"",r=void 0!==pi.cbpgName?pi.cbpgName.toLowerCase():"Datalayer:cbpgName Missing";return e=t+"-"+n+"-"+(""===o||o.includes("Missing")?r:o+"-"+r),e=void 0!==e?e:"DataLayer: Page Info Missing",e}return""}}}},cbbrand:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbbrand?CBDL.pgInfo.cbbrand.toLocaleLowerCase():"Datalayer:cbbrand Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},"One Trust - Adobe - Consent":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.cookie.get("OptanonConsent");let t=_satellite.cookie.get("AkamaiHeader");return t=void 0!==t&&""!==t?t:"country_code=US",void 0===e||""===e?!0===navigator.globalPrivacyControl||1==navigator.doNotTrack||-1==t.indexOf("country_code=US")?"out":"in":e.indexOf("C0002:1")>-1?"in":"out"}catch(e){console.error(e)}}}},"One Trust - Targeting ":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.cookie.get("OptanonConsent");let t=_satellite.cookie.get("AkamaiHeader");return t=void 0!==t&&""!==t?t:"country_code=US",void 0===e||""===e?!0===navigator.globalPrivacyControl||1==navigator.doNotTrack||-1==t.indexOf("country_code=US")?"opted-out":"opted-in":e.indexOf("C0004:1")>-1?"opted-in":"opted-out"}catch(e){console.error(e)}}}},eVar58:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t=e.element.getAttribute("data-cbdata-reason"),n=e.element.getAttribute("data-cbdata-type"),o=_satellite.getVar("cbpgType"),r=_satellite.getVar("cbpgFunction"),a=_satellite.getVar("cbpgSubFunction"),i=_satellite.getVar("cbpgName"),s=e.element.getAttribute("title");if("Share this article on LinkedIn"!==s&&"Share this article on Facebook"!==s&&"Share this article on Twitter"!==s&&"Share this article over Email"!==s&&"Facebook"!==s&&"Twitter"!==s&&"Linkedin"!==s&&"Youtube"!==s&&"Instagram"!==s&&"Citizens Bank Linkedin"!==s&&"Citizens Bank Twitter"!==s&&"Citizens Bank YouTube"!==s&&"Citizens Bank Instagram"!==s&&"Citizens Bank Facebook"!==s||(s=s.toLowerCase().replace(/\s+/g,"-"),t=t.includes(s)?t:t+s.replace(/\s+/g,"-")),void 0!==t&&""!==t)return o+"|"+r+"|"+a+"|"+i+":"+n+"|"+t}}},"AEP Analytics PageView Object":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(t){return Object.fromEntries(Object.entries(t).filter((([e,t])=>""!==t)).map((([t,n])=>[t,n===Object(n)?e(n):n])))}function t(e){if(Object.keys(e).forEach((n=>{if(e[n]&&"object"==typeof e[n]&&null===t(e[n]))return delete e[n]})),!Object.keys(e).length)return null}function n(e){const t=e.split("|");let n,o,r="";return n="object"==typeof t&&t.find((e=>e.includes("day")))||"",o="object"==typeof t&&t.find((e=>e.includes("time")))||"",r=o.replace(" time=","")+"|"+n.replace(" day=","").replace(/\s/g,""),r}if("object"==typeof CBDL&&"object"==typeof CBDL.pgInfo){let o={},r={},a={},i={},s={},c={value:1},l=JSON.parse(JSON.stringify(CBDL.pgInfo)),d=void 0!==l.cbcountry?l.cbcountry.toLowerCase()+"|"+l.cblanguage.toLowerCase():"Datalayer:conLang Missing",u=void 0!==l.cbwebidentifier?l.cbwebidentifier.toLowerCase():"Datalayer:cbwebidentifier Missing",p=void 0!==l.cbdevice?l.cbdevice.toLowerCase():"Datalayer:cbdevice Missing",g=void 0!==l.cbproduct?l.cbproduct.toLowerCase():"Datalayer:cbproduct Missing",m=void 0!==l.cbtype?l.cbtype.toLowerCase():"Datalayer:cbtype Missing",f=void 0!==l.cbpgproductType?l.cbpgproductType.toLowerCase():"Datalayer:cbpgproductType Missing",h=void 0!==l.cbpgType?l.cbpgType.toLowerCase():"Datalayer:cbpgType Missing",b=void 0!==l.cbpgFunction?l.cbpgFunction.toLowerCase():"Datalayer:cbpgFunction Missing",v=void 0!==l.cbpgSubFunction?l.cbpgSubFunction.toLowerCase():"Datalayer:cbpgSubFunction Missing",y=void 0!==l.cbpgName?l.cbpgName.toLowerCase():"Datalayer:cbpgName Missing",w=void 0!==l.cbpgsubType?l.cbpgsubType.toLowerCase():"Datalayer:cbpgsubType Missing",C=void 0!==l.cbpgName?l.cbproduct.toLocaleLowerCase()+"|"+l.cbpgType.toLocaleLowerCase()+"|"+l.cbpgFunction.toLocaleLowerCase()+"|"+l.cbpgSubFunction.toLocaleLowerCase()+"|"+l.cbpgName.toLocaleLowerCase():"Datalayer: StepinFlow Missing",k=void 0!==l.cbbrand?l.cbbrand.toLowerCase():"Datalayer:cbbrand Missing",E=void 0!==l.cbpgName?g+"|"+h+"|"+b+"|"+v+"|"+y:"Datalayer:stepName Missing",P="cbdotcom",I=_satellite.getVar("previousPageValue"),x=_satellite.getVar("Shopper Pages"),T=_satellite.getVar("getTimeParting"),S=_satellite.getVar("Time Since Last Visit"),j=_satellite.getVar("newRepeat"),O=_satellite.getVar("Visit Numbers").toString(),_=_satellite.getVar("s.campaign"),R=_satellite.getVar("intCampaign"),D=void 0===_satellite.getVar("merkury_hmid")?"":_satellite.getVar("merkury_hmid"),N=void 0===_satellite.getVar("merkury_confidencescore")?"":_satellite.getVar("merkury_confidencescore"),L=_satellite.getVar("offerId"),A=_satellite.getVar("internalsearchterm"),M=null!==_satellite.getVar("demandbaseDataElement1")?_satellite.getVar("demandbaseDataElement1"):"",q=null!==_satellite.getVar("demandbaseDataElement2")?_satellite.getVar("demandbaseDataElement2"):"";r=Object.assign({},{eVar1:d},{eVar2:u},{eVar3:p},{eVar4:g},{eVar5:m},{eVar6:f},{eVar7:h},{eVar8:b},{eVar9:v},{eVar10:y},{eVar18:w},{eVar21:j},{eVar22:S},{eVar24:I},{eVar25:n(T)},{eVar26:O},{eVar31:""},{eVar32:""},{eVar33:""},{eVar34:""},{eVar35:C},{eVar36:R},{eVar45:L},{eVar55:N},{eVar56:D},{eVar59:A},{eVar65:_},{eVar68:x},{eVar73:k},{eVar81:M},{eVar82:q},{eVar85:_satellite.getVar("OneTrustInfo")},{eVar90:E},{eVar181:P}),a=Object.assign({},{prop1:d},{prop2:u},{prop3:p},{prop4:g},{prop5:m},{prop6:f},{prop7:h},{prop8:b},{prop9:v},{prop10:y},{prop18:w},{prop21:j},{prop25:n(T)},{prop27:_satellite.getVar("shortened_pageurl")},{prop35:C},{prop36:R},{prop45:L},{prop47:I},{prop56:D},{prop59:A},{prop60:E},{prop65:_},{prop69:x},{prop73:k});let B=e(r),V=e(a);return s=Object.assign({},"promo-wm-lucy-thankyou"==b&&"complete"==y?{event18:c}:""),o=Object.assign({},{eVars:B},{props:V}),i=Object.assign({},{customDimensions:o},{event1to100:s}),t(i),i}}}},"Shopper Pages":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof CBDL&&"object"==typeof CBDL.pgInfo){pi=JSON.parse(JSON.stringify(CBDL.pgInfo));let n=void 0!==pi.cbpgType?pi.cbpgType.toLowerCase():"Datalayer:cbpgType Missing",o=void 0!==pi.cbpgFunction?pi.cbpgFunction.toLowerCase():"Datalayer:cbpgFunction Missing",r=void 0!==pi.cbpgSubFunction?pi.cbpgSubFunction.toLowerCase():"Datalayer:cbpgSubFunction Missing",a=void 0!==pi.cbproduct?pi.cbproduct.toLocaleLowerCase():"Datalayer:cbproduct Missing",i=void 0!==pi.cbpgName?pi.cbpgName.toLocaleLowerCase():"Datalayer:cbpgName Missing",s=void 0!==pi.cbpgSubtype?pi.cbpgSubtype.toLocaleLowerCase():"Datalayer:cbpgSubtype Missing",c=void 0!==pi.cbpgName?n+"|"+o+"|"+r+"|"+i:"Datalayer:stepName Missing",l=window.location.href||"",d=void 0!==pi.cbpgCategory?pi.cbpgCategory.toLocaleLowerCase():"Datalayer:cbpgCategory Missing";var e={uao:"product",cc:"product",inschool:"product",erl:"product",heloc:"product",mortgage:"product",businessbanking:"product",generic:"gproduct"},t={banking:"product",loans:"product",studentloan:"product",smallbusiness:"product",learning:"learning"};let u=/checking|savings|mma|cds|erl|heloc|inschool|cc-|mortgage|sbchecking|sbsavingsmmaaccount|promo-|partner-/,p=/waytousehomeequity|homeequity-applicationchecklist|investineducation|helocmythsdebunked|inspiringwaystousehomeequity|sl-calculator|teencheckingaccount|whatishomeequitylineofcredit|empoweryourlifewithaheloc|fastline-fastersmarterbetterwaytofinancenextproj/,g=/promo-ccandchecking|promo-studentcombo|partner-b2b/,m=/promo\/checking|promo\/heloc|promo\/credit-card|promo\/mortgage/,f=/helocresources|cc-cardholder|faqs|repaymentstable|scholarship|404-pagenotfound|campaignended|financialcalculator|debitcard|cbolb|ordercheck|mortgage-troublemakingpayments|interstitial|zelle|ira-|checking-directdepositservice|paidearly/;return("product"===e[a]&&(u.test(o)&&"product"===t[n]||"promotion"===s||"learning"===t[n]&&p.test(o))||"gproduct"===e[a]&&g.test(o)||m.test(l)||"shopper"==d)&&!f.test(c)?"shopper":""}}}},cbwebidentifier:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbwebidentifier?CBDL.pgInfo.cbwebidentifier.toLocaleLowerCase():"Datalayer:cbwebidentifier Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},cbpgSubFunction:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgSubFunction?CBDL.pgInfo.cbpgSubFunction.toLocaleLowerCase():"Datalayer:cbpgSubFunction Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},at_property:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){window.targetParamsSegments=window.targetParamsSegments||"",document.location.href.toLowerCase().indexOf("citizensbank.com/homepage.html")>-1&&(window.creativeid="2130801");var e=[{pattern:"qa2.qacitizensbank.com/small-business/overview.",propertyid:"b05f413e-b92e-184b-481f-ad95edbaae4a"},{pattern:"qa2.qacitizensbank.com/homepage.",propertyid:"59211c48-37e5-294f-317f-863c4eb13af9"},{pattern:"qa2.qacitizensbank.com/test/test-homepage.",propertyid:"20596e8e-375d-a4f2-5fdd-da5eb426c208"},{pattern:"qa2.qacitizensbank.com",propertyid:"67bcbbc9-c627-263f-3ed4-2301ed871369"},{pattern:"qa1.qacitizensbank.com",propertyid:"7ed6e09a-30cd-7cc6-5b73-c150750f8660"},{pattern:"qa1.qacitizensbank.com/homepage.",propertyid:"f679a185-2cdc-686f-3274-c897c4af1be1"},{pattern:".com/lr/combo",propertyid:"22d6f91d-edff-669e-b908-da16e8721890"},{pattern:"studentloans.qacitizensbank.com",propertyid:"31c197c2-99ee-d4cf-e5c0-14ec01c21244"},{pattern:"sit1.qacitizensbank.com",propertyid:"67bcbbc9-c627-263f-3ed4-2301ed871369"},{pattern:"www.citizensbank.com/homepage.",propertyid:"7684f9eb-313d-48ca-b3fa-086e0ea5b41e"},{pattern:"www.citizensbank.com/small-business/overview.html",propertyid:"911e13aa-fb9f-c6d7-6265-cfa83709980b"},{pattern:"www.citizensbank.com",propertyid:"941b17b6-9443-7397-dadf-9c7707f27a14"}];for(let n=0;n<e.length;n++)if(window.location.href.toLowerCase().indexOf(e[n].pattern)>-1)try{var t=e[n].propertyid;break}catch(e){}return t}}},getTimeParting:{modulePath:"common-web-sdk-plugins/src/lib/dataElements/gettimeparting.js",settings:{timeZone:"America/New_York"}},previousPageValue:{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"gpv_p5"}},shortened_pageurl:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("string"==typeof document.location.href){var e=document.location.href.split("?").length>=1?location.href.split("?")[0]:"";return(e=e.split("#").length>=1?e.split("#")[0]:e)||""}}}},cbpgFunction:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgFunction||""!==CBDL.pgInfo.cbpgFunction?CBDL.pgInfo.cbpgFunction.toLocaleLowerCase():"Datalayer:cbpgFunction Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},offerId:{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"offerId",caseInsensitive:!0}},newRepeat:{modulePath:"common-web-sdk-plugins/src/lib/dataElements/getnewrepeat.js",settings:{daysBeforeReset:""}},"s.campaign":{storageDuration:"session",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){let e=function(e){for(var t,n=[],o=e.slice(e.indexOf("?")+1).split(/[&#]/),r=0;r<o.length;r++){if(t=o[r].split("="),n.push(t[0]),"WT.mc_id"==t[0])return n[t[0]]=t[1],t[1];if("WTmcid"==t[0])return n[t[0]]=t[1],t[1];if("ctzMode"==t[0])return n[t[0]]=t[1],t[1];if("ctzMcode"==t[0])return n[t[0]]=t[1],t[1]}return""}(document.location.href)||"";return""!==e&&_satellite.cookie.set("campaign_code",e,{expires:1,domain:"www.citizensbank.com"==document.location.hostname?"citizensbank.com":document.location.hostname}),e}}},internalsearchterm:{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"query",caseInsensitive:!0}},adobetarget_decisionscopes:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.location.pathname.includes("/test/test-mboxtesting-dcom")?["blockheadline1","blockitem1","blockitem2","blockitem3","blockitem4","blockitem5","homepage-leaderboard"]:[]}}},"Time Since Last Visit":{modulePath:"common-web-sdk-plugins/src/lib/dataElements/gettimesincelastvisit.js",settings:{}},cbpgproductType:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgproductType?CBDL.pgInfo.cbpgproductType.toLocaleLowerCase():"Datalayer:cbpgproductType Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},channel:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof CBDL){if("object"==typeof CBDL.pgInfo){var e=_satellite.getVar("cbpgType")+"|"+_satellite.getVar("cbpgFunction");return void 0!==e?e.toLocaleLowerCase():"Datalayer:Channel Missing"}return"Datalayer:Page Info Missing"}return"Datalayer:CBDL Missing"}}},"One Trust - Performance":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.cookie.get("OptanonConsent");let t=_satellite.cookie.get("AkamaiHeader");return t=void 0!==t&&""!==t?t:"country_code=US",void 0===e||""===e?!0===navigator.globalPrivacyControl||1==navigator.doNotTrack||-1==t.indexOf("country_code=US")?"opted-out":"opted-in":e.indexOf("C0002:1")>-1?"opted-in":"opted-out"}catch(e){console.error(e)}}}},intCampaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){for(var t,n=[],o=e.slice(e.indexOf("?")+1).split(/[&#]/),r=0;r<o.length;r++){if(t=o[r].split("="),n.push(t[0]),"WT.ac"==t[0])return n[t[0]]=t[1],t[1];if("intcmp"==t[0])return n[t[0]]=t[1],t[1];if("WTac"==t[0])return n[t[0]]=t[1],t[1]}return""}(document.location.href)||""}}},merkury_hmid:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_svDataLayer.hmid"}},wtmcid:{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"WT.mc_id",caseInsensitive:!0}},"AEP XDM Mapping PageView Event":{modulePath:"adobe-alloy/dist/lib/dataElements/xdmObject/index.js",settings:{data:{web:{webPageDetails:{name:"%s.pageName%",pageViews:{value:1}}},marketing:{trackingCode:"%s.campaign%"},_experience:{analytics:"%AEP Analytics PageView Object%"}},sandbox:{name:"prod"}}},demandbaseDataElement1:{defaultValue:"",modulePath:"demandbase/dist/lib/dataElements/demandbasedataelement1.js",settings:{}},cbproduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbproduct?CBDL.pgInfo.cbproduct.toLocaleLowerCase():"Datalayer:cbproduct Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},"Step in Flow":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){if("object"==typeof CBDL){if("object"==typeof CBDL.pgInfo){var e=_satellite.getVar("cbpgType"),t=_satellite.getVar("cbpgFunction"),n=(_satellite.getVar("cbpgSubFunction"),_satellite.getVar("cbpgName")),o=_satellite.getVar("cbproduct")+"|"+e+"|"+t+"||"+n;return void 0!==o?o.toLocaleLowerCase():"Datalayer:eVar35 Missing"}return"Datalayer:Page Info Missing"}return"Datalayer:CBDL Missing"}}},merkury_confidencescore:{defaultValue:"",storageDuration:"session",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_svDataLayer.confidence_score"}},"Visit Numbers":{modulePath:"common-web-sdk-plugins/src/lib/dataElements/getvisitnum.js",settings:{resetPeriod:"30",extendResetPeriod:""}},adobetarget_attributes:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{__adobe:{target:{}}}}}},cbpgsubType:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgsubType?"myposition"===CBDL.pgInfo.cbpgsubType.toLocaleLowerCase()?"learning":CBDL.pgInfo.cbpgsubType.toLocaleLowerCase():"Datalayer:cbpgsubType Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}},cbpgType:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"object"==typeof CBDL?"object"==typeof CBDL.pgInfo?void 0!==CBDL.pgInfo.cbpgType&&"marketing"===CBDL.pgInfo.cbpgType.toLocaleLowerCase()?"wealth":void 0!==CBDL.pgInfo.cbpgType?CBDL.pgInfo.cbpgType.toLocaleLowerCase():"Datalayer:cbpgType Missing":"Datalayer:Page Info Missing":"Datalayer:CBDL Missing"}}}},extensions:{"acronym-gtag.js":{displayName:"Google Global Site Tag (gtag)",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4088787701664ce4bfc67739775f5c33/",settings:{accounts:{1623954588787:{id:"1623954588787",name:"DC-8253365",type:"dc",options:[],accounts:{staging:"",production:"DC-8253365",development:"DC-8253365"},settings:{}},1623954994660:{id:"1623954994660",name:"AW-935344641",type:"aw",options:[],accounts:{staging:"",production:"AW-935344641",development:"AW-935344641"},settings:{conversion_linker:!0,conversion_cookie_prefix:""}},1623955035520:{id:"1623955035520",name:"DC-1791096",type:"dc",options:[],accounts:{staging:"",production:"DC-1791096",development:"DC-1791096"},settings:{}},1623955057476:{id:"1623955057476",name:"AW-373333243",type:"aw",options:[],accounts:{staging:"",production:"AW-373333243",development:"AW-373333243"},settings:{conversion_linker:!0,conversion_cookie_prefix:""}},1623968940945:{id:"1623968940945",name:"DC-8022851",type:"dc",options:[],accounts:{staging:"",production:"DC-8022851",development:"DC-8022851"},settings:{}}},configCode:function(){},functionName:"",dataLayerName:"",preConfigCode:function(){},displayFeatures:!0},modules:{"acronym-gtag.js/src/lib/actions/event.js":{name:"send-gtag.js-event",displayName:"Send an event",script:function(e,t,n,o){"use strict";e.exports=function(e){var t=n("../helpers/loadGtag")(),r=n("../helpers/castOptionTypes"),a=n("../helpers/getAccountId"),i=o.getExtensionSettings(),s={send_to:[]};if("object"==typeof(e=e||{}).accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var c in e.accounts)if(e.accounts.hasOwnProperty(c)&&(!0===e.accounts[c].enabled||"true"===e.accounts[c].enabled)){var l=i.accounts[c];if(void 0===l){o.logger.warn("ACRGTAG-201 - An account was removed in the extension config but is still enabled in the rule");continue}var d=a(l);if("string"==typeof e.accounts[c].label&&""!==e.accounts[c].label){var u=d+"/";e.accounts[c].label.split(",").forEach((function(e){s.send_to.push(u+e.trim().replace(u,""))}))}else s.send_to.push(d)}"object"==typeof e.options&&e.options.length&&e.options.forEach((function(e){s[e[0]]=e[1]})),"function"==typeof e.callback&&(s.event_callback=function(){e.callback.call(this,t)}),(s=r(s)).send_to.length?(t("event",e.name,s),o.logger.log("event fired for accounts "+s.send_to.join(", ")+" with the options:",JSON.stringify(s))):o.logger.warn("ACRGTAG-200 - No accounts enabled for the "+e.name+" event")}else o.logger.warn("ACRGTAG-200 - No accounts enabled for the "+e.name+" event")}}},"acronym-gtag.js/src/lib/actions/load.js":{name:"load-gtag.js-library",displayName:"Preload the gtag.js library",script:function(e,t,n,o){"use strict";e.exports=function(){_satellite.getVar("__acronym_gtag_loaded")?o.logger.info("ACRGTAG-103 - Library already loaded"):n("../helpers/loadGtag")()}}},"acronym-gtag.js/src/lib/helpers/loadGtag.js":{script:function(e,t,n,o){"use strict";e.exports=function(){var e=o.getExtensionSettings(),t=e.dataLayerName||"dataLayer",r=e.functionName||"gtag",a=n("@adobe/reactor-window"),i=n("@adobe/reactor-load-script"),s=n("../helpers/getAccountId"),c=n("../helpers/castOptionTypes"),l="";if(a[r]||(a[t]=a[t]||[],a[r]=function(){Array.isArray(a[t])?a[t].push(arguments):o.logger.error("ACRGTAG-104: Data layer variable '"+t+"' malformed",a[t])},a[r]("js",new Date)),!_satellite.getVar("__acronym_gtag_loaded")){if(_satellite.setVar("__acronym_gtag_loaded",!0),"function"==typeof e.preConfigCode)try{e.preConfigCode(a[r],a[t])}catch(e){o.logger.error("ACRGTAG-101: Custom pre-account config code error:",e)}if(("string"==typeof e.displayFeatures&&"true"!==e.displayFeatures||"string"!=typeof e.displayFeatures&&!Boolean(e.displayFeatures))&&(a[r]("set",{allow_ad_personalization_signals:!1}),o.logger.log("Display features are disabled")),"object"==typeof e.accounts&&null!==e.accounts&&Object.keys(e.accounts).length>0){for(var d in e.accounts)if(e.accounts.hasOwnProperty(d)){var u=e.accounts[d],p=u.settings||{};l=s(u),"object"==typeof u.custom_map&&u.custom_map.length&&(p.custom_map=p.custom_map||{},u.custom_map.forEach((function(e){p.custom_map[e[0]]=e[1]}))),(u.options||[]).forEach((function(e){p[e[0]]=e[1]})),p.send_page_view=!1,p=c(p),a[r]("config",l,p),o.logger.log("account "+l+" was loaded with the options:",JSON.stringify(p))}if("function"==typeof e.configCode)try{e.configCode(a[r],a[t])}catch(e){o.logger.error("ACRGTAG-101: Custom post-account config code error:",e)}}else o.logger.warn("ACRGTAG-102: No accounts configured");var g="gtag.js library";o.logger.log("loading "+g),i("https://www.googletagmanager.com/gtag/js?id="+l+"&l="+t).then((function(){o.logger.log(g+" successfully loaded")}),(function(){o.logger.error("ACRGTAG-100: "+g+" could not be loaded")}))}return a[r]}},name:"get-gtag",shared:!0},"acronym-gtag.js/src/lib/helpers/castOptionTypes.js":{script:function(e){"use strict";e.exports=function(e){var t={bool:function(e){return"string"==typeof e?"true"===e:Boolean(e)},int:function(e){var t=parseInt(e);return isNaN(t)?0:t},float:function(e){var t=parseFloat(e);return isNaN(t)?0:t},csv:function(e){return"string"==typeof e?""===e?void 0:e.split(","):e},custom_map:function(e){var t={};return"string"==typeof e?e.split(",").forEach((function(e){var n=e.split(":");2===n.length&&(t[n[0]]=n[1])})):"object"==typeof e&&(t=e),t}},n={accept_incoming:t.bool,allow_ad_personalization_signals:t.bool,anonymize_ip:t.bool,checkout_step:t.int,cookie_expires:t.int,custom_map:t.custom_map,event_timeout:t.int,fatal:t.bool,levels:t.int,link_attribution:t.bool,linker:{domains:t.csv,accept_incoming:t.bool,decorate_forms:t.bool},non_interaction:t.bool,value:t.float};return Object.keys(e).forEach((function(t){
"function"==typeof n[t]?e[t]=n[t](e[t]):"object"==typeof n[t]&&"object"==typeof e[t]&&null!==e[t]&&Object.keys(e[t]).forEach((function(o){"function"==typeof n[t][o]&&(e[t][o]=n[t][o](e[t][o]))}))})),e}}},"acronym-gtag.js/src/lib/helpers/getAccountId.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){return t||(t=o.environment.stage),"string"==typeof e.accounts[t]&&""!==e.accounts[t]?e.accounts[t]:e.accounts.production}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPdea2007e025e4854a6b4ed545e844745/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return o.location.href;case"hostname":return o.location.hostname;case"pathname":return o.location.pathname;case"protocol":return o.location.protocol;case"referrer":return o.referrer;case"title":return o.title}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-cookie");e.exports=function(e){return o.get(e.name)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("@adobe/reactor-query-string");e.exports=function(e){var t=r.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),a=Object.keys(t),i=0;i<a.length;i++){var s=a[i];if(s.toLowerCase()===n)return t[s]}}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var o=n("../helpers/getObjectProperty.js");e.exports=function(e){return o(window,e.path)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),r=n("../helpers/textMatch");e.exports=function(e){var t=o.location.pathname;return e.paths.some((function(e){var n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)}))}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var o=n("../helpers/stringAndNumberUtils").isString,r=n("../helpers/stringAndNumberUtils").isNumber,a=n("../helpers/stringAndNumberUtils").castToStringIfNumber,i=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&o(e)?e.toLowerCase():e},c=function(e){return function(t,n,r){return t=a(t),n=a(n),o(t)&&o(n)&&e(t,n,r)}},l=function(e){return function(t,n){return t=i(t),n=i(n),r(t)&&r(n)&&e(t,n)}},d=function(e){return function(t,n,o){return e(s(t,o),s(n,o))}},u={equals:d((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(d((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(d((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(d((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,n){return new RegExp(t,n?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:l((function(e,t){return e<t})),lessThanOrEqual:l((function(e,t){return e<=t})),greaterThan:l((function(e,t){return e>t})),greaterThanOrEqual:l((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/conditions/domain.js":{name:"domain",displayName:"Domain",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),r=/[|\\{}()[\]^$+*?.-]/g,a=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")};e.exports=function(e){var t=o.location.hostname;return e.domains.some((function(e){return t.match(new RegExp("(^|\\.)"+a(e)+"$","i"))}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerWindowLoadedTrigger(t)}}},"core/src/lib/conditions/dateRange.js":{name:"date-range",displayName:"Date Range",script:function(e){"use strict";e.exports=function(e){var t=new Date;return!(e.start&&t<new Date(e.start)||e.end&&t>new Date(e.end))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerDomReadyTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,o){"use strict";var r,a,i,s,c=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),d=n("./helpers/decorateCode"),u=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),g=n("./helpers/unescapeHtmlCode"),m=n("../helpers/findPageScript").getTurbine,f=(a=function(e){p(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return r&&"script"===t&&(e.attrs.nonce=r),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=g(e.attrs[t])})),e.src&&(e.src=g(e.src))),e},error:function(e){o.logger.error(e.msg)}})},i=[],s=function(){if(c.body)for(;i.length;)a(i.shift());else setTimeout(s,20)},function(e){i.push(e),s()}),h=function(){if(c.currentScript)return c.currentScript.async;var e=m();return!e||e.async}();e.exports=function(e,t){var n;r=o.getExtensionSettings().cspNonce;var a={settings:e,event:t},i=a.settings.source;if(i)return a.settings.isExternal?u(i).then((function(e){return e?(n=d(a,e),f(n.code),n.promise):l.resolve()})):(n=d(a,i),h||"loading"!==c.readyState?f(n.code):c.write&&!1===o.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):f(n.code),n.promise)}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,n){"use strict";var o=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){o.registerPageBottomTrigger(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("./helpers/createBubbly")(),a=new(n("./helpers/weakMap")),i=2,s=n("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==i)for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var r=t.getAttribute("href"),a=t.getAttribute("target");return r&&(!a||"_self"===a||"_top"===a&&o.top===o||a===o.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",r.evaluateEvent,!0),e.exports=function(e,t){r.addListener(e,(function(n){var r=n.nativeEvent;if(!r.s_fe){var i=s(e.anchorDelay);if(i&&!a.has(r)){var l=c(r);l&&(r.preventDefault(),setTimeout((function(){o.location=l.href}),i)),a.set(r,!0)}t(n)}}))},e.exports.__reset=r.__reset}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,n){"use strict";var o=n("./helpers/createBubbly")(),r=[];e.exports=function(e,t){var n=e.type;-1===r.indexOf(n)&&(r.push(n),window.addEventListener(n,o.evaluateEvent,!0)),o.addListener(e,(function(e){e.nativeEvent.type===n&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),o=e,r=0,a=n.length;r<a;r++){if(null==o)return;o=o[n[r]]}return o}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),r=n("@adobe/reactor-document"),a=-1!==o.navigator.appVersion.indexOf("MSIE 10"),i="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",l=[c,s,i],d=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};l.forEach((function(e){u[e]=[]}));var p=function(e,t){l.slice(0,m(e)+1).forEach((function(e){f(t,e)}))},g=function(){return"complete"===r.readyState?i:"interactive"===r.readyState?a?null:s:void 0},m=function(e){return l.indexOf(e)},f=function(e,t){u[t].forEach((function(t){h(e,t)})),u[t]=[]},h=function(e,t){var n=t.trigger,o=t.syntheticEventFn;n(o?o(e):null)};o._satellite=o._satellite||{},o._satellite.pageBottom=p.bind(null,c),r.addEventListener("DOMContentLoaded",p.bind(null,s),!0),o.addEventListener("load",p.bind(null,i),!0),o.setTimeout((function(){var e=g();e&&p(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[s].push({trigger:e,syntheticEventFn:d.bind(null,r)})},registerWindowLoadedTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:d.bind(null,o)})}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},o=function(e){return t(e)?String(e):e},r=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:o,castToNumberIfString:r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var o=n("./decorators/decorateGlobalJavaScriptCode"),r=n("./decorators/decorateNonGlobalJavaScriptCode"),a={javascript:function(e,t){return e.settings.global?o(e,t):r(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return a[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),r=n("./getSourceByUrl"),a=o.resolve();e.exports=function(e){var t=new o((function(t){var n=r(e);o.all([n,a]).then((function(e){var n=e[0];t(n)}))}));return a=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var n,o;n=this,o=function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n(1));e.exports=r.default},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(){}function i(){var e=m.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=s.apply(void 0,e),t.afterStreamStart()}}function s(e,t,n){function o(e){e=n.beforeWrite(e),f.write(e),n.afterWrite(e)}(f=new d.default(e,n)).id=g++,f.name=n.name||f.id,c.streams[f.name]=f;var r=e.ownerDocument,s={close:r.close,open:r.open,write:r.write,writeln:r.writeln};l(r,{close:a,open:a,write:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(t.join("")+"\n")}});var u=f.win.onerror||a;return f.win.onerror=function(e,t,o){n.error({msg:e+" - "+t+": "+o}),u.apply(f.win,[e,t,o])},f.write(t,(function(){l(r,s),f.win.onerror=u,n.done(),f=null,i()})),f}function c(e,t,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return m=[],f=null,void(g=0);n=u.defaults(n,p);var o=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function(){o.stream?o.stream.abort():o[1]=a}},n.beforeEnqueue(o),m.push(o),f||i(),e.postscribe}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=c;var d=r(n(2)),u=o(n(4)),p={afterAsync:a,afterDequeue:a,afterStreamStart:a,afterWrite:a,autoFix:!0,beforeEnqueue:a,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:a,error:function(e){throw new Error(e.msg)},releaseAsync:!1},g=0,m=[],f=null;l(c,{streams:{},queue:m,WriteStream:d.default})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=p+t,o=e.getAttribute(n);return d.existy(o)?String(o):o}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=p+t;d.existy(n)&&""!==n?e.setAttribute(o,n):e.removeAttribute(o)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=r(n(3)),d=o(n(4)),u=!1,p="data-ps-",g="ps-style",m="ps-script",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.root=t,this.options=n,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],s(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();d.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,n=void 0,o=void 0,r=[];(t=this.parser.readToken())&&!(n=d.isScript(t))&&!(o=d.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);r.length>0&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),o&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,n=[],o=[],r=[],a=e.length,i=0;i<a;i++){var s=e[i],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var l=t++;o.push(c.replace(/(\/?>)/," "+p+"id="+l+" $1")),s.attrs.id!==m&&s.attrs.id!==g&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+p+"proxyof="+l+(s.unary?" />":">"))}}else o.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:o.join(""),proxy:r.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];d.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!i(e,"proxyof")){n&&(this.actuals[i(e,"id")]=e,s(e,"id"));var o=e.parentNode&&i(e.parentNode,"proxyof");o&&this.actuals[o].appendChild(e)}t.unshift.apply(t,d.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,g),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var n=this._buildScript(e),o=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,o?r:function(){t(),r()}));try{this._insertCursor(n,m),n.src&&!o||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return d.eachKey(e.attrs,(function(e,n){t.setAttribute(e,n)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function n(){e=e.onload=e.onreadystatechange=e.onerror=null}function o(){n(),null!=t&&t(),t=null}function r(e){n(),i(e),null!=t&&t(),t=null}function a(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var i=this.options.error;a(e,"load"),a(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){r({msg:"onload handler failed "+t+" @ "+e.src})}o()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void r({msg:"onerror handler failed "+t+" @ "+e.src})}r({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&o()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=f},function(e){var t;t=function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=o(n(1));e.exports=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(n(2)),s=r(n(3)),c=o(n(6)),l=n(5),d={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,e),this.stream=n;var r=!1,s={};for(var l in i)i.hasOwnProperty(l)&&(o.autoFix&&(s[l+"Fix"]=!0),r=r||s[l+"Fix"]);r?(this._readToken=(0,c.default)(this,s,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,s,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in d)if(d.hasOwnProperty(e)&&d[e].test(this.stream)){var t=s[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var p in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,l.escapeQuotes)(e[n],null));return t},u.supports=i,i)i.hasOwnProperty(p)&&(u.browserHasFlaw=u.browserHasFlaw||!i[p]&&p)},function(e,t){"use strict";t.__esModule=!0;var n=!1,o=!1,r=window.document.createElement("div");try{var a="<P><I></P></I>";r.innerHTML=a,t.tagSoup=n=r.innerHTML!==a}catch(e){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=o=2===r.childNodes.length}catch(e){t.selfClose=o=!1}r=null,t.tagSoup=n,t.selfClose=o},function(e,t,n){"use strict";function o(e){var t=e.indexOf("-->");if(t>=0)return new l.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new l.CharsToken(t>=0?t:e.length)}function a(e){var t,n,o;if(-1!==e.indexOf(">")){var r=e.match(d.startTag);if(r){var a=(t={},n={},o=r[2],r[2].replace(d.attr,(function(e,r){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[r]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(r)&&r||"":t[r]="",o=o.replace(e,"")})),{v:new l.StartTagToken(r[1],r[0].length,t,n,!!r[3],o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===a?"undefined":c(a)))return a.v}}}function i(e){var t=a(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var o=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(o)return new l.AtomicTagToken(t.tagName,o[0].length+t.length,t.attrs,t.booleanAttrs,o[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=o,t.chars=r,t.startTag=a,t.atomicTag=i,t.endTag=s;var l=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var r=n(5),a=(t.Token=function e(t,n){o(this,e),this.type=t,this.length=n,this.text=""},t.CommentToken=function(){function e(t,n){o(this,e),this.type="comment",this.length=n||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){o(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,n,r,a,i){o(this,e),this.type=t,this.length=r,this.text="",this.tagName=n,this.attrs=a,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+e.tagName;for(var o in e.attrs)if(e.attrs.hasOwnProperty(o)){n+=" "+o;var a=e.attrs[o];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[o]||(n+='="'+(0,r.escapeQuotes)(a)+'"')}return e.rest&&(n+=" "+e.rest),e.unary&&!e.html5Unary?n+="/>":n+=">",null!=t&&(n+=t+"</"+e.tagName+">"),n},e}());t.StartTagToken=function(){function e(t,n,r,a,i,s){o(this,e),this.type="startTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=a,this.html5Unary=!1,this.unary=i,this.rest=s}return e.prototype.toString=function(){return a.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,n,r,a,i){o(this,e),this.type="atomicTag",this.length=n,this.text="",this.tagName=t,this.attrs=r,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=i}return e.prototype.toString=function(){return a.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,n){o(this,e),this.type="endTag",this.length=n,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function n(e){return e&&"startTag"===e.type&&(e.unary=s.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function o(e,t){var o=e.stream,r=n(t());return e.stream=o,r}function r(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function a(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function i(e,t,i){function s(){var t=o(e,i);t&&d[t.type]&&d[t.type](t)}var l=a(),d={startTag:function(n){var o=n.tagName;"TR"===o.toUpperCase()&&l.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),s()):t.selfCloseFix&&c.test(o)&&l.containsTagName(o)?l.lastTagNameEq(o)?r(e,l):(e.prepend("</"+n.tagName+">"),s()):n.unary||l.push(n)},endTag:function(n){l.last()?t.tagSoupFix&&!l.lastTagNameEq(n.tagName)?r(e,l):l.pop():t.tagSoupFix&&(i(),s())}};return function(){return s(),n(i())}}t.__esModule=!0,t.default=i;var s=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function n(e){return null!=e}function o(e){return"function"==typeof e}function r(e,t,n){var o=void 0,r=e&&e.length||0;for(o=0;o<r;o++)t.call(n,e[o],o)}function a(e,t,n){for(var o in e)e.hasOwnProperty(o)&&t.call(n,o,e[o])}function i(e,t){return e=e||{},a(t,(function(t,o){n(e[t])||(e[t]=o)})),e}function s(e){try{return Array.prototype.slice.call(e)}catch(o){var t=(n=[],r(e,(function(e){n.push(e)})),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function l(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function d(e){return l(e,"script")}function u(e){return l(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=n,t.isFunction=o,t.each=r,t.eachKey=a,t.defaults=i,t.toArray=s,t.last=c,t.isTag=l,t.isScript=d,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof t?t.postscribe=o():n.postscribe=o()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return o.innerHTML=e,o.textContent||o.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-document"),r=function(e){for(var t=o.querySelectorAll("script"),n=0;n<t.length;n++){var r=t[n];if(e.test(r.src))return r}},a=function(){return r(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:a,byRegexPattern:r}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:o.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-promise"),r=0;e.exports=function(e,t){var n="_runScript"+ ++r,a=new o((function(t,r){_satellite[n]=function(a){delete _satellite[n],new o((function(t){t(a.call(e.event.element,e.event,e.event.target,o))})).then(t,r)}}));return{code:'<script>_satellite["'+n+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:a}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-promise"),a=0,i={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=i[e];t&&(delete i[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=i[e];t&&(delete i[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},l=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return l(e)&&(t=o.replaceTokens(t,e.event)),s(t)?(n=new r((function(e,t){i[String(a)]={resolve:e,reject:t}})),t=c(t,a),a+=1):n=r.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-promise"),a=n("../../helpers/findPageScript").byRegexPattern,i={},s={},c=function(e){return s[e]||(s[e]=o(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var o=new RegExp(".*"+e+".*");n=a(o).getAttribute("src")}i[n]=t},e.exports=function(e){return i[e]?r.resolve(i[e]):new r((function(t){c(e).then((function(){t(i[e])}),(function(){t()}))}))}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var o=n("./weakMap"),r=n("./matchesProperties"),a=n("./matchesSelector");e.exports=function(){var e=[],t=new o,n={addListener:function(t,n){e.push({settings:t,callback:n})},evaluateEvent:function(n,o){if(e.length&&!t.has(n)){for(var i=n.target,s=!1;i;){for(var c=!1,l=!1,d=0;d<e.length;d++){var u=e[d],p=u.settings.elementSelector,g=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!s)&&(i===n.target||!1!==u.settings.bubbleFireIfParent)&&(i===n.target||p||g&&Object.keys(g).length)&&(!p||a(i,p))&&(!g||r(i,g))){var m={};o?Object.keys(n).forEach((function(e){m[e]=n[e]})):m.nativeEvent=n,m.element=i,m.target=n.target,!1!==u.callback(m)&&(l=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;l&&(s=!0),i=i.parentNode}t.set(n,!0)}},__reset:function(){e=[]}};return n}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window").WeakMap;if(void 0===o){var r=Object.defineProperty,a=Date.now()%1e9;(o=function(){this.name="__st"+(1e9*Math.random()>>>0)+a+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=o}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var o=n("./../../helpers/textMatch"),r=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0}
;e.exports=function(e,t){return!t||t.every((function(t){var n=r(e,t.name),a=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return o(n,a)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,o){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(e){return o.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}}}},"common-web-sdk-plugins":{displayName:"Common Web SDK Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP72fbeb9839644a1daa8eca9f84e02dcf/",modules:{"common-web-sdk-plugins/src/lib/dataElements/gettimeparting.js":{name:"gettimeparting",displayName:"getTimeParting",script:function(e){"use strict";function t(e){if("-v"===e)return{plugin:"getTimeParting",version:"7.0.0"};e=document.documentMode?void 0:e||"Etc/GMT";var t=(new Date).toLocaleDateString("en-US",{timeZone:e,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),n=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(t);return"year="+n[4]+" | month="+n[2]+" | date="+n[3]+" | day="+n[1]+" | time="+(n[6]+n[7])}e.exports=function(e){return t(e.timeZone)}}},"common-web-sdk-plugins/src/lib/dataElements/getnewrepeat.js":{name:"getnewrepeat",displayName:"getNewRepeat",script:function(e,t,n){"use strict";function o(e){if("-v"===e)return{plugin:"getNewRepeat",version:"4.0"};var t="s_nr"+(e=e||30),n=new Date,o=r.get(t)||"",a=o.split("-"),i=n.getTime();return n.setTime(i+864e5*e),""===o||i-a[0]<18e5&&"New"===a[1]?(r.set(t,i+"-New",{expires:n}),"New"):(r.set(t,i+"-Repeat",{expires:n}),"Repeat")}const r=n("@adobe/reactor-cookie");e.exports=function(e){return o(e.daysBeforeReset)}}},"common-web-sdk-plugins/src/lib/dataElements/gettimesincelastvisit.js":{name:"gettimesincelastvisit",displayName:"getTimeSinceLastVisit",script:function(e,t,n){"use strict";function o(){function e(e,t,n){function o(e,t,n,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==o&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var r="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,r="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,r="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,r="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,r="seconds",n=isNaN(n)?.2:t/n),0===(r=Math.round(e*n/t)/n+" "+r).indexOf("1 ")&&(r=r.substring(0,r.length-1)),r}}if(arguments&&"-v"===arguments[0])return{plugin:"getTimeSinceLastVisit",version:"2.0"};var t=new Date,n=t.getTime(),o=n+18e5,i=r.get("s_tslv")||0,s=n-i,c=Math.round(s/1e3);return t.setTime(n+63072e6),r.set("s_tslv",n,{expires:t}),i?c>1800||r.get("s_inv")?(r.get("s_inv")&&(c=r.get("s_inv")),r.set("s_inv",c,{expires:o}),"0"!==c?e(c):"New Visitor"):"":(r.set("s_inv","0",{expires:o}),"New Visitor")}const r=n("@adobe/reactor-cookie");e.exports=function(){return o()}}},"common-web-sdk-plugins/src/lib/dataElements/getvisitnum.js":{name:"getvisitnum",displayName:"getVisitNum",script:function(e,t,n){"use strict";function o(e,t){function n(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function o(e){var t=new Date,n=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(n=6-t.getDay()),"m"===e){n=t.getMonth()+1;var o=t.getFullYear();n=new Date(o||1970,n||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+n),"y"===e&&(t.setMonth(11),t.setDate(31)),t}if("-v"===e)return{plugin:"getVisitNum",version:"5.0.0"};e=e||365,t=void 0!==t?Boolean(t):!!n(e);var a=(new Date).getTime(),i=o(e),s=new Date;if(s.setTime(s.getTime()+18e5),r.get("s_vnc"+e))var c,l=r.get("s_vnc"+e).split("&vn="),d=l[1];return r.get("s_ivc")?d?(r.set("s_ivc",!0,{expires:s}),d):"unknown visit number":void 0!==d?(d++,c=t&&n(e)?a+864e5*e:l[0],i.setTime(c),r.set("s_vnc"+e,c+"&vn="+d,{expires:i}),r.set("s_ivc",!0,{expires:s}),d):(c=n(e)?a+864e5*e:o(e).getTime(),r.set("s_vnc"+e,c+"&vn=1",{expires:i}),r.set("s_ivc",!0,{expires:30}),"1")}const r=n("@adobe/reactor-cookie");e.exports=function(e){return o(e.resetPeriod,e.extendResetPeriod)}}}}},"adobe-alloy":{displayName:"Adobe Experience Platform Web SDK",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP9b2d0d56e6f54e59b8eeea740ab515a3/",settings:{instances:[{name:"alloy",edgeDomain:"smetrics.citizensbank.com",edgeConfigId:"96a73d33-6475-4b55-950b-06851d3f516f",prehidingStyle:"body {opacity: 0 !important}\n/*body {opacity: 0 !important}\nbody {opacity: 0}\n#ls-area-body {visibility:hidden !important}\n#ls-area-body {opacity: 0 !important}\n#dcom_hero_global {opacity: 0 !important}\n*/",clickCollection:{internalLinkEnabled:!1},onBeforeEventSend:function(e){try{let t=void 0!==_satellite.getVar("ECID")?_satellite.getVar("ECID"):"",n=/citizensbank.com|citizensbankonline.com|citizensone.com|citizensaccess.com|citizensstudentloans.com|citizensbankri.mortgagewebcenter.com|citizensone.mortgagewebcenter.com|citizensbankpersonalloans.com|creditcardsapplynow.com|citizensonepersonalloans.com|studentloancitizens.com|citizensstudentloandja.com|yextpages.net|blendlabs.com|citizensprecheckup.com|tsysecom.com|citizensapplynow.com|citizenscommercialbanking.com|citizensone.customercarenet.com|willamette.com|clarfeld.com|fundation.com/,o=Object.assign({},{eVar31:""},{eVar32:""},{eVar33:""},{eVar34:""}),r={_experience:{analytics:{customDimensions:{eVars:o}}}};if(e&&e.xdm&&(void 0!==e.xdm._experience&&void 0!==e.xdm._experience.analytics&&void 0!==e.xdm._experience.analytics.customDimensions&&void 0!==e.xdm._experience.analytics.customDimensions.eVars&&(e.xdm._experience.analytics.customDimensions.eVars.eVar62=t),e.xdm.web&&e.xdm.web.webInteraction)){if(e.xdm.web.webPageDetails&&(e.xdm.web.webPageDetails.name=_satellite.getVar("s.pageName")||""),"download"!==e.xdm.web.webInteraction.type&&("other"===e.xdm.web.webInteraction.type||e.xdm.web.webInteraction.URL&&n.test(e.xdm.web.webInteraction.URL))&&void 0===e.xdm._experience)return!1;let t=void 0!==e.xdm.web.webInteraction.type?e.xdm.web.webInteraction.type:"";o.eVar31="exit"==t&&e.xdm.web.webInteraction.URL||"",o.eVar32="exit"==t&&e.xdm.web.webPageDetails.name||"",o.eVar33="download"==t&&e.xdm.web.webInteraction.URL||"",o.eVar34="download"==t&&e.xdm.web.webPageDetails.name||"",void 0===e.xdm._experience&&Object.assign(e.xdm,r)}}catch(e){}},edgeConfigOverrides:{production:{enabled:!0,com_adobe_target:{propertyToken:"%at_property%"},com_adobe_analytics:{reportSuites:["citizensbankglobalprod"]}},development:{enabled:!0,com_adobe_target:{propertyToken:"%at_property%"},com_adobe_analytics:{reportSuites:["citizensbankglobaldev"]}}},stagingEdgeConfigId:"a3debc1c-c161-45f1-9055-e7ef5aedaa25",onBeforeLinkClickSend:function(e){console.log("auto click tracking log",e)},targetMigrationEnabled:!0,developmentEdgeConfigId:"a3debc1c-c161-45f1-9055-e7ef5aedaa25",autoCollectPropositionInteractions:{AJO:"never"}}]},modules:{"adobe-alloy/dist/lib/dataElements/xdmObject/index.js":{name:"xdm-object",displayName:"XDM object",script:function(e){"use strict";e.exports=e=>e.data}},"adobe-alloy/dist/lib/dataElements/variable/index.js":{name:"variable",displayName:"Variable",script:function(e,t,n){"use strict";const{variableStore:o}=n("../../index");e.exports=e=>o[e.dataElementId]||{}}},"adobe-alloy/dist/lib/actions/updateVariable/index.js":{name:"update-variable",displayName:"Update variable",script:function(e,t,n){"use strict";const{deepAssign:o}=n("../../alloy"),{variableStore:r}=n("../../index"),a=n("./createUpdateVariable");e.exports=a({variableStore:r,deepAssign:o})}},"adobe-alloy/dist/lib/actions/sendEvent/index.js":{name:"send-event",displayName:"Send event",script:function(e,t,n,o){"use strict";var r;const a=n("./createSendEvent"),i=n("../../instanceManager/index"),{sendEventCallbackStorage:s}=n("../../index"),c=n("../../utils/createGetConfigOverrides");e.exports=a({instanceManager:i,sendEventCallbackStorage:s,getConfigOverrides:c(null===(r=o.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/actions/redirectWithIdentity/index.js":{name:"redirect-with-identity",displayName:"Redirect with identity",script:function(e,t,n,o){"use strict";var r;const a=n("./createRedirectWithIdentity"),i=n("../../instanceManager/index"),s=n("../../utils/createGetConfigOverrides");e.exports=a({instanceManager:i,window:window,logger:o.logger,getConfigOverrides:s(null===(r=o.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/instanceManager/index.js":{script:function(e,t,n,o){"use strict";var r;const{createCustomInstance:a,createEventMergeId:i,components:s}=n("../alloy"),c=n("./createInstanceManager"),l=n("./injectWrapOnBeforeEventSend"),d=n("../utils/createGetConfigOverrides"),u=l({version:"2.29.0"});e.exports=c({turbine:o,window:window,createCustomInstance:a,components:s,createEventMergeId:i,orgId:_satellite.company.orgId,wrapOnBeforeEventSend:u,getConfigOverrides:d(null===(r=o.environment)||void 0===r?void 0:r.stage)})}},"adobe-alloy/dist/lib/index.js":{script:function(e,t,n){"use strict";const o=n("./createEventMergeIdCache"),r=n("./createSendEventCallbackStorage"),a=n("./createMediaCollectionSessionStorage"),i=n("./createVariableStore");t.eventMergeIdCache=o(),t.sendEventCallbackStorage=r(),t.mediaCollectionSessionStorage=a(),t.variableStore=i()}},"adobe-alloy/dist/lib/createEventMergeIdCache.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{set(t,n){e[t]=n},getByCacheId:t=>e[t],clearByEventMergeId(t){Object.keys(e).forEach((n=>{e[n]===t&&delete e[n]}))}}}}},"adobe-alloy/dist/lib/createSendEventCallbackStorage.js":{script:function(e){"use strict";e.exports=()=>{const e=[];return{add(t){e.push(t)},triggerEvent(t){e.forEach((e=>{e(t)}))}}}}},"adobe-alloy/dist/lib/createMediaCollectionSessionStorage.js":{script:function(e){"use strict";e.exports=()=>{const e={};return{add({playerId:t,sessionDetails:n}){if(e[t])throw new Error(`Player Id ${t} already exists`);e[t]=n},remove({playerId:t}){e[t]=void 0},get:({playerId:t})=>e[t]}}}},"adobe-alloy/dist/lib/createVariableStore.js":{script:function(e){"use strict";e.exports=()=>({})}},"adobe-alloy/dist/lib/alloy.js":{script:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}function a(e,t){function n(n,o,a){if("undefined"!=typeof document){"number"==typeof(a=r({},t,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s].split(";")[0]));return document.cookie=n+"="+e.write(o,n)+i}}function o(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var a=n[r].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(o[s]=e.read(i,s),t===s)break}catch(e){}}return t?o[t]:o}}return Object.create({set:n,get:o,remove:function(e,t){n(e,"",r({},t,{expires:-1}))},withAttributes:function(e){return a(this.converter,r({},this.attributes,e))},withConverter:function(e){return a(r({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}function i(e,t=0){return(ln[e[t+0]]+ln[e[t+1]]+ln[e[t+2]]+ln[e[t+3]]+"-"+ln[e[t+4]]+ln[e[t+5]]+"-"+ln[e[t+6]]+ln[e[t+7]]+"-"+ln[e[t+8]]+ln[e[t+9]]+"-"+ln[e[t+10]]+ln[e[t+11]]+ln[e[t+12]]+ln[e[t+13]]+ln[e[t+14]]+ln[e[t+15]]).toLowerCase()}function s(){if(!dn){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dn=crypto.getRandomValues.bind(crypto)}return dn(un)}function c(e,t,n){if(pn.randomUUID&&!t&&!e)return pn.randomUUID();const o=(e=e||{}).random??e.rng?.()??s();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=o[e];return t}return i(o)}function l(e){return"object"==typeof e||void 0===e}function d(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o===String(n[e]).toLowerCase())return!0;return!1}}}function u(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o===String(n[e]).toLowerCase())return!1;return!0}}}function p(){return{matches:(e,t)=>void 0!==e[t]&&null!==e[t]}}function g(){return{matches:(e,t)=>void 0===e[t]||null===e[t]}}function m(e){return"number"==typeof e}function f(){return{matches:(e,t,n=[])=>{const o=e[t];if(!m(o))return!1;for(let e=0;e<n.length;e+=1)if(m(n[e])&&o>n[e])return!0;return!1}}}function h(){return{matches:(e,t,n=[])=>{const o=e[t];if(!m(o))return!1;for(let e=0;e<n.length;e+=1)if(m(n[e])&&o>=n[e])return!0;return!1}}}function b(){return{matches:(e,t,n=[])=>{const o=e[t];if(!m(o))return!1;for(let e=0;e<n.length;e+=1)if(m(n[e])&&o<n[e])return!0;return!1}}}function v(){return{matches:(e,t,n=[])=>{const o=e[t];if(!m(o))return!1;for(let e=0;e<n.length;e+=1)if(m(n[e])&&o<=n[e])return!0;return!1}}}function y(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!0;return!1}}}function w(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&-1!==o.indexOf(String(n[e]).toLowerCase()))return!1;return!0}}}function C(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o.startsWith(String(n[e]).toLowerCase()))return!0;return!1}}}function k(){return{matches:(e,t,n=[])=>{if(l(e[t]))return!1;const o=String(e[t]).toLowerCase();for(let e=0;e<n.length;e+=1)if(!l(n[e])&&o.endsWith(n[e].toLowerCase()))return!0;return!1}}}function E(e){return Sp[e]}function P(e){return void 0===e}function I(e){return Object.keys(e)}function x(e,t,n){switch(t){case Ip.GREATER_THAN:return e>n;case Ip.GREATER_THAN_OR_EQUAL_TO:return e>=n;case Ip.LESS_THAN:return e<n;case Ip.LESS_THAN_OR_EQUAL_TO:return e<=n;case Ip.EQUALS:return e===n;case Ip.NOT_EQUALS:return e!==n;default:return!1}}function T(e,t){for(let n=0;n<t.length;n+=1)if(!P(e[t[n]]))return e[t[n]]}function S(e,t){const n=I(e);for(let o=0;o<n.length;o+=1){const r=n[o],{event:a={}}=t;if(a[n[o]]!==e[r])return!1}return!0}function j(e,t,n,o){return e.reduce(((e,r)=>{const a=T(r,jp);if(!a)return e;const i=t.events[a];if(!i)return e;const s=T(r,Op);if(!s)return e;const c=i[s];if(!c)return e;if(!S(r,c))return e;const{count:l=1}=c;return P(n)||P(o)||c.timestamp>=n&&c.timestamp<=o?e+l:e}),0)}function O(e,t,n,o){let r=n;return e.every((e=>{const n=T(e,jp);if(!n)return!1;const a=t.events[n];if(!a)return!1;const i=T(e,Op);if(!i)return!1;const s=a[i];if(!S(e,s))return!1;if(null===s||P(s)||0===s.count)return!1;const c=(P(r)||s.timestamp>=r)&&(P(o)||s.timestamp<=o);return r=s.timestamp,c}))?1:0}function _(e,t){let n=!0;for(let o=0;o<t.length;o+=1)n=n&&t[o].evaluate(e);return n}function R(e,t){let n=!1;for(let o=0;o<t.length;o+=1)if(n=n||t[o].evaluate(e),n)return!0;return!1}function D(e,t,n){return{version:e,rules:t,metadata:n}}function N(e,t,n){return{key:n,execute:n=>e.evaluate(n)?t:[],toString:()=>`Rule{condition=${e}, consequences=${t}}`}}function L(e,t){return{evaluate:e=>t.evaluate(e),toString:()=>`Condition{type=${e}, definition=${t}}`}}function A(e,t,n){return{id:e,type:t,detail:n}}function M(e,t){return{evaluate:n=>xp.AND===e?_(n,t):xp.OR===e&&R(n,t)}}function q(e,t,n){return{evaluate:o=>{const r=E(t);return!!r&&r.matches(o,e,n)}}}function B(e,t,n,o,r,a){return{evaluate:i=>{let s;return s=Tp.ORDERED===a?O(e,i,o,r):j(e,i,o,r),x(s,t,n)}}}function V(e,t){return Object.assign(e,t)}function F(e){const{key:t,matcher:n,values:o}=e;return q(t,n,o)}function U(e){const{logic:t,conditions:n}=e;return M(t,n.map(z))}function $(e){const{events:t,from:n,to:o,matcher:r,value:a,searchType:i}=e;return B(t,r,a,n,o,i)}function z(e){const{type:t,definition:n}=e;if(Pp.MATCHER===t)return L(t,F(n));if(Pp.GROUP===t)return L(t,U(n));if(Pp.HISTORICAL===t)return L(t,$(n));throw new Error("Can not parse condition")}function H(e){const{id:t,type:n,detail:o}=e;return A(t,n,o)}function W(e){const{condition:t,consequences:n,key:o}=e;return N(z(t),n.map(H),o)}function J(e){if(e)return{provider:e.provider,providerData:V({},e.providerData)}}function G(e){const{version:t,rules:n,metadata:o}=e;return D(t,n.map(W),J(o))}function Z(e){return{provider:Rp,execute:t=>e.map((e=>e.execute(t))).filter((e=>e.length>0))}}function Q(e){const{providerData:t}=e;if(!t)throw new Error("Provider data is missing in metadata");const{identityTemplate:n,buckets:o}=t;if(!n)throw new Error("Identity template is missing in provider data");if(!o)throw new Error("Buckets is missing in provider data")}function X(e){const{xdm:t}=e;if(!t)throw new Error("XDM object is missing in the context");const{identityMap:n}=t;if(!n)throw new Error("Identity map is missing in the XDM object");const o=n[Dp];if(!o)throw new Error("ECID identity namespace is missing in the identity map");if(!Array.isArray(o)||0===o.length)throw new Error("ECID identities array is empty or not an array");const r=o[0].id;if(!r)throw new Error("ECID identity is missing in the identities array");return r}function Y(e,t,n){const{providerData:o}=n,{identityTemplate:r}=o;return r.replace(Np,t).replace(Lp,e)}function K(e){return!P(e)}function ee(e,t=(e=>e[0])){const n={};return function(...o){const r=t(o);return K(n[r])||(n[r]=e(...o)),n[r]}}function te(e,t){const n=65535&t;return((t-n)*e|0)+(n*e|0)|0}function ne(e,t=0){let n;const o=e.length,r=3432918353,a=461845907;let i=t;const s=-2&o;for(let t=0;t<s;t+=2)n=e.charCodeAt(t)|e.charCodeAt(t+1)<<16,n=te(n,r),n=(131071&n)<<15|n>>>17,n=te(n,a),i^=n,i=(524287&i)<<13|i>>>19,i=5*i+3864292196|0;return o%2==1&&(n=e.charCodeAt(s),n=te(n,r),n=(131071&n)<<15|n>>>17,n=te(n,a),i^=n),i^=o<<1,i^=i>>>16,i=te(i,2246822507),i^=i>>>13,i=te(i,3266489909),i^=i>>>16,i}function oe(e,t){const n=Ap(e),o=Math.abs(n)%t/t*Mp;return Math.round(o*Mp)/Mp}function re(e,t,n){return{allocation:qp(e,t),...n}}function ae(e){const t={};for(let n=0;n<e.length;n+=1){const o=e[n];o.key&&(t[o.key]||(t[o.key]=[]),t[o.key].push(o))}return t}function ie(e,t){return t.map((t=>t.execute(e))).filter((e=>e.length>0))}function se(e,t){Q(t);const n=e.filter((e=>!e.key)),o=ae(e),{buckets:r}=t.providerData;return{provider:_p,execute:e=>{const a=X(e),i=ie(e,n),s=I(o),c=[];for(let n=0;n<s.length;n+=1){const i=s[n],l=o[i],d=ie(re(Y(a,i,t),r,e),l);c.push(...d)}return[...i,...c]}}}function ce(e,t){if(!t)return Z(e);const{provider:n}=t;return n===_p?se(e,t):Z(e)}function le(e){const{rules:t,metadata:n}=G(e);return ce(t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepAssign=t.createEventMergeId=t.createCustomInstance=t.components=void 0;var de=o(n("@adobe/reactor-query-string")),ue=e=>null==e,pe=e=>!ue(e)&&!Array.isArray(e)&&"object"==typeof e,ge=(...e)=>e.length<2?Object.assign(...e):e.reduce(((e,t)=>(pe(t)&&Object.keys(t).forEach((n=>{Array.isArray(t[n])?Array.isArray(e[n])?e[n].push(...t[n]):e[n]=[...t[n]]:e[n]=t[n]})),e))),me=a({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),fe={get:me.get.bind(me),set:me.set.bind(me),remove:me.remove.bind(me),withConverter:me.withConverter.bind(me)};const he=(e,t)=>{Object.keys(t).forEach((n=>{pe(e[n])&&pe(t[n])?he(e[n],t[n]):e[n]=t[n]}))};var be=(e,...t)=>{if(ue(e))throw new TypeError('deepAssign "target" cannot be null or undefined');const n=Object(e);return t.forEach((e=>he(n,Object(e)))),n};t.deepAssign=be;var ve=(e,t)=>n=>{const o=t.split(".").reduce(((e,t)=>(e[t]=e[t]||{},e[t])),e);be(o,n)},ye=()=>{const e=[];return{add(t){e.push(t)},call:(...t)=>Promise.all(e.map((e=>e(...t))))}},we=({logger:e,cookieJar:t})=>({...t,set(n,o,r){e.info("Setting cookie",{name:n,value:o,...r}),t.set(n,o,r)}}),Ce=()=>{let e=0,t=Promise.resolve();return{addTask(n){e+=1;const o=()=>n().finally((()=>{e-=1}));return t=t.then(o,o),t},get length(){return e}}};const ke=(()=>{const e=[];for(let t=0;t<256;t++){let n=t;for(let e=0;e<8;e++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n=~n;for(let o=0;o<t.length;o++){const r=255&(n^t.charCodeAt(o));n=n>>>8^e[r]}return(n=~n)>>>0}})();var Ee=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e};const Pe=(e,t)=>e===t,Ie=(e,t,n)=>{for(let o=0;o<e.length;o+=1)if(n(e[o],t))return o;return-1};var xe=(e,t=Pe)=>e.filter(((n,o)=>Ie(e,n,t)===o)),Te=(e,t)=>e.appendChild(t);const Se=(e,t)=>{Object.keys(t).forEach((n=>{if("style"===n&&pe(t[n])){const o=t[n];Object.keys(o).forEach((t=>{e.style[t]=o[t]}))}else e[n]=t[n]}))};var je=(e,t={},n={},o=[],r=document)=>{const a=r.createElement(e);return Object.keys(t).forEach((e=>{a.setAttribute(e,t[e])})),Se(a,n),o.forEach((e=>Te(a,e))),a};const Oe="BODY",_e="IFRAME",Re="IMG",De="DIV",Ne="STYLE",Le="SCRIPT",Ae="HEAD";var Me=({src:e,currentDocument:t=document})=>new Promise(((n,o)=>{je(Re,{src:e},{onload:n,onerror:o,onabort:o},[],t)})),qe=e=>"function"==typeof e,Be=e=>Array.isArray(e)&&e.length>0,Ve=e=>Array.isArray(e)?e:null==e?[]:[].slice.call(e);const Fe=/^\s*>/;var Ue=(e,t)=>Fe.test(t)?Ve(e.querySelectorAll(`:scope ${t}`)):Ve(e.querySelectorAll(t)),$e=":shadow";const ze=e=>e.split($e),He=(e,t)=>{const n=t;return n.startsWith(">")?`${e instanceof Element||e instanceof Document?":scope":":host"} ${n}`:n};var We=(e,t)=>{const n=ze(t);if(n.length<2)return Ue(e,t);let o=e;for(let e=0;e<n.length;e+=1){const t=n[e].trim();if(""===t&&o.shadowRoot){o=o.shadowRoot;continue}const r=He(o,t),a=Ue(o,r);if(0===a.length||!a[0]||!a[0].shadowRoot)return a;o=a[0].shadowRoot}},Je=e=>-1!==e.indexOf($e),Ge=(e,t=document)=>Je(e)?We(t,e):Ue(t,e);const Ze="MutationObserver",Qe="requestAnimationFrame",Xe={childList:!0,subtree:!0},Ye="visibilityState",Ke="visible",et=100,tt=5e3,nt=e=>new Error(`Could not find: ${e}`),ot=e=>new Promise(e),rt=e=>qe(e[Ze]),at=(e,t,n,o,r)=>ot(((a,i)=>{let s;const c=new e[Ze]((()=>{const e=r(n);Be(e)&&(c.disconnect(),s&&clearTimeout(s),a(e))}));s=setTimeout((()=>{c.disconnect(),i(nt(n))}),o),c.observe(t,Xe)})),it=e=>e[Ye]===Ke,st=(e,t,n,o)=>ot(((r,a)=>{const i=()=>{const n=o(t);Be(n)?r(n):e[Qe](i)};i(),setTimeout((()=>{a(nt(t))}),n)})),ct=(e,t,n)=>ot(((o,r)=>{const a=()=>{const t=n(e);Be(t)?o(t):setTimeout(a,et)};a(),setTimeout((()=>{r(nt(e))}),t)}));var lt=(e,t=Ge,n=tt,o=window,r=document)=>{const a=t(e);return Be(a)?Promise.resolve(a):rt(o)?at(o,r,e,n,t):it(r)?st(o,e,n,t):ct(e,n,t)},dt=(e,t)=>t.matches?t.matches(e):t.msMatchesSelector(e),ut=e=>{const t=e.parentNode;return t?t.removeChild(e):null};const pt={name:"Adobe Alloy"},gt={style:{display:"none",width:0,height:0}};var mt=({appendNode:e=Te,awaitSelector:t=lt,createNode:n=je,fireImage:o=Me}={})=>{const r=o;let a;const i=()=>t(Oe).then((([t])=>a||(a=n(_e,pt,gt),e(t,a)))),s=({src:e})=>i().then((t=>{const n=t.contentWindow.document;return o({src:e,currentDocument:n})}));return e=>{const{hideReferrer:t,url:n}=e;return t?s({src:n}):r({src:n})}},ft=e=>pe(e)&&0===Object.keys(e).length;const ht=(e,t)=>ue(e)||!pe(e)?e:Object.keys(e).reduce(((n,o)=>{const r=e[o];if(pe(r)){const e=ht(r,t);return ft(e)?n:{...n,[o]:e}}return t(r)?{...n,[o]:r}:n}),{});var bt="com.adobe.alloy.",vt=(e,t)=>e.slice(-t);const yt=`${bt}getTld`;var wt=(e,t)=>{let n="";const o=e.location.hostname.toLowerCase().split(".");let r=1;for(;r<o.length&&!t.get(yt);)r+=1,n=vt(o,r).join("."),t.set(yt,yt,{domain:n});return t.remove(yt,{domain:n}),n},Ct="kndctr",kt=e=>e.replace("@","_"),Et=(e,t)=>`${Ct}_${kt(e)}_${t}`,Pt=(e,t)=>{const n={};return e.forEach((e=>{const o=t(e);n[o]||(n[o]=[]),n[o].push(e)})),n};const It="Chrome",xt="Edge",Tt="EdgeChromium",St="Firefox",jt="IE",Ot="Safari",_t="Unknown";var Rt=e=>{let t,n=!1;return()=>(n||(n=!0,t=e()),t)};const Dt=[It,xt,Tt,jt,_t];var Nt=({getBrowser:e})=>Rt((()=>Dt.includes(e())));const Lt="identity",At="consent",Mt="cluster";var qt=({orgId:e})=>{const t=Et(e,Lt);return()=>Boolean(fe.get(t))};const Bt=(e,t)=>{const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const r=n[o];if(e[r].test(t))return r}return _t};var Vt=({userAgent:e})=>Rt((()=>Bt({[xt]:/Edge\/([0-9\._]+)/,[Tt]:/Edg\/([0-9\.]+)/,[It]:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/,[St]:/Firefox\/([0-9\.]+)(?:\s|$)/,[jt]:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/,[Ot]:/Version\/([0-9\._]+).*Safari/},e)));const Ft=(e,t,n)=>({getItem(o){try{return e[t].getItem(n+o)}catch{return null}},setItem(o,r){try{return e[t].setItem(n+o,r),!0}catch{return!1}},clear(){try{return Object.keys(e[t]).forEach((o=>{o.startsWith(n)&&e[t].removeItem(o)})),!0}catch{return!1}}});var Ut=e=>t=>{const n=bt+t;return{session:Ft(e,"sessionStorage",n),persistent:Ft(e,"localStorage",n)}},$t=(e,t)=>e.filter((e=>t.includes(e))),zt=e=>"boolean"==typeof e,Ht=e=>"number"==typeof e&&!Number.isNaN(e),Wt=e=>{const t=parseInt(e,10);return Ht(t)&&e===t},Jt=(e,t)=>0===t.indexOf(`${Ct}_${kt(e)}_`),Gt=e=>"string"==typeof e,Zt=e=>Gt(e)&&e.length>0,Qt=()=>{};const Xt=e=>{const t={},n=e.split(".");switch(n.length){case 1:t.subdomain="",t.domain=e,t.topLevelDomain="";break;case 2:t.subdomain="",t.domain=e,t.topLevelDomain=n[1];break;case 3:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=n[2];break;case 4:t.subdomain="www"===n[0]?"":n[0],t.domain=e,t.topLevelDomain=`${n[2]}.${n[3]}`}return t},Yt=e=>{try{const t=new URL(e);let n=t.pathname;return e.endsWith("/")||"/"!==n||(n=""),{host:t.hostname,path:n,query:t.search.replace(/^\?/,""),anchor:t.hash.replace(/^#/,"")}}catch{return{}}},Kt=(e,t=Xt)=>{Gt(e)||(e="");const n=Yt(e)||{},{host:o="",path:r="",query:a="",anchor:i=""}=n;return{path:r,query:a,fragment:i,...t(o)}};var en=e=>{if(ue(e)||"object"!=typeof e)return null;const t=ht(e,(e=>!(ue(e)||!zt(e)&&!Ht(e)&&!Zt(e)&&!Be(e))));return ft(t)?null:t},tn=e=>e instanceof Error?e:new Error(e),nn=({error:e,message:t})=>{try{e.message=t}catch{}},on=({error:e,message:t})=>{const n=tn(e),o=`${t}\nCaused by: ${n.message}`;return nn({error:n,message:o}),n},rn=e=>Gt(e)&&"true"===e.toLowerCase(),an=(e,t)=>{if(Ht(e)||Gt(e)){const t=Math.round(Number(e));if(!Number.isNaN(t))return t}return t};const sn=(e,t,n)=>`${e}`.padStart(t,n);var cn=e=>{const t=e.getFullYear(),n=sn(e.getMonth()+1,2,"0"),o=sn(e.getDate(),2,"0"),r=sn(e.getHours(),2,"0"),a=sn(e.getMinutes(),2,"0"),i=sn(e.getSeconds(),2,"0"),s=sn(e.getMilliseconds(),3,"0"),c=an(e.getTimezoneOffset(),0);return`${t}-${n}-${o}T${r}:${a}:${i}.${s}${c>0?"-":"+"}${sn(Math.floor(Math.abs(c)/60),2,"0")}:${sn(Math.abs(c)%60,2,"0")}`};const ln=[];for(let e=0;e<256;++e)ln.push((e+256).toString(16).slice(1));let dn;const un=new Uint8Array(16);var pn={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};const gn=e=>function(t,n){return null==t?t:e.call(this,t,n)},mn=(e,t)=>function(n,o){return t.call(this,e.call(this,n,o),o)},fn=(e,t)=>function(n,o){const r=[],a=[e,t].reduce(((e,t)=>{try{return t.call(this,e,o)}catch(t){return r.push(t),e}}),n);if(r.length)throw new Error(r.join("\n"));return a},hn=(e,t,n)=>Object.assign(mn(e,t),e,n),bn=(e,t,n)=>Object.assign(mn(e,gn(t)),e,n),vn=(e,t,n)=>Object.assign(fn(gn(t),e),e,n),yn=(e,t,n,o)=>{if(!e)throw new Error(`'${n}': Expected ${o}, but got ${JSON.stringify(t)}.`)};var wn=(e,t)=>(yn(zt(e),e,t,"true or false"),e),Cn=(e,t)=>(yn(qe(e),e,t,"a function"),e),kn=(e,t)=>function(n,o){let r;const a=e.find((e=>{try{return r=e.call(this,n,o),!0}catch{return!1}}));return yn(a,n,o,t),r},En=e=>function(t,n){yn(Array.isArray(t),t,n,"an array");const o=[],r=t.map(((r,a)=>{try{return e.call(this,r,`${n}[${a}]`,t)}catch(e){return void o.push(e.message)}}));if(o.length)throw new Error(o.join("\n"));return r},Pn=e=>t=>null==t?e:t,In=(e="This field has been deprecated")=>function(t,n){let o=e;return void 0!==t&&(n&&(o=`'${n}': ${o}`),this&&this.logger&&this.logger.warn(o)),t},xn=e=>(t,n)=>(yn(t===e,t,n,`${e}`),t),Tn=e=>function(t,n){yn(pe(t),t,n,"an object");const o=[],r={};if(Object.keys(t).forEach((a=>{const i=t[a],s=n?`${n}.${a}`:a;try{const t=e.call(this,i,s);void 0!==t&&(r[a]=t)}catch(e){o.push(e.message)}})),o.length)throw new Error(o.join("\n"));return r},Sn=(e,t)=>(n,o)=>(yn(n>=t,n,o,`${e} greater than or equal to ${t}`),n),jn=(e,t)=>(n,o)=>(yn(n<=t,n,o,`${e} less than or equal to ${t}`),n),On=e=>(t,n)=>{const o=[];if(Object.keys(t).forEach((t=>{if(!e[t]){const e=n?`${n}.${t}`:t;o.push(`'${e}': Unknown field.`)}})),o.length)throw new Error(o.join("\n"));return t},_n=e=>(t,n)=>(pe(t)?yn(!ft(t),t,n,e):yn(t.length>0,t,n,e),t),Rn=e=>function(t,n){yn(pe(t),t,n,"an object");const o=[],r={};if(Object.keys(e).forEach((a=>{const i=t[a],s=e[a],c=n?`${n}.${a}`:a;try{const e=s.call(this,i,c);void 0!==e&&(r[a]=e)}catch(e){o.push(e.message)}})),Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(r,e)||(r[e]=t[e])})),o.length)throw new Error(o.join("\n"));return r},Dn=(e,t,n)=>function(o,r){yn(pe(o),o,r,"an object");const{[e]:a,[n]:i,...s}=o,c=t(a,r);if(void 0!==c){let t=`The field '${e}' is deprecated. Use '${n}' instead.`;if(r&&(t=`'${r}': ${t}`),void 0!==i&&i!==c)throw new Error(t);this&&this.logger&&this.logger.warn(t)}return{[n]:i||c,...s}},Nn=()=>{const e=[];return(t,n)=>(yn(-1===e.indexOf(t),t,n,"a unique value across instances"),e.push(t),t)},Ln=e=>{const t=Object.create(null);for(let n=0;n<e.length;n+=1){const o=e[n];if(o in t)return!1;t[o]=!0}return!0},An=()=>(e,t)=>(yn(Ln(e),e,t,"array values to be unique"),e);const Mn=/^[a-z0-9.-]{1,}$/i;var qn=(e,t)=>(yn(Mn.test(e),e,t,"a valid domain"),e),Bn=(e,t)=>(yn(Wt(e),e,t,"an integer"),e),Vn=(e,t)=>(yn(Ht(e),e,t,"a number"),e),Fn=e=>{try{return null!==RegExp(e)}catch{return!1}},Un=(e,t)=>(yn(Fn(e),e,t,"a regular expression"),e),$n=(e,t)=>{if(null==e)throw new Error(`'${t}' is a required option`);return e},zn=(e,t)=>(yn(Gt(e),e,t,"a string"),e),Hn=e=>(t,n)=>(yn(e.test(t),t,n,`does not match the ${e.toString()}`),t);const Wn=e=>e;Wn.default=function(e){return hn(this,Pn(e))},Wn.required=function(){return hn(this,$n)},Wn.deprecated=function(e){return hn(this,In(e))};const Jn=function(){return bn(this,qn)},Gn=function(e){return bn(this,Sn("an integer",e))},Zn=function(e){return bn(this,Sn("a number",e))},Qn=function(e){return bn(this,jn("a number",e))},Xn=function(){return bn(this,Bn,{minimum:Gn})},Yn=function(){return bn(this,_n("a non-empty string"))},Kn=function(){return bn(this,_n("a non-empty array"))},eo=function(){return bn(this,_n("a non-empty object"))},to=function(){return bn(this,Un)},no=function(e){return bn(this,Hn(e))},oo=function(){return bn(this,Nn())},ro=function(){return bn(this,An())},ao=function(e,t){return hn(this,kn(e,t))},io=function(){return this},so=function(e){return bn(this,En(e),{nonEmpty:Kn,uniqueItems:ro})},co=function(){return bn(this,wn)},lo=function(){return bn(this,Cn)},uo=function(e){return bn(this,xn(e))},po=function(){return bn(this,Vn,{minimum:Zn,maximum:Qn,integer:Xn,unique:oo})},go=function(e){return bn(this,Tn(e),{nonEmpty:eo})},mo=e=>({noUnknownFields:function(){return bn(this,On(e))},nonEmpty:eo,concat:function(t){const n={...e,...t.schema};return bn(this,t,mo(n))},renamed:function(e,t,n){return vn(this,Dn(e,t,n))},schema:e}),fo=function(e){return bn(this,Rn(e),mo(e))},ho=function(){return bn(this,zn,{regexp:to,domain:Jn,nonEmpty:Yn,unique:oo,matches:no})},bo=ao.bind(Wn),vo=io.bind(Wn),yo=so.bind(Wn),wo=co.bind(Wn),Co=lo.bind(Wn),ko=uo.bind(Wn),Eo=po.bind(Wn),Po=go.bind(Wn),Io=fo.bind(Wn),xo=ho.bind(Wn),To=function(...e){return bo(e.map(ko),`one of these values: ${JSON.stringify(e)}`)};var So=Po(yo(Io({authenticatedState:To("ambiguous","authenticated","loggedOut"),id:xo(),namespace:Io({code:xo()}).noUnknownFields(),primary:wo(),xid:xo()}).noUnknownFields()).required()),jo=Io({}),Oo="alloy_debug",_o=({console:e,locationSearch:t,createLogger:n,instanceName:o,createNamespacedStorage:r,getMonitors:a})=>{
const i=de.default.parse(t),s=r(`instance.${o}.`),c=s.session.getItem("debug");let l="true"===c,d=null===c;const u=()=>l,p=(e,{fromConfig:t})=>{t&&!d||(l=e),t||(s.session.setItem("debug",e.toString()),d=!1)};return void 0!==i[Oo]&&p(rn(i[Oo]),{fromConfig:!1}),{setDebugEnabled:p,logger:n({getDebugEnabled:u,context:{instanceName:o},getMonitors:a,console:e}),createComponentLogger:t=>n({getDebugEnabled:u,context:{instanceName:o,componentName:t},getMonitors:a,console:e})}};const Ro=["onComponentsRegistered","onBeforeEvent","onBeforeRequest","onResponse","onRequestFailure","onClick","onDecision"],Do=(e,t)=>(...n)=>Promise.all(e.getLifecycleCallbacks(t).map((e=>new Promise((t=>{t(e(...n))}))))),No=e=>(...t)=>Promise.resolve().then((()=>e(...t)));var Lo=e=>Ro.reduce(((t,n)=>(t[n]=No(Do(e,n)),t)),{});const Ao=(e,t)=>(...n)=>{let o;try{o=e(...n)}catch(e){throw on({error:e,message:t})}return o instanceof Promise&&(o=o.catch((e=>{throw on({error:e,message:t})}))),o};var Mo=()=>{const e={},t={},n={},o=(e,n={})=>{const o=$t(Object.keys(t),Object.keys(n));if(o.length)throw new Error(`[ComponentRegistry] Could not register ${e} because it has existing command(s): ${o.join(",")}`);Object.keys(n).forEach((o=>{const r=n[o];r.commandName=o,r.run=Ao(r.run,`[${e}] An error occurred while executing the ${o} command.`),t[o]=r}))},r=(e,t={})=>{Object.keys(t).forEach((o=>{n[o]=n[o]||[],n[o].push(Ao(t[o],`[${e}] An error occurred while executing the ${o} lifecycle hook.`))}))};return{register(t,n){const{commands:a,lifecycle:i}=n;o(t,a),r(t,i),e[t]=n},getCommand:e=>t[e],getCommandNames:()=>Object.keys(t),getLifecycleCallbacks:e=>n[e]||[],getComponentNames:()=>Object.keys(e)}},qo=({logger:e,sendFetchRequest:t,sendBeaconRequest:n,isRequestRetryable:o,getRequestRetryDelay:r})=>({requestId:a,url:i,payload:s,useSendBeacon:c})=>{const l=JSON.stringify(s),d=JSON.parse(l);e.logOnBeforeNetworkRequest({url:i,requestId:a,payload:d});const u=(s=0)=>(c?n:t)(i,l).then((t=>{if(o({response:t,retriesAttempted:s})){const e=r({response:t,retriesAttempted:s});return new Promise((t=>{setTimeout((()=>{t(u(s+1))}),e)}))}let n;try{n=JSON.parse(t.body)}catch{}return e.logOnNetworkResponse({requestId:a,url:i,payload:d,...t,parsedBody:n,retriesAttempted:s}),{statusCode:t.statusCode,body:t.body,parsedBody:n,getHeader:t.getHeader}}));return u().catch((t=>{throw e.logOnNetworkError({requestId:a,url:i,payload:d,error:t}),on({error:t,message:"Network request failed."})}))},Bo=({logger:e})=>t=>{if(t){const n=t.split(";");if(n.length>=2&&n[1].length>0)try{const e=parseInt(n[1],10);if(!Number.isNaN(e))return{regionId:e}}catch{}e.warn(`Invalid adobe edge: "${t}"`)}return{}};const Vo="in",Fo="out",Uo="pending",$o="general",zo="declinedConsent",Ho="default",Wo="initial",Jo="new",Go=e=>{const t=new Error(e);return t.code=zo,t.message=e,t};var Zo=({logger:e})=>{const t=[],n=()=>{for(;t.length;)t.shift().resolve()},o=()=>{for(;t.length;)t.shift().reject(Go("The user declined consent."))},r=()=>Promise.resolve(),a=()=>Promise.resolve(),i=()=>Promise.resolve(),s=()=>Promise.reject(Go("No consent preferences have been set.")),c=()=>Promise.reject(Go("The user declined consent.")),l=e=>{if(e)return Promise.reject(new Error("Consent is pending."));const n=Ee();return t.push(n),n.promise};return{in(t){t===Ho?this.awaitConsent=a:(t===Wo?e.info("Loaded user consent preferences. The user previously consented."):t===Jo&&this.awaitConsent!==i&&e.info("User consented."),n(),this.awaitConsent=i)},out(t){t===Ho?(e.warn("User consent preferences not found. Default consent of out will be used."),this.awaitConsent=s):(t===Wo?e.warn("Loaded user consent preferences. The user previously declined consent."):t===Jo&&this.awaitConsent!==c&&e.warn("User declined consent."),o(),this.awaitConsent=c)},pending(t){t===Ho&&e.info("User consent preferences not found. Default consent of pending will be used. Some commands may be delayed."),this.awaitConsent=l},awaitConsent:r,withConsent(){return this.awaitConsent(!0)},current(){switch(this.awaitConsent){case a:return{state:"in",wasSet:!1};case i:return{state:"in",wasSet:!0};case s:return{state:"out",wasSet:!1};case c:return{state:"out",wasSet:!0};case l:return{state:"pending",wasSet:!1};default:return{state:"in",wasSet:!1}}}}},Qo=({generalConsentState:e,logger:t})=>{const n=(n,o)=>{switch(n[$o]){case Vo:e.in(o);break;case Fo:e.out(o);break;case Uo:e.pending(o);break;default:t.warn(`Unknown consent value: ${n[$o]}`)}};return{initializeConsent(e,t){t[$o]?n(t,Wo):n(e,Ho)},setConsent(e){n(e,Jo)},suspend(){e.pending()},awaitConsent:()=>e.awaitConsent(),withConsent:()=>e.withConsent(),current:()=>e.current()}};const Xo=e=>e&&e._experience&&e._experience.decisioning&&Be(e._experience.decisioning.propositions)?e._experience.decisioning.propositions:[];var Yo=()=>{const e={};let t,n,o=!1,r=!1,a=!0;const i=e=>{if(r)throw new Error(`${e} cannot be called after event is finalized.`)},s={hasQuery(){return Object.prototype.hasOwnProperty.call(this.getContent(),"query")},getContent(){const o=JSON.parse(JSON.stringify(e));return t&&be(o,{xdm:t}),n&&be(o,{data:n}),o},setUserXdm(e){i("setUserXdm"),t=e},setUserData(e){i("setUserData"),n=e},mergeXdm(t){i("mergeXdm"),t&&be(e,{xdm:t})},mergeData(t){i("mergeData"),t&&be(e,{data:t})},mergeMeta(t){i("mergeMeta"),t&&be(e,{meta:t})},mergeQuery(t){i("mergeQuery"),t&&be(e,{query:t})},documentMayUnload(){o=!0},finalize(o){if(r)return;const i=xe([...Xo(t),...Xo(e.xdm)],((e,t)=>e===t||e.id&&t.id&&e.id===t.id&&e.scope&&t.scope&&e.scope===t.scope));if(t&&this.mergeXdm(t),i.length>0&&(e.xdm._experience.decisioning.propositions=i),n&&s.mergeData(n),r=!0,o){a=!1;const t={xdm:e.xdm||{},data:e.data||{}},n=o(t);a=!1!==n,e.xdm=t.xdm||{},e.data=t.data||{},ft(e.xdm)&&delete e.xdm,ft(e.data)&&delete e.data}},getDocumentMayUnload:()=>o,isEmpty:()=>ft(e)&&(!t||ft(t))&&(!n||ft(n)),shouldSend:()=>a,getViewName(){if(t&&t.web&&t.web.webPageDetails)return t.web.webPageDetails.viewName},toJSON(){if(!r)throw new Error("toJSON called before finalize");return e}};return s};const Ko="Retry-After",er="x-adobe-edge";var tr=({extractEdgeInfo:e})=>({content:t={},getHeader:n})=>{const{handle:o=[],errors:r=[],warnings:a=[]}=t;return{getPayloadsByType:e=>o.filter((t=>t.type===e)).flatMap((e=>e.payload)),getErrors:()=>r,getWarnings:()=>a,getEdge:()=>e(n(er)),toJSON:()=>t}};const nr="configure",or="setDebug";var rr=({logger:e,configureCommand:t,setDebugCommand:n,handleError:o,validateCommandOptions:r})=>{let a;const i=(o,i)=>{let s;if(o===nr){if(a)throw new Error("The library has already been configured and may only be configured once.");s=()=>(a=t(i),a.then((()=>{})))}else{if(!a)throw new Error("The library must be configured first. Please do so by executing the configure command.");s=o===or?()=>{const e=Io({enabled:wo().required()}).noUnknownFields(),t=r({command:{commandName:or,optionsValidator:e},options:i});n(t)}:()=>a.then((e=>{const t=e.getCommand(o);if(!t||!qe(t.run)){const t=[nr,or].concat(e.getCommandNames()).join(", ");throw new Error(`The ${o} command does not exist. List of available commands: ${t}.`)}const n=r({command:t,options:i});return t.run(n)}),(()=>(e.warn(`An error during configuration is preventing the ${o} command from executing.`),new Promise((()=>{})))))}return s};return(t,n={})=>new Promise((o=>{const r=i(t,n);e.logOnBeforeCommand({commandName:t,options:n}),o(r())})).catch((e=>o(e,`${t} command`))).catch((o=>{throw e.logOnCommandRejected({commandName:t,options:n,error:o}),o})).then((o=>{const r=pe(o)?o:{};return e.logOnCommandResolved({commandName:t,options:n,result:r}),r}))};const ar="https://adobe.ly/3sHgQHb";var ir=({command:e,options:t})=>{const{commandName:n,documentationUri:o=ar,optionsValidator:r}=e;let a=t;if(r)try{a=r(t)}catch(e){throw new Error(`Invalid ${n} command options:\n\t - ${e} For command documentation see: ${o}`)}return a};const sr="https://adobe.ly/3sHh553",cr=({combinedConfigValidator:e,options:t,logger:n})=>{try{return e.noUnknownFields().required().call({logger:n},t)}catch(e){throw new Error(`Resolve these configuration problems:\n\t - ${e.message.split("\n").join("\n\t - ")}\nFor configuration documentation see: ${sr}`)}},lr=(e,t,n)=>n.reduce(((n,{buildOnInstanceConfiguredExtraParams:o})=>(o&&(n={...n,...o({config:e,logger:t})}),n)),{}),dr=e=>{const t=[],n={get enabled(){return e.enabled},flush(){t.forEach((({method:t,args:n})=>e[t](...n)))}};return Object.keys(e).filter((t=>"function"==typeof e[t])).forEach((e=>{n[e]=(...n)=>{t.push({method:e,args:n})}})),n};var ur=({options:e,componentCreators:t,coreConfigValidators:n,createConfig:o,logger:r,setDebugEnabled:a})=>{const i=dr(r),s=t.map((({configValidators:e})=>e)).filter((e=>e)).reduce(((e,t)=>e.concat(t)),n),c=o(cr({combinedConfigValidator:s,options:e,logger:i}));a(c.debugEnabled,{fromConfig:!0}),i.flush();const l=lr(c,r,t);return r.logOnInstanceConfigured({...l,config:c}),c},pr=({componentCreators:e,lifecycle:t,componentRegistry:n,getImmediatelyAvailableTools:o})=>(e.forEach((e=>{const{namespace:t}=e,r=o(t);let a;try{a=e(r)}catch(e){throw on({error:e,message:`[${t}] An error occurred during component creation.`})}n.register(t,a)})),t.onComponentsRegistered({lifecycle:t}).then((()=>n)));const gr=e=>({...e}),mr="edge.adobedc.net",fr="adobedc.demdex.net";var hr="ee",br=()=>Io({debugEnabled:wo().default(!1),datastreamId:xo().unique().required(),edgeDomain:xo().domain().default(mr),edgeBasePath:xo().nonEmpty().default(hr),orgId:xo().unique().required(),onBeforeEventSend:Co().default(Qt),edgeConfigOverrides:jo}).renamed("edgeConfigId",xo().unique(),"datastreamId"),vr=({errorPrefix:e,logger:t})=>(n,o)=>{const r=tn(n);if(r.code===zo)return t.warn(`The ${o} could not fully complete. ${r.message}`),{};throw nn({error:r,message:`${e} ${r.message}`}),r},yr=({fetch:e})=>(t,n)=>e(t,{method:"POST",cache:"no-cache",credentials:"include",headers:{"Content-Type":"text/plain; charset=UTF-8"},referrerPolicy:"no-referrer-when-downgrade",body:n}).then((e=>e.text().then((t=>({statusCode:e.status,getHeader:t=>e.headers.get(t),body:t}))))),wr=({sendBeacon:e,sendFetchRequest:t,logger:n})=>(o,r)=>{const a=new Blob([r],{type:"text/plain; charset=UTF-8"});return e(o,a)?Promise.resolve({statusCode:204,getHeader:()=>null,body:""}):(n.info("Unable to use `sendBeacon`; falling back to `fetch`."),t(o,r))},Cr=({getDebugEnabled:e,console:t,getMonitors:n,context:o})=>{let r=`[${o.instanceName}]`;o.componentName&&(r+=` [${o.componentName}]`);const a=(e,t)=>{const r=n();if(r.length>0){const n={...o,...t};r.forEach((t=>{t[e]&&t[e](n)}))}},i=(n,...o)=>{a("onBeforeLog",{level:n,arguments:o}),e()&&t[n](r,...o)};return{get enabled(){return n().length>0||e()},logOnInstanceCreated(e){a("onInstanceCreated",e),i("info","Instance initialized.")},logOnInstanceConfigured(e){a("onInstanceConfigured",e),i("info","Instance configured. Computed configuration:",e.config)},logOnBeforeCommand(e){a("onBeforeCommand",e),i("info",`Executing ${e.commandName} command. Options:`,e.options)},logOnCommandResolved(e){a("onCommandResolved",e),i("info",`${e.commandName} command resolved. Result:`,e.result)},logOnCommandRejected(e){a("onCommandRejected",e),i("error",`${e.commandName} command was rejected. Error:`,e.error)},logOnBeforeNetworkRequest(e){a("onBeforeNetworkRequest",e),i("info",`Request ${e.requestId}: Sending request.`,e.payload)},logOnNetworkResponse(e){a("onNetworkResponse",e);const t=e.parsedBody||e.body?"response body:":"no response body.";i("info",`Request ${e.requestId}: Received response with status code ${e.statusCode} and ${t}`,e.parsedBody||e.body)},logOnNetworkError(e){a("onNetworkError",e),i("error",`Request ${e.requestId}: Network request failed.`,e.error)},logOnContentHiding(e){a("onContentHiding",{status:e.status}),i(e.logLevel,e.message)},logOnContentRendering(e){a("onContentRendering",{status:e.status,payload:e.detail}),i(e.logLevel,e.message)},info:i.bind(null,"info"),warn:i.bind(null,"warn"),error:i.bind(null,"error")}},kr="__view__",Er=e=>(t,n)=>{e.xdm=e.xdm||{},e.xdm.identityMap=e.xdm.identityMap||{},e.xdm.identityMap[t]=e.xdm.identityMap[t]||[],e.xdm.identityMap[t].push(n)},Pr=e=>{const{payload:t,getAction:n,getUseSendBeacon:o,datastreamIdOverride:r,edgeSubPath:a}=e,i=c();let s=!1,l=!1;return{getId:()=>i,getPayload:()=>t,getAction:()=>n({isIdentityEstablished:l}),getDatastreamIdOverride:()=>r,getUseSendBeacon:()=>o({isIdentityEstablished:l}),getEdgeSubPath:()=>a||"",getUseIdThirdPartyDomain:()=>s,setUseIdThirdPartyDomain(){s=!0},setIsIdentityEstablished(){l=!0}}},Ir=({payload:e,datastreamIdOverride:t})=>{const n=({isIdentityEstablished:t})=>e.getDocumentMayUnload()&&t;return Pr({payload:e,getAction:({isIdentityEstablished:e})=>n({isIdentityEstablished:e})?"collect":"interact",getUseSendBeacon:n,datastreamIdOverride:t})},xr=e=>{const{content:t,addIdentity:n,hasIdentity:o}=e,r=ve(t,"meta.configOverrides");return{mergeMeta:ve(t,"meta"),mergeState:ve(t,"meta.state"),mergeQuery:ve(t,"query"),mergeConfigOverride:e=>r(en(e)),addIdentity:n,hasIdentity:o,toJSON:()=>t}},Tr=e=>t=>void 0!==(e.xdm&&e.xdm.identityMap&&e.xdm.identityMap[t]),Sr=()=>{const e={},t=xr({content:e,addIdentity:Er(e),hasIdentity:Tr(e)});return t.addEvent=t=>{e.events=e.events||[],e.events.push(t)},t.getDocumentMayUnload=()=>(e.events||[]).some((e=>e.getDocumentMayUnload())),t},jr=({localConfigOverrides:e,globalConfigOverrides:t,payload:n})=>{const o={payload:n},{datastreamId:r,...a}=e||{};return r&&(o.datastreamIdOverride=r),t&&!ft(t)&&n.mergeConfigOverride(t),a&&!ft(a)&&n.mergeConfigOverride(a),o};const Or="adb_validation_sessionid",_r="validation.",Rr="clientId",Dr=e=>{let t=e.persistent.getItem(Rr);return t||(t=c(),e.persistent.setItem(Rr,t)),t};var Nr=({window:e,createNamespacedStorage:t})=>{const n=t(_r);return()=>{const t=de.default.parse(e.location.search)[Or];if(!t)return"";const o=`${t}|${Dr(n)}`;return`&${de.default.stringify({adobeAepValidationToken:o})}`}};const Lr="Event was canceled because the onBeforeEventSend callback returned false.";var Ar=({config:e,logger:t,lifecycle:n,consent:o,createEvent:r,createDataCollectionRequestPayload:a,createDataCollectionRequest:i,sendEdgeNetworkRequest:s,applyResponse:c})=>{const{onBeforeEventSend:l,edgeConfigOverrides:d}=e;return{createEvent:r,sendEvent(e,r={}){const{edgeConfigOverrides:c,...u}=r,p=jr({payload:a(),localConfigOverrides:c,globalConfigOverrides:d}),g=i(p),m=ye(),f=ye();return n.onBeforeEvent({...u,event:e,onResponse:m.add,onRequestFailure:f.add}).then((()=>(p.payload.addEvent(e),o.awaitConsent()))).then((()=>{try{e.finalize(l)}catch(e){const t=()=>{throw e};return f.add(n.onRequestFailure),f.call({error:e}).then(t,t)}if(!e.shouldSend()){f.add(n.onRequestFailure),t.info(Lr);const e=new Error(Lr);return f.call({error:e}).then((()=>{}))}return s({request:g,runOnResponseCallbacks:m.call,runOnRequestFailureCallbacks:f.call})}))},applyResponse(e,t={}){const{renderDecisions:o=!1,decisionContext:r={},responseHeaders:s={},responseBody:l={handle:[]},personalization:d}=t,u=a(),p=i({payload:u}),g=ye();return n.onBeforeEvent({event:e,renderDecisions:o,decisionContext:r,decisionScopes:[kr],personalization:d,onResponse:g.add,onRequestFailure:Qt}).then((()=>(u.addEvent(e),c({request:p,responseHeaders:s,responseBody:l,runOnResponseCallbacks:g.call}))))}}};const Mr="state:store";var qr=({cookieJar:e,shouldTransferCookie:t,apexDomain:n,dateProvider:o})=>({cookiesToPayload(o,r){const a=""!==n&&r.endsWith(n),i={domain:n,cookiesEnabled:!0};if(!a){const n=e.get(),o=Object.keys(n).filter(t).map((e=>({key:e,value:n[e]})));o.length&&(i.entries=o)}o.mergeState(i)},responseToCookies(t){t.getPayloadsByType(Mr).forEach((t=>{const r={domain:n},a=t.attrs&&t.attrs.SameSite&&t.attrs.SameSite.toLowerCase();void 0!==t.maxAge&&(r.expires=new Date(o().getTime()+1e3*t.maxAge)),void 0!==a&&(r.sameSite=a),"none"===a&&(r.secure=!0),e.set(t.key,t.value,r)}))}});const Br="mboxEdgeCluster",Vr="at_qa_mode",Fr="mbox";var Ur=({orgId:e,targetMigrationEnabled:t})=>n=>Jt(e,n)||n===Vr||t&&n===Fr,$r="v1";const zr="TypeError",Hr="NetworkError",Wr=e=>e.name===zr||e.name===Hr||0===e.status;var Jr=e=>{const t=e.shift()||[],n=e.shift()||[];return ge({},...t,...n,...e)},Gr=e=>t=>{const n=()=>{throw t};return e.call({error:t}).then(n,n)};const Zr=(e,t)=>t.getUseIdThirdPartyDomain()&&Wr(e);var Qr=({config:e,lifecycle:t,cookieTransfer:n,sendNetworkRequest:o,createResponse:r,processWarningsAndErrors:a,getLocationHint:i,getAssuranceValidationTokenParams:s})=>{const{edgeDomain:c,edgeBasePath:l,datastreamId:d}=e;let u=!1;const p=(e,t)=>{const n=i(),o=n?`${l}/${n}${t.getEdgeSubPath()}`:`${l}${t.getEdgeSubPath()}`,r=t.getDatastreamIdOverride()||d;return r!==d&&t.getPayload().mergeMeta({sdkConfig:{datastream:{original:d}}}),`https://${e}/${o}/${$r}/${t.getAction()}?configId=${r}&requestId=${t.getId()}${s()}`};return({request:e,runOnResponseCallbacks:i=Qt,runOnRequestFailureCallbacks:s=Qt})=>{const l=ye();l.add(t.onResponse),l.add(i);const d=ye();return d.add(t.onRequestFailure),d.add(s),t.onBeforeRequest({request:e,onResponse:l.add,onRequestFailure:d.add}).then((()=>{const t=u||!e.getUseIdThirdPartyDomain()?c:fr,r=p(t,e),a=e.getPayload();return n.cookiesToPayload(a,t),o({requestId:e.getId(),url:r,payload:a,useSendBeacon:e.getUseSendBeacon()})})).then((e=>(a(e),e))).catch((t=>{if(Zr(t,e)){u=!0,e.setUseIdThirdPartyDomain(!1);const t=p(c,e),r=e.getPayload();return n.cookiesToPayload(r,c),o({requestId:e.getId(),url:t,payload:r,useSendBeacon:e.getUseSendBeacon()})}return Gr(d)(t)})).then((({parsedBody:e,getHeader:t})=>{const o=r({content:e,getHeader:t});return n.responseToCookies(o),l.call({response:o}).then(Jr)}))}};const Xr=204,Yr="The server responded with a";var Kr=({logger:e})=>t=>{const{statusCode:n,body:o,parsedBody:r}=t;if(n<200||n>=300||!r&&n!==Xr||r&&!Array.isArray(r.handle)){const e=r?JSON.stringify(r,null,2):o;throw new Error(`${Yr} status code ${n} and ${e?`response body:\n${e}`:"no response body."}`)}if(r){const{warnings:t=[],errors:n=[]}=r;t.forEach((t=>{e.warn(`${Yr} warning:`,t)})),n.forEach((t=>{e.error(`${Yr} non-fatal error:`,t)}))}},ea=({orgId:e,cookieJar:t})=>{const n=Et(e,Mt),o=()=>t.get(n),r=()=>{const e=t.get(Br);if(e)return`t${e}`};return()=>o()||r()};const ta=3,na=[429,503,502,504];var oa=({response:e,retriesAttempted:t})=>t<ta&&na.includes(e.statusCode);const ra=1e3,aa=1e3,ia=.3,sa=e=>{const t=ra+e*aa,n=t*ia,o=t-n,r=t+n;return Math.round(o+Math.random()*(r-o))},ca=e=>{const t=e.getHeader(Ko);let n;if(t){const e=parseInt(t,10);n=Wt(e)?1e3*e:Math.max(0,new Date(t).getTime()-(new Date).getTime())}return n};var la=({response:e,retriesAttempted:t})=>{let n=ca(e);return void 0===n&&(n=sa(t)),n};const da=200;var ua=({cookieTransfer:e,lifecycle:t,createResponse:n,processWarningsAndErrors:o})=>({request:r,responseHeaders:a,responseBody:i,runOnResponseCallbacks:s=Qt,runOnRequestFailureCallbacks:c=Qt})=>{const l=ye();l.add(t.onResponse),l.add(s);const d=ye();d.add(t.onRequestFailure),d.add(c);const u=e=>a[e];return t.onBeforeRequest({request:r,onResponse:l.add,onRequestFailure:d.add}).then((()=>o({statusCode:da,getHeader:u,body:JSON.stringify(i),parsedBody:i}))).catch(Gr(d)).then((()=>{const t=n({content:i,getHeader:u});return e.responseToCookies(t),l.call({response:t}).then(Jr)}))},pa=e=>t=>{const n={webPageDetails:{URL:e.location.href||e.location},webReferrer:{URL:e.document.referrer}};be(t,{web:n})};const ga=e=>{const{screen:{orientation:t}}=e;if(null==t||null==t.type)return null;const n=t.type.split("-");return 0===n.length||"portrait"!==n[0]&&"landscape"!==n[0]?null:n[0]},ma=e=>{if(qe(e.matchMedia)){if(e.matchMedia("(orientation: portrait)").matches)return"portrait";if(e.matchMedia("(orientation: landscape)").matches)return"landscape"}return null};var fa=e=>t=>{const{screen:{width:n,height:o}}=e,r={},a=an(o);a>=0&&(r.screenHeight=a);const i=an(n);i>=0&&(r.screenWidth=i);const s=ga(e)||ma(e);s&&(r.screenOrientation=s),Object.keys(r).length>0&&be(t,{device:r})},ha=e=>t=>{const{document:{documentElement:{clientWidth:n,clientHeight:o}={}}}=e,r={type:"browser"},a=an(n);a>=0&&(r.browserDetails={viewportWidth:a});const i=an(o);i>=0&&(r.browserDetails=r.browserDetails||{},r.browserDetails.viewportHeight=i),be(t,{environment:r})},ba=e=>t=>{const n=e(),o={},r=an(n.getTimezoneOffset());void 0!==r&&(o.localTimezoneOffset=r),(void 0===r||Math.abs(r)<6e3)&&(o.localTime=cn(n)),be(t,{placeContext:o})},va=e=>t=>{const n=e().toISOString();be(t,{timestamp:n})},ya="https://ns.adobe.com/experience/alloy",wa="2.26.0",Ca=e=>{be(e,{implementationDetails:{name:ya,version:wa,environment:"browser"}})},ka=(e,t,n,o)=>{const r=e.context.flatMap(((e,o)=>n[e]?[n[e]]:(t.warn(`Invalid context[${o}]: '${e}' is not available.`),[]))).concat(o);return{namespace:"Context",lifecycle:{onBeforeEvent({event:e}){const n={};return Promise.all(r.map((e=>Promise.resolve(e(n,t))))).then((()=>e.mergeXdm(n)))}}}},Ea=[["architecture","string"],["bitness","string"],["model","string"],["platformVersion","string"],["wow64","boolean"]];const Pa=e=>void 0!==e.userAgentData;var Ia=e=>Pa(e)?(t,n)=>{try{return e.userAgentData.getHighEntropyValues(Ea.map((e=>e[0]))).then((e=>{const n={};Ea.forEach((([t,o])=>{Object.prototype.hasOwnProperty.call(e,t)&&typeof e[t]===o&&(n[t]=e[t])})),be(t,{environment:{browserDetails:{userAgentClientHints:n}}})}))}catch(e){return n.warn(`Unable to collect user-agent client hints. ${e.message}`),Qt}}:Qt;const xa=pa(window),Ta=fa(window),Sa=ha(window),ja=ba((()=>new Date)),Oa=va((()=>new Date)),_a={web:xa,device:Ta,environment:Sa,placeContext:ja},Ra={highEntropyUserAgentHints:Ia(navigator)},Da={..._a,...Ra},Na=[Oa,Ca],La=({config:e,logger:t})=>ka(e,t,Da,Na);La.namespace="Context",La.configValidators=Io({context:yo(xo()).default(Object.keys(_a))});var Aa=({options:e})=>Io({type:xo(),xdm:Io({eventType:xo(),identityMap:So}),data:Io({}),documentUnloading:wo(),renderDecisions:wo(),decisionScopes:yo(xo()).uniqueItems(),personalization:Io({decisionScopes:yo(xo()).uniqueItems(),surfaces:yo(xo()).uniqueItems(),sendDisplayEvent:wo().default(!0),includeRenderedPropositions:wo().default(!1),defaultPersonalizationEnabled:wo(),decisionContext:Io({})}).default({sendDisplayEvent:!0}),datasetId:xo(),mergeId:xo(),edgeConfigOverrides:jo,initializePersonalization:wo()}).required().noUnknownFields()(e),Ma=({options:e})=>Io({renderDecisions:wo(),responseHeaders:Po(xo().required()),responseBody:Io({handle:yo(Io({type:xo().required(),payload:vo().required()})).required()}).required(),personalization:Io({sendDisplayEvent:wo().default(!0),decisionContext:Io({})}).default({sendDisplayEvent:!0})}).noUnknownFields()(e);const qa=({eventManager:e,logger:t})=>({commands:{sendEvent:{documentationUri:"https://adobe.ly/3GQ3Q7t",optionsValidator:e=>Aa({options:e}),run:n=>{const{xdm:o,data:r,documentUnloading:a,type:i,mergeId:s,datasetId:c,edgeConfigOverrides:l,...d}=n,u=e.createEvent();return a&&u.documentMayUnload(),u.setUserXdm(o),u.setUserData(r),i&&u.mergeXdm({eventType:i}),s&&u.mergeXdm({eventMergeId:s}),l&&(d.edgeConfigOverrides=l),c&&(t.warn("The 'datasetId' option has been deprecated. Please use 'edgeConfigOverrides.com_adobe_experience_platform.datasets.event.datasetId' instead."),d.edgeConfigOverrides=l||{},be(d.edgeConfigOverrides,{com_adobe_experience_platform:{datasets:{event:{datasetId:c}}}})),e.sendEvent(u,d)}},applyResponse:{documentationUri:"",optionsValidator:e=>Ma({options:e}),run:t=>{const{renderDecisions:n=!1,decisionContext:o={},responseHeaders:r={},responseBody:a={handle:[]},personalization:i}=t,s=e.createEvent();return e.applyResponse(s,{renderDecisions:n,decisionContext:o,responseHeaders:r,responseBody:a,personalization:i})}}}});qa.namespace="DataCollector";const Ba=(e,t)=>`ID sync ${t?"succeeded":"failed"}: ${e.spec.url}`;var Va=({fireReferrerHideableImage:e,logger:t})=>n=>{const o=n.filter((e=>"url"===e.type));return o.length?Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(Ba(n,!0))})).catch((()=>{t.error(Ba(n,!1))}))))).then(Qt):Promise.resolve()};const Fa=Io({thirdPartyCookiesEnabled:wo().default(!0),idMigrationEnabled:wo().default(!0)});var Ua=Io({url:xo().required().nonEmpty(),edgeConfigOverrides:jo}).required().noUnknownFields(),$a="ECID",za=({addEcidQueryToPayload:e,addQueryStringIdentityToPayload:t,ensureSingleIdentity:n,setLegacyEcid:o,handleResponseForIdSyncs:r,getNamespacesFromResponse:a,getIdentity:i,consent:s,appendIdentityToUrl:c,logger:l,getIdentityOptionsValidator:d,decodeKndctrCookie:u})=>{let p,g={};return{lifecycle:{onBeforeRequest:({request:o,onResponse:r,onRequestFailure:a})=>(e(o.getPayload()),t(o.getPayload()),n({request:o,onResponse:r,onRequestFailure:a})),onResponse({response:e}){const t=a(e);return p&&p[$a]||!t||!t[$a]||o(t[$a]),t&&Object.keys(t).length>0&&(p={...p,...t}),g={...g,...e.getEdge()},r(e)}},commands:{getIdentity:{optionsValidator:d,run:e=>{const{namespaces:t}=e;return s.awaitConsent().then((()=>{if(p)return;const n=u();return n&&t.includes($a)&&(p||(p={}),p[$a]=n,1===t.length)?void 0:i(e)})).then((()=>({identity:t.reduce(((e,t)=>(e[t]=p[t]||null,e)),{}),edge:g})))}},appendIdentityToUrl:{optionsValidator:Ua,run:e=>s.withConsent().then((()=>{if(p)return;const t=u();return t?(p||(p={}),void(p[$a]=t)):i(e)})).then((()=>({url:c(p[$a],e.url)}))).catch((t=>(l.warn(`Unable to append identity to url. ${t.message}`),e)))}}}},Ha=({config:e,getEcidFromVisitor:t,apexDomain:n,isPageSsl:o,cookieJar:r})=>{const{idMigrationEnabled:a,orgId:i}=e,s=`AMCV_${i}`,c=()=>{let e=null;const t="s_ecid",n=r.get(t)||r.get(s);if(n){const t=/(^|\|)MCMID\|(\d+)($|\|)/,o=n.match(t);o&&(e=o[2])}return e};return{getEcid(){if(a){const e=c();return e?Promise.resolve(e):t()}return Promise.resolve()},setEcid(e){if(a&&c()!==e){const t=o?{sameSite:"none",secure:!0}:{};r.set(s,`MCMID|${e}`,{domain:n,expires:390,...t})}}}},Wa=({logger:e})=>new Promise(((t,n)=>{if(pe(window.adobe)&&pe(window.adobe.optIn)){const o=window.adobe.optIn;e.info("Delaying request while waiting for legacy opt-in to let Visitor retrieve ECID from server."),o.fetchPermissions((()=>{o.isApproved([o.Categories.ECID])?(e.info("Received legacy opt-in approval to let Visitor retrieve ECID from server."),t()):n(new Error("Legacy opt-in was declined."))}),!0)}else t()})),Ja=e=>{const t=e.Visitor;return qe(t)&&qe(t.getInstance)&&t},Ga=({logger:e,orgId:t,awaitVisitorOptIn:n})=>()=>{const o=Ja(window);return o?n({logger:e}).then((()=>(e.info("Delaying request while using Visitor to retrieve ECID from server."),new Promise((n=>{o.getInstance(t,{}).getMarketingCloudVisitorID((t=>{e.info("Resuming previously delayed request that was waiting for ECID from Visitor."),n(t)}),!0)}))))).catch((t=>{t?e.info(`${t.message}, retrieving ECID from experience edge`):e.info("An error occurred while obtaining the ECID from Visitor.")})):Promise.resolve()},Za=({processIdSyncs:e})=>t=>e(t.getPayloadsByType("identity:exchange")),Qa=({doesIdentityCookieExist:e,setDomainForInitialIdentityPayload:t,addLegacyEcidToPayload:n,awaitIdentityCookie:o,logger:r})=>{let a;const i=e=>(t(e),n(e.getPayload()));return({request:t,onResponse:n,onRequestFailure:s})=>{if(e())return t.setIsIdentityEstablished(),Promise.resolve();if(a){r.info("Delaying request while retrieving ECID from server.");const e=a;return a=e.catch((()=>o({onResponse:n,onRequestFailure:s}))),e.then((()=>{r.info("Resuming previously delayed request."),t.setIsIdentityEstablished()})).catch((()=>i(t)))}return a=o({onResponse:n,onRequestFailure:s}),a.catch((()=>{})),i(t)}},Xa="CORE",Ya=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>{const n={identity:{fetch:[$a]}};return e&&t()&&n.identity.fetch.push(Xa),e=>{e.mergeQuery(n)}},Ka=({thirdPartyCookiesEnabled:e,areThirdPartyCookiesSupportedByDefault:t})=>n=>{e&&t()&&n.setUseIdThirdPartyDomain()},ei=({getLegacyEcid:e,addEcidToPayload:t})=>n=>n.hasIdentity($a)?Promise.resolve():e().then((e=>{e&&t(n,e)})),ti="adobe_mc",ni=e=>{try{return decodeURIComponent(e)}catch{return""}};const oi=300;var ri=({locationSearch:e,dateProvider:t,orgId:n,logger:o})=>r=>{if(r.hasIdentity($a))return;let a=de.default.parse(e)[ti];if(void 0===a)return;Array.isArray(a)&&(o.warn("Found multiple adobe_mc query string paramters, only using the last one."),a=a[a.length-1]);const i=a.split("|").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=ni(o),e[n]=e[n].replace(/[^a-zA-Z0-9@.]/g,""),e}),{}),s=parseInt(i.TS,10),c=i.MCMID,l=ni(i.MCORGID);t().getTime()/1e3<=s+oi&&l===n&&c?(o.info(`Found valid ECID identity ${c} from the adobe_mc query string parameter.`),r.addIdentity($a,{id:c})):o.info("Detected invalid or expired adobe_mc query string parameter.")},ai=(e,t)=>{e.addIdentity($a,{id:t})},ii=({doesIdentityCookieExist:e,orgId:t,logger:n})=>({onResponse:o,onRequestFailure:r})=>new Promise(((a,i)=>{o((()=>{e()?a():(n.warn(`Identity cookie not found. This could be caused by any of the following issues:\n\t* The org ID ${t} configured in Alloy doesn't match the org ID specified in the edge configuration.\n\t* Experience edge was not able to set the identity cookie due to domain or cookie restrictions.\n\t* The request was canceled by the browser and not fully processed.`),i(new Error("Identity cookie not found.")))})),r((()=>{e()?a():i(new Error("Identity cookie not found."))}))})),si=e=>e.getPayloadsByType("identity:result").reduce(((e,t)=>(t.namespace&&t.namespace.code&&(e[t.namespace.code]=t.id),e)),{}),ci=({sendEdgeNetworkRequest:e,createIdentityRequestPayload:t,createIdentityRequest:n,globalConfigOverrides:o})=>({namespaces:r,edgeConfigOverrides:a}={})=>{const i=jr({payload:t(r),globalConfigOverrides:o,localConfigOverrides:a}),s=n(i);return e({request:s})},li=({payload:e,datastreamIdOverride:t})=>Pr({payload:e,datastreamIdOverride:t,getAction:()=>"identity/acquire",getUseSendBeacon:()=>!1}),di=e=>{const t={query:{identity:{fetch:e}}};return xr({content:t,addIdentity:Er(t),hasIdentity:Tr(t)})};const ui=/^([^?#]*)(\??[^#]*)(#?.*)$/,pi=e=>""===e?"?":"?"===e?"":"&";var gi=({dateProvider:e,orgId:t})=>(n,o)=>{const r=Math.round(e().getTime()/1e3),a=encodeURIComponent(`TS=${r}|MCMID=${n}|MCORGID=${encodeURIComponent(t)}`),[,i,s,c]=o.match(ui);return`${i}${s}${pi(s)}adobe_mc=${a}${c}`};const mi=Io({namespaces:yo(To($a,Xa)).nonEmpty().uniqueItems().default([$a]),edgeConfigOverrides:jo}).noUnknownFields().default({namespaces:[$a]});var fi=({thirdPartyCookiesEnabled:e})=>t=>{const n=mi(t);if(!e&&n.namespaces.includes(Xa))throw new Error(`namespaces: The ${Xa} namespace cannot be requested when third-party cookies are disabled.`);return n};const hi=1,bi=(e,t)=>{let n,o=0,r=0;do{if(t<0||t+r>=e.length)throw new Error("Invalid varint: buffer ended unexpectedly");if(n=e[t+r],o|=(127&n)<<7*r,r+=1,r>10)throw new Error("Invalid varint: too long")}while(128&n);return{value:o,length:r}},vi=Object.freeze({VARINT:0,I64:1,LEN:2,SGROUP:3,EGROUP:4,I32:5}),yi=e=>{let t=0,n=null;for(;t<e.length&&!n;){const{value:o,length:r}=bi(e,t);t+=r;const a=7&o;if(o>>3===hi){if(a===vi.LEN){const o=bi(e,t);return t+=o.length,n=(new TextDecoder).decode(e.slice(t,t+o.value)),t+=o.value,n}}else switch(a){case vi.VARINT:t+=bi(e,t).length;break;case vi.I64:t+=8;break;case vi.LEN:{const n=bi(e,t);t+=n.length+n.value;break}case vi.SGROUP:case vi.EGROUP:break;case vi.I32:t+=4;break;default:throw new Error(`Malformed kndctr cookie. Unknown wire type: ${a}`)}}throw new Error("No ECID found in cookie.")},wi=e=>{const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))};var Ci=({orgId:e,cookieJar:t,logger:n})=>{const o=Et(e,"identity");return()=>{const e=t.get(o);if(!e)return null;try{const t=decodeURIComponent(e).replace(/_/g,"/").replace(/-/g,"+"),n=wi(t);return yi(n)}catch(e){return n.warn(`Unable to decode ECID from ${o} cookie`,e),null}}};const ki=({config:e,logger:t,consent:n,fireReferrerHideableImage:o,sendEdgeNetworkRequest:r,apexDomain:a,getBrowser:i})=>{const{orgId:s,thirdPartyCookiesEnabled:c,edgeConfigOverrides:l}=e,d=Ga({logger:t,orgId:s,awaitVisitorOptIn:Wa}),u=we({logger:t,cookieJar:fe}),p=Ha({config:e,getEcidFromVisitor:d,apexDomain:a,cookieJar:u,isPageSsl:"https:"===window.location.protocol}),g=qt({orgId:s}),m=ci({sendEdgeNetworkRequest:r,createIdentityRequestPayload:di,createIdentityRequest:li,globalConfigOverrides:l}),f=Nt({getBrowser:i}),h=Ka({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:f}),b=ei({getLegacyEcid:p.getEcid,addEcidToPayload:ai}),v=ri({locationSearch:window.document.location.search,dateProvider:()=>new Date,orgId:s,logger:t}),y=ii({doesIdentityCookieExist:g,orgId:s,logger:t}),w=Qa({doesIdentityCookieExist:g,setDomainForInitialIdentityPayload:h,addLegacyEcidToPayload:b,awaitIdentityCookie:y,logger:t}),C=Va({fireReferrerHideableImage:o,logger:t}),k=Za({processIdSyncs:C}),E=gi({dateProvider:()=>new Date,orgId:s}),P=fi({thirdPartyCookiesEnabled:c
}),I=Ya({thirdPartyCookiesEnabled:c,areThirdPartyCookiesSupportedByDefault:f}),x=Ci({orgId:s,cookieJar:u,logger:t});return za({addEcidQueryToPayload:I,addQueryStringIdentityToPayload:v,ensureSingleIdentity:w,setLegacyEcid:p.setEcid,handleResponseForIdSyncs:k,getNamespacesFromResponse:si,getIdentity:m,consent:n,appendIdentityToUrl:E,logger:t,getIdentityOptionsValidator:P,decodeKndctrCookie:x})};ki.namespace="Identity",ki.configValidators=Fa;const Ei=({config:e,componentRegistry:t})=>{const n=[...t.getCommandNames(),nr,or].sort(),o={...e};Object.keys(e).forEach((t=>{const n=e[t];"function"==typeof n&&(o[t]=n.toString())}));const r=t.getComponentNames();return{version:wa,configs:o,commands:n,components:r}},Pi=({config:e,componentRegistry:t})=>({commands:{getLibraryInfo:{run:()=>({libraryInfo:Ei({config:e,componentRegistry:t})})}}});Pi.namespace="LibraryInfo";var Ii=Object.freeze({__proto__:null,context:La,dataCollector:qa,identity:ki,libraryInfo:Pi});const xi=Ut(window),{fetch:Ti,navigator:Si}=window,ji=br(),Oi=wt(window,fe),_i=yr({fetch:Ti}),Ri=mt(),Di=Nr({window:window,createNamespacedStorage:xi}),Ni=Vt({userAgent:window.navigator.userAgent}),Li=({instanceName:e,logController:{setDebugEnabled:t,logger:n,createComponentLogger:o},components:r})=>{const a=Mo(),i=Lo(a),s=r.concat(Object.values(Ii)),c=e=>{t(e.enabled,{fromConfig:!1})},l=we({logger:n,cookieJar:fe}),d=r=>{const c=ur({options:r,componentCreators:s,coreConfigValidators:ji,createConfig:gr,logger:n,setDebugEnabled:t}),{orgId:d,targetMigrationEnabled:u}=c,p=Ur({orgId:d,targetMigrationEnabled:u}),g=qr({cookieJar:l,shouldTransferCookie:p,apexDomain:Oi,dateProvider:()=>new Date}),m=qe(Si.sendBeacon)?wr({sendBeacon:Si.sendBeacon.bind(Si),sendFetchRequest:_i,logger:n}):_i,f=qo({logger:n,sendFetchRequest:_i,sendBeaconRequest:m,isRequestRetryable:oa,getRequestRetryDelay:la}),h=Kr({logger:n}),b=Bo({logger:n}),v=tr({extractEdgeInfo:b}),y=ea({orgId:d,cookieJar:fe}),w=Qr({config:c,lifecycle:i,cookieTransfer:g,sendNetworkRequest:f,createResponse:v,processWarningsAndErrors:h,getLocationHint:y,getAssuranceValidationTokenParams:Di}),C=ua({lifecycle:i,cookieTransfer:g,createResponse:v,processWarningsAndErrors:h}),k=Zo({logger:n}),E=Qo({generalConsentState:k,logger:n}),P=Ar({config:c,logger:n,lifecycle:i,consent:E,createEvent:Yo,createDataCollectionRequestPayload:Sr,createDataCollectionRequest:Ir,sendEdgeNetworkRequest:w,applyResponse:C});return pr({componentCreators:s,lifecycle:i,componentRegistry:a,getImmediatelyAvailableTools(t){const n=o(t);return{config:c,componentRegistry:a,consent:E,eventManager:P,fireReferrerHideableImage:Ri,logger:n,lifecycle:i,sendEdgeNetworkRequest:w,handleError:vr({errorPrefix:`[${e}] [${t}]`,logger:n}),createNamespacedStorage:xi,apexDomain:Oi,getBrowser:Ni}}})},u=vr({errorPrefix:`[${e}]`,logger:n});return rr({logger:n,configureCommand:d,setDebugCommand:c,handleError:u,validateCommandOptions:ir})},Ai=({eventManager:e,lifecycle:t,handleError:n})=>o=>{if(o.s_fe)return Promise.resolve();const r=o.target,a=e.createEvent();return a.documentMayUnload(),t.onClick({event:a,clickedElement:r}).then((()=>a.isEmpty()?Promise.resolve():e.sendEvent(a))).then(Qt).catch((e=>{n(e,"click collection")}))};var Mi=({eventManager:e,lifecycle:t,handleError:n})=>{const o=Ai({eventManager:e,lifecycle:t,handleError:n});document.addEventListener("click",o,!0)};const qi="\\.(exe|zip|wav|mp3|mov|mpg|avi|wmv|pdf|doc|docx|xls|xlsx|ppt|pptx)$",Bi=xo().regexp().default(qi),Vi=Io({clickCollectionEnabled:wo().default(!0),clickCollection:Io({internalLinkEnabled:wo().default(!0),externalLinkEnabled:wo().default(!0),downloadLinkEnabled:wo().default(!0),sessionStorageEnabled:wo().default(!1),eventGroupingEnabled:wo().default(!1),filterClickProperties:Co()}).default({internalLinkEnabled:!0,externalLinkEnabled:!0,downloadLinkEnabled:!0,sessionStorageEnabled:!1,eventGroupingEnabled:!1}),downloadLinkQualifier:Bi,onBeforeLinkClickSend:Co().deprecated('The field "onBeforeLinkClickSend" has been deprecated. Use "clickCollection.filterClickDetails" instead.')}),Fi="cppXYctnr";var Ui=(e=document)=>null!==e.getElementById(Fi),$i=e=>{let t=e;return/^https?:\/\//i.test(t)||(t=`${window.location.protocol}//${e}`),new URL(t).hostname},zi=(e,t)=>$i(e)!==$i(t);const Hi=(e,t)=>t&&("download"===t&&!e.downloadLinkEnabled||"exit"===t&&!e.externalLinkEnabled||"other"===t&&!e.internalLinkEnabled);var Wi=({config:e,logger:t,getClickedElementProperties:n,clickActivityStorage:o})=>{const{clickCollectionEnabled:r,clickCollection:a}=e;return r?({event:r,clickedElement:i})=>{const s=n({clickActivityStorage:o,clickedElement:i,config:e,logger:t}),c=s.linkType;Ui()||(s.isValidLink()&&Hi(a,c)?t.info(`Cancelling link click event due to clickCollection.${c}LinkEnabled = false.`):!s.isInternalLink()||!a.eventGroupingEnabled||e.onBeforeLinkClickSend&&!a.filterClickDetails||zi(window.location.hostname,s.linkUrl)?s.isValidLink()?(r.mergeXdm(s.xdm),r.mergeData(s.data),o.save({pageName:s.pageName,pageIDType:s.pageIDType})):s.isValidActivityMapData()&&o.save(s.properties):o.save(s.properties))}:()=>{}};const Ji=e=>({eventType:"web.webinteraction.linkClicks",web:{webInteraction:{name:e.linkName,region:e.linkRegion,type:e.linkType,URL:e.linkUrl,linkClicks:{value:1}}}}),Gi=e=>({__adobe:{analytics:{contextData:{a:{activitymap:{page:e.pageName,link:e.linkName,region:e.linkRegion,pageIDType:e.pageIDType}}}}}}),Zi=(e,t)=>{const{xdm:n,data:o,clickedElement:r}=e;if(t.clickedElement=r,n&&n.web&&n.web.webInteraction){const{name:e,region:o,type:r,URL:a}=n.web.webInteraction;t.linkName=e,t.linkRegion=o,t.linkType=r,t.linkUrl=a}if(o&&o.__adobe&&o.__adobe.analytics){const{contextData:e}=o.__adobe.analytics;if(e&&e.a&&e.a.activitymap){const{page:n,link:o,region:r,pageIDType:a}=e.a.activitymap;t.pageName=n||t.pageName,t.linkName=o||t.linkName,t.linkRegion=r||t.linkRegion,void 0!==a&&(t.pageIDType=a)}}};var Qi=({properties:e,logger:t}={})=>{let n=e||{};return{get pageName(){return n.pageName},set pageName(e){n.pageName=e},get linkName(){return n.linkName},set linkName(e){n.linkName=e},get linkRegion(){return n.linkRegion},set linkRegion(e){n.linkRegion=e},get linkType(){return n.linkType},set linkType(e){n.linkType=e},get linkUrl(){return n.linkUrl},set linkUrl(e){n.linkUrl=e},get pageIDType(){return n.pageIDType},set pageIDType(e){n.pageIDType=e},get clickedElement(){return n.clickedElement},set clickedElement(e){n.clickedElement=e},get properties(){return{pageName:n.pageName,linkName:n.linkName,linkRegion:n.linkRegion,linkType:n.linkType,linkUrl:n.linkUrl,pageIDType:n.pageIDType}},isValidLink:()=>!!(n.linkUrl&&n.linkType&&n.linkName&&n.linkRegion),isInternalLink(){return this.isValidLink()&&"other"===n.linkType},isValidActivityMapData:()=>!!n.pageName&&!!n.linkName&&!!n.linkRegion&&void 0!==n.pageIDType,get xdm(){return n.filteredXdm?n.filteredXdm:Ji(this)},get data(){return n.filteredData?n.filteredData:Gi(this)},applyPropertyFilter(e){e&&!1===e(n)&&(t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),n={})},applyOptionsFilter(e){const o=this.options;if(o&&o.clickedElement&&(o.xdm||o.data)){if(e&&!1===e(o))return t&&t.info(`Clicked element properties were rejected by filter function: ${JSON.stringify(this.properties,null,2)}`),void(this.options=void 0);this.options=o,n.filteredXdm=o.xdm,n.filteredData=o.data}},get options(){const e={};if(this.isValidLink()&&(e.xdm=this.xdm),this.isValidActivityMapData()&&(e.data=this.data),this.clickedElement&&(e.clickedElement=this.clickedElement),e.xdm||e.data)return e},set options(e){n={},e&&Zi(e,n)}}},Xi=({clickActivityStorage:e})=>t=>{if(Ui())return;const n=e.load(),o=Qi({properties:n});if(o.isValidLink()||o.isValidActivityMapData()){if(o.isValidLink()){const e=o.xdm;delete e.eventType,t.mergeXdm(e)}o.isValidActivityMapData()&&t.mergeData(o.data),e.save({pageName:o.pageName,pageIDType:o.pageIDType})}},Yi=({window:e,getLinkName:t,getLinkRegion:n,getAbsoluteUrlFromAnchorElement:o,findClickableElement:r,determineLinkType:a})=>({clickedElement:i,config:s,logger:c,clickActivityStorage:l})=>{const{onBeforeLinkClickSend:d,clickCollection:u}=s,{filterClickDetails:p}=u,g=Qi({logger:c});if(i){const c=r(i);if(c){g.clickedElement=i,g.linkUrl=o(e,c),g.linkType=a(e,s,g.linkUrl,c),g.linkRegion=n(c),g.linkName=t(c),g.pageIDType=0,g.pageName=e.location.href;const r=l.load();r&&r.pageName&&(g.pageName=r.pageName,g.pageIDType=1),p?g.applyPropertyFilter(p):d&&g.applyOptionsFilter(d)}}return g};const Ki="clickData";var es=({storage:e})=>({save:t=>{const n=JSON.stringify(t);e.setItem(Ki,n)},load:()=>{let t=null;const n=e.getItem(Ki);return n&&(t=JSON.parse(n)),t},remove:()=>{e.removeItem(Ki)}}),ts=({clickActivityStorage:e})=>t=>{e.save({pageName:t.getContent().xdm.web.webPageDetails.name,pageIDType:1})},ns=(e,t)=>{const{clickCollectionEnabled:n,onBeforeLinkClickSend:o,downloadLinkQualifier:r}=e;!1===n&&(o&&t.warn("The 'onBeforeLinkClickSend' configuration was provided but will be ignored because clickCollectionEnabled is false."),r&&r!==qi&&t.warn("The 'downloadLinkQualifier' configuration was provided but will be ignored because clickCollectionEnabled is false."))},os=e=>e&&e.replace(/\s+/g," ").trim();const rs=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i;var as=e=>!(e&&e.nodeName&&e.nodeName.match(rs));const is=e=>{let t=[],n=!1;return as(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((e=>{const o=is(e);t=t.concat(o.supportedNodes),n=n||o.includesUnsupportedNodes}))):n=!0,{supportedNodes:t,includesUnsupportedNodes:n}},ss=(e,t,n)=>{let o;return n&&n!==e.nodeName.toUpperCase()||(o=e.getAttribute(t)),o},cs=e=>{const t={texts:[]};return e.supportedNodes.forEach((e=>{e.getAttribute&&(t.alt||(t.alt=os(e.getAttribute("alt"))),t.title||(t.title=os(e.getAttribute("title"))),t.inputValue||(t.inputValue=os(ss(e,"value","INPUT"))),t.imgSrc||(t.imgSrc=os(ss(e,"src","IMG")))),e.nodeValue&&t.texts.push(e.nodeValue)})),t},ls=/^(HEADER|MAIN|FOOTER|NAV)$/i,ds=e=>{let t;return"region"===e.role&&Zt(e["aria-label"])&&(t=e["aria-label"]),t},us=e=>{let t;return e&&e.nodeName&&e.nodeName.match(ls)&&(t=e.nodeName),t};var ps=e=>!!e&&/^[a-z0-9]+:\/\//i.test(e),gs=e=>!(!e.href||"A"!==e.tagName&&"AREA"!==e.tagName||e.onclick&&e.protocol&&!(e.protocol.toLowerCase().indexOf("javascript")<0)),ms=e=>!!e&&!!e.onclick,fs=e=>{if("INPUT"===e.tagName){const t=e.getAttribute("type");if("submit"===t)return!0;if("image"===t&&e.src)return!0}return!1},hs=e=>"BUTTON"===e.tagName&&"submit"===e.type,bs=e=>{const t=e.indexOf("?"),n=e.indexOf("#");return t>=0&&(t<n||n<0)?e.substring(0,t):n>=0?e.substring(0,n):e},vs=(e,t,n)=>{let o=!1;if(t)if(n&&n.download)o=!0;else if(e){const n=new RegExp(e),r=bs(t).toLowerCase();o=n.test(r)}return o},ys=(e,t)=>{let n=!1;if(t&&e.location.hostname){const o=e.location.hostname.toLowerCase();n=bs(t).toLowerCase().indexOf(o)<0}return n},ws=e=>{const t=e.getContent();return void 0!==t.xdm&&void 0!==t.xdm.web&&void 0!==t.xdm.web.webPageDetails&&void 0!==t.xdm.web.webPageDetails.name},Cs=()=>{const e={};return{getItem:t=>e[t],setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}};const ks=Yi({window:window,getLinkName:e=>{let t=os(e.innerText||e.textContent);const n=is(e);if(!t||n.includesUnsupportedNodes){const e=cs(n);t=os(e.texts.join("")),t||(t=e.alt||e.title||e.inputValue||e.imgSrc)}return t||""},getLinkRegion:e=>{let t,n=e.parentNode;for(;n;){if(t=os(n.id||ds(n)||us(n)),t)return t;n=n.parentNode}return"BODY"},getAbsoluteUrlFromAnchorElement:(e,t)=>{const n=e.location;let o=t.href||"";"string"!=typeof o&&(o="");let{protocol:r,host:a}=t;if(o&&!ps(o)){r||(r=n.protocol?n.protocol:""),r=r?`${r}//`:"",a||(a=n.host?n.host:"");let e="";if("/"!==o.substring(0,1)){let t=n.pathname.lastIndexOf("/");t=t<0?0:t,e=n.pathname.substring(0,t)}o=`${r}${a}${e}/${o}`}return o},findClickableElement:e=>{let t=e;for(;t;){if(gs(t)||ms(t)||fs(t)||hs(t))return t;t=t.parentNode}return null},determineLinkType:(e,t,n,o)=>{let r="other";return Zt(n)&&(vs(t.downloadLinkQualifier,n,o)?r="download":ys(e,n)&&(r="exit")),r}});let Es;const Ps=e=>{if(!Es){const t=Ut(window)(e.orgId||""),n=Cs(),o=e.clickCollection.sessionStorageEnabled?t.session:n;Es=es({storage:o})}},Is=({config:e,eventManager:t,handleError:n,logger:o})=>{ns(e,o);const r=e.clickCollection;Es||Ps(e);const a=Wi({config:e,logger:o,clickActivityStorage:Es,getClickedElementProperties:ks}),i=Xi({clickActivityStorage:Es}),s=ts({clickActivityStorage:Es});return{lifecycle:{onComponentsRegistered(e){const{lifecycle:o}=e;Mi({eventManager:t,lifecycle:o,handleError:n})},onClick({event:e,clickedElement:t}){a({event:e,clickedElement:t})},onBeforeEvent({event:e}){ws(e)&&(r.eventGroupingEnabled&&i(e),s(e,o,Es))}}}};Is.namespace="ActivityCollector",Is.configValidators=Vi,Is.buildOnInstanceConfiguredExtraParams=({config:e,logger:t})=>(Es||Ps(e),{getLinkDetails:n=>ks({clickActivityStorage:Es,clickedElement:n,config:e,logger:t}).properties});const xs=e=>`URL destination succeeded: ${e.spec.url}`;var Ts=({fireReferrerHideableImage:e,logger:t,cookieJar:n,isPageSsl:o})=>{const r=o?{sameSite:"none",secure:!0}:{},a=e=>{e.filter((e=>"cookie"===e.type)).forEach((e=>{const{name:t,value:o,domain:a,ttlDays:i}=e.spec;n.set(t,o||"",{domain:a||"",expires:i||10,...r})}))},i=n=>{const o=n.filter((e=>"url"===e.type));return Promise.all(o.map((n=>e(n.spec).then((()=>{t.info(xs(n))})).catch((()=>{}))))).then(Qt)};return e=>(a(e),i(e))},Ss=({processDestinations:e})=>{const t=({response:t})=>{const n=t.getPayloadsByType("activation:push");return e(n)},n=({response:e})=>({destinations:e.getPayloadsByType("activation:pull")});return({response:e})=>t({response:e}).then((()=>n({response:e})))};const js=({logger:e,fireReferrerHideableImage:t})=>{const n=fe.withConverter({write:e=>encodeURIComponent(e)}),o=we({logger:e,cookieJar:n}),r=Ts({fireReferrerHideableImage:t,logger:e,cookieJar:o,isPageSsl:"https:"===window.location.protocol});return{lifecycle:{onResponse:Ss({processDestinations:r})},commands:{}}};js.namespace="Audiences";var Os=({storedConsent:e,taskQueue:t,defaultConsent:n,consent:o,sendSetConsentRequest:r,validateSetConsentOptions:a,consentHashStore:i,doesIdentityCookieExist:s})=>{const c={[$o]:n};let l=e.read();const d=s(),u=void 0!==l[$o];d&&u||i.clear(),d||(e.clear(),l={}),o.initializeConsent(c,l);const p=()=>{if(0===t.length){const t=e.read();void 0!==t[$o]&&o.setConsent(t)}};return{commands:{setConsent:{optionsValidator:a,run:({consent:e,identityMap:n,edgeConfigOverrides:a})=>{o.suspend();const s=i.lookup(e);return t.addTask((()=>s.isNew()?r({consentOptions:e,identityMap:n,edgeConfigOverrides:a}):Promise.resolve())).then((()=>s.save())).finally(p)}}},lifecycle:{onResponse:p,onRequestFailure:p}}};const _s=e=>Array.isArray(e)?e.map((e=>_s(e))):"object"==typeof e&&null!==e?Object.keys(e).sort().reduce(((t,n)=>(t[n]=_s(e[n]),t)),{}):e;var Rs=e=>ke(JSON.stringify(_s(e)));const Ds=({standard:e,version:t})=>`${e}.${t}`;var Ns=({storage:e})=>({clear(){e.clear()},lookup(t){const n={},o=e=>{const t=Ds(e),{standard:o,version:r,...a}=e;return n[t]||(n[t]=Rs(a).toString()),n[t]};return{isNew:()=>t.some((t=>{const n=Ds(t),r=e.getItem(n);return null===r||r!==o(t)})),save(){t.forEach((t=>{const n=Ds(t);e.setItem(n,o(t))}))}}}}),Ls=()=>{const e={},t=xr({content:e,addIdentity:(t,n)=>{e.identityMap=e.identityMap||{},e.identityMap[t]=e.identityMap[t]||[],e.identityMap[t].push(n)},hasIdentity:t=>void 0!==(e.identityMap&&e.identityMap[t])});return t.setConsent=t=>{e.consent=t},t},As=({payload:e,datastreamIdOverride:t})=>Pr({payload:e,datastreamIdOverride:t,getAction:()=>"privacy/set-consent",getUseSendBeacon:()=>!1}),Ms=({parseConsentCookie:e,orgId:t,cookieJar:n})=>{const o=Et(t,At);return{read(){const t=n.get(o);return t?e(t):{}},clear(){n.remove(o)}}},qs=({createConsentRequestPayload:e,createConsentRequest:t,sendEdgeNetworkRequest:n,edgeConfigOverrides:o})=>({consentOptions:r,identityMap:a,edgeConfigOverrides:i})=>{const s=jr({payload:e(),globalConfigOverrides:o,localConfigOverrides:i});s.payload.setConsent(r),pe(a)&&Object.keys(a).forEach((e=>{a[e].forEach((t=>{s.payload.addIdentity(e,t)}))}));const c=t(s);return n({request:c}).then((()=>{}))},Bs=e=>e.split(";").reduce(((e,t)=>{const[n,o]=t.split("=");return e[n]=o,e}),{}),Vs=Io({consent:yo(vo()).required().nonEmpty(),identityMap:So,edgeConfigOverrides:jo}).noUnknownFields().required(),Fs=Io({defaultConsent:To(Vo,Fo,Uo).default(Vo)});const Us=({config:e,consent:t,sendEdgeNetworkRequest:n,createNamespacedStorage:o})=>{const{orgId:r,defaultConsent:a}=e,i=Ms({parseConsentCookie:Bs,orgId:r,cookieJar:fe}),s=Ce(),c=qs({createConsentRequestPayload:Ls,createConsentRequest:As,sendEdgeNetworkRequest:n,edgeConfigOverrides:e.edgeConfigOverrides}),l=o(`${kt(r)}.consentHashes.`),d=Ns({storage:l.persistent}),u=qt({orgId:r});return Os({storedConsent:i,taskQueue:s,defaultConsent:a,consent:t,sendSetConsentRequest:c,validateSetConsentOptions:Vs,consentHashStore:d,doesIdentityCookieExist:u})};Us.namespace="Consent",Us.configValidators=Fs;var $s=()=>({eventMergeId:c()});t.createEventMergeId=$s;var zs=({createEventMergeId:e})=>({commands:{createEventMergeId:{run:e}}});const Hs=()=>zs({createEventMergeId:$s});Hs.namespace="EventMerge";var Ws={PAUSE:"media.pauseStart",PLAY:"media.play",BUFFER_START:"media.bufferStart",AD_START:"media.adStart",Ad_BREAK_START:"media.adBreakStart",SESSION_END:"media.sessionEnd",SESSION_START:"media.sessionStart",SESSION_COMPLETE:"media.sessionComplete",PING:"media.ping",AD_BREAK_COMPLETE:"media.adBreakComplete",AD_COMPLETE:"media.adComplete",AD_SKIP:"media.adSkip",BITRATE_CHANGE:"media.bitrateChange",CHAPTER_COMPLETE:"media.chapterComplete",CHAPTER_SKIP:"media.chapterSkip",CHAPTER_START:"media.chapterStart",ERROR:"media.error",STATES_UPDATE:"media.statesUpdate"},Js=({mediaRequestPayload:e,action:t})=>Pr({payload:e,edgeSubPath:"/va",getAction:()=>t,getUseSendBeacon:()=>!1}),Gs=({config:e,eventManager:t,consent:n,sendEdgeNetworkRequest:o,setTimestamp:r})=>({createMediaEvent({options:n}){const o=t.createEvent(),{xdm:a}=n;if(r(a),o.setUserXdm(a),a.eventType===Ws.AD_START){const{advertisingDetails:t}=n.xdm.mediaCollection;o.mergeXdm({mediaCollection:{advertisingDetails:{playerName:t.playerName||e.streamingMedia.playerName}}})}return o},createMediaSession(n){const{playerName:o,channel:r,appVersion:a}=e.streamingMedia,i=t.createEvent(),{sessionDetails:s}=n.xdm.mediaCollection;return i.setUserXdm(n.xdm),i.mergeXdm({eventType:Ws.SESSION_START,mediaCollection:{sessionDetails:{playerName:s.playerName||o,channel:s.channel||r,appVersion:s.appVersion||a}}}),i},augmentMediaEvent({event:e,playerId:t,getPlayerDetails:n,sessionID:o}){if(!t||!n)return e;const{playhead:r,qoeDataDetails:a}=n({playerId:t});return e.mergeXdm({mediaCollection:{playhead:an(r),qoeDataDetails:a,sessionID:o}}),e},trackMediaSession({event:e,mediaOptions:n,edgeConfigOverrides:o}){const r={mediaOptions:n,edgeConfigOverrides:o};return t.sendEvent(e,r)},trackMediaEvent({event:e,action:t}){const r=Sr(),a=Js({mediaRequestPayload:r,action:t});return r.addEvent(e),e.finalize(),n.awaitConsent().then((()=>o({request:a}).then((()=>({})))))}}),Zs={MAIN:"main",COMPLETED:"completed"},Qs=()=>{let e;return{getSession:t=>e[t]||{},storeSession:({playerId:t,sessionDetails:n})=>{void 0===e&&(e={}),e[t]=n},stopPing:({playerId:t})=>{const n=e[t];n&&(clearTimeout(n.pingId),n.pingId=null,n.playbackState=Zs.COMPLETED)},savePing:({playerId:t,pingId:n,playbackState:o})=>{e[t]&&(e[t].pingId&&clearTimeout(e[t].pingId),e[t].pingId=n,e[t].playbackState=o)}}};const Xs=(e,t)=>e===Ws.AD_START||e===Ws.Ad_BREAK_START||e===Ws.AD_SKIP||e===Ws.AD_COMPLETE?"ad":e===Ws.AD_BREAK_COMPLETE||e===Ws.CHAPTER_COMPLETE||e===Ws.CHAPTER_START||e===Ws.CHAPTER_SKIP||e===Ws.SESSION_START?"main":e===Ws.SESSION_END||e===Ws.SESSION_COMPLETE?"completed":t;var Ys=({mediaEventManager:e,mediaSessionCacheManager:t,config:n})=>{const o=r=>{const a=e.createMediaEvent({options:r}),{playerId:i,xdm:s}=r,{eventType:c}=s,l=c.split(".")[1],{getPlayerDetails:d,sessionPromise:u,playbackState:p}=t.getSession(i);return u.then((r=>r.sessionId?(e.augmentMediaEvent({event:a,eventType:c,playerId:i,getPlayerDetails:d,sessionID:r.sessionId}),e.trackMediaEvent({event:a,action:l}).then((()=>{if(i)if(c===Ws.SESSION_COMPLETE||c===Ws.SESSION_END)t.stopPing({playerId:i});else{const e=Xs(c,p);if("completed"===e)return;const r="ad"===e?n.streamingMedia.adPingInterval:n.streamingMedia.mainPingInterval,a=setTimeout((()=>{const e={playerId:i,xdm:{eventType:Ws.PING}};o(e)}),1e3*r);t.savePing({playerId:i,pingId:a,playbackState:e})}}))):Promise.reject(new Error(`Failed to trigger media event: ${c}. Session ID is not available for playerId: ${i}.`))))};return e=>o(e)},Ks=({config:e,mediaEventManager:t,mediaSessionCacheManager:n,legacy:o=!1})=>r=>{if(!e.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));const{playerId:a,getPlayerDetails:i,edgeConfigOverrides:s}=r,c=t.createMediaSession(r);t.augmentMediaEvent({event:c,playerId:a,getPlayerDetails:i});const l=t.trackMediaSession({event:c,mediaOptions:{playerId:a,getPlayerDetails:i,legacy:o},edgeConfigOverrides:s});return n.storeSession({playerId:a,sessionDetails:{sessionPromise:l,getPlayerDetails:i,playbackState:Zs.MAIN}}),l},ec=e=>!Gt(e)||!e.trim(),tc=({mediaSessionCacheManager:e,config:t,trackMediaEvent:n})=>({response:o,playerId:r,getPlayerDetails:a})=>{const i=o.getPayloadsByType("media-analytics:new-session");if(Be(i)){const{sessionId:o}=i[0];if(ec(o))return{};if(!r||!a)return{sessionId:o};const s=setTimeout((()=>{n({playerId:r,xdm:{eventType:Ws.PING}})}),1e3*t.streamingMedia.mainPingInterval);return e.savePing({playerId:r,pingId:s,playbackState:Zs.MAIN}),{sessionId:o}}return{}};const nc={Video:"video",Audio:"audio"},oc={VOD:"vod",Live:"live",Linear:"linear",Podcast:"podcast",Audiobook:"audiobook",AOD:"aod"},rc={FullScreen:"fullScreen",ClosedCaption:"closedCaptioning",Mute:"mute",PictureInPicture:"pictureInPicture",InFocus:"inFocus"},ac={AdBreakStart:"adBreakStart",AdBreakComplete:"adBreakComplete",AdStart:"adStart",AdComplete:"adComplete",AdSkip:"adSkip",ChapterStart:"chapterStart",ChapterComplete:"chapterComplete",ChapterSkip:"chapterSkip",SeekStart:"seekStart",SeekComplete:"seekComplete",BufferStart:"bufferStart",BufferComplete:"bufferComplete",BitrateChange:"bitrateChange",StateStart:"stateStart",StateEnd:"stateEnd"},ic={SessionStart:"sessionStart",SessionEnd:"sessionEnd",SessionComplete:"sessionComplete",Play:"play",Pause:"pauseStart",Error:"error",StateUpdate:"statesUpdate"},sc={MediaResumed:"media.resumed",GranularAdTracking:"media.granularadtracking"},cc={Show:"a.media.show",Season:"a.media.season",Episode:"a.media.episode",AssetId:"a.media.asset",Genre:"a.media.genre",FirstAirDate:"a.media.airDate",FirstDigitalDate:"a.media.digitalDate",Rating:"a.media.rating",Originator:"a.media.originator",Network:"a.media.network",ShowType:"a.media.type",AdLoad:"a.media.adLoad",MVPD:"a.media.pass.mvpd",Authorized:"a.media.pass.auth",DayPart:"a.media.dayPart",Feed:"a.media.feed",StreamFormat:"a.media.format"},lc={Artist:"a.media.artist",Album:"a.media.album",Label:"a.media.label",Author:"a.media.author",Station:"a.media.station",Publisher:"a.media.publisher"},dc={Advertiser:"a.media.ad.advertiser",CampaignId:"a.media.ad.campaign",CreativeId:"a.media.ad.creative",PlacementId:"a.media.ad.placement",SiteId:"a.media.ad.site",CreativeUrl:"a.media.ad.creativeURL"};var uc=({trackMediaEvent:e,trackMediaSession:t,mediaResponseHandler:n,logger:o,createMediaHelper:r,createGetInstance:a,config:i})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Qt}){if(!e)return;const{legacy:o,playerId:r,getPlayerDetails:a}=e;o&&t((({response:e})=>n({playerId:r,getPlayerDetails:a,response:e})))}},commands:{getMediaAnalyticsTracker:{run:()=>{if(!i.streamingMedia)return Promise.reject(new Error("Streaming media is not configured."));o.info("Streaming media is configured in legacy mode.");const n=r({logger:o});return Promise.resolve({getInstance:()=>a({logger:o,trackMediaEvent:e,trackMediaSession:t,uuid:c}),Event:ac,MediaType:nc,PlayerState:rc,StreamType:oc,MediaObjectKey:sc,VideoMetadataKeys:cc,AudioMetadataKeys:lc,AdMetadataKeys:dc,...n})}}}}),pc=({logger:e})=>{const t=(t,n,o)=>{const r={friendlyName:t,offset:n,index:o},a=Io({friendlyName:xo().nonEmpty(),offset:Eo(),index:Eo()});try{const e=a(r);return{advertisingPodDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index}}}catch(t){return e.warn("An error occurred while creating the Ad Break Object.",t),{}}},n=(t,n,o,r)=>{const a={friendlyName:t,name:n,podPosition:o,length:r},i=Io({friendlyName:xo().nonEmpty(),name:xo().nonEmpty(),podPosition:Eo(),length:Eo()});try{const e=i(a);return{advertisingDetails:{friendlyName:e.friendlyName,name:e.name,podPosition:e.podPosition,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Advertising Object.",t),{}}},o=(t,n,o,r)=>{const a={friendlyName:t,offset:n,length:o,index:r},i=Io({friendlyName:xo().nonEmpty(),offset:Eo(),length:Eo(),index:Eo()});try{const e=i(a);return{chapterDetails:{friendlyName:e.friendlyName,offset:e.offset,index:e.index,length:e.length}}}catch(t){return e.warn("An error occurred while creating the Chapter Object.",t),{}}},r=t=>{const n=/^[a-zA-Z0-9_]{1,64}$/,o=xo().matches(n,"This is not a valid state name.");try{return{name:o(t)}}catch(t){return e.warn("An error occurred while creating the State Object.",t),{}}},a=(t,n,o,r)=>{const a={bitrate:t,droppedFrames:n,fps:o,startupTime:r},i=Io({bitrate:Eo(),droppedFrames:Eo(),fps:Eo(),startupTime:Eo()});try{const e=i(a);return{bitrate:e.bitrate,droppedFrames:e.droppedFrames,framesPerSecond:e.fps,timeToStart:e.startupTime}}catch(t){return e.warn("An error occurred while creating the QOE Object.",t),{}}};return{createMediaObject:(t,n,o,r,a)=>{const i={friendlyName:t,name:n,length:o,streamType:a,contentType:r},s=Io({friendlyName:xo().nonEmpty(),name:xo().nonEmpty(),length:Eo().required(),streamType:xo().nonEmpty(),contentType:xo().nonEmpty()});try{const e=s(i);return{sessionDetails:{name:e.name,friendlyName:e.friendlyName,length:e.length,streamType:e.streamType,contentType:e.contentType}}}catch(t){return e.warn("An error occurred while creating the Media Object.",t),{}}},createAdBreakObject:t,createAdObject:n,createChapterObject:o,createStateObject:r,createQoEObject:a}};const gc={"a.media.show":"show","a.media.season":"season","a.media.episode":"episode","a.media.asset":"assetID","a.media.genre":"genre","a.media.airDate":"firstAirDate","a.media.digitalDate":"firstDigitalDate","a.media.rating":"rating","a.media.originator":"originator","a.media.network":"network","a.media.type":"showType","a.media.adLoad":"adLoad","a.media.pass.mvpd":"mvpd","a.media.pass.auth":"authorized","a.media.dayPart":"dayPart","a.media.feed":"feed","a.media.format":"streamFormat","a.media.artist":"artist","a.media.album":"album","a.media.label":"label","a.media.author":"author","a.media.station":"station","a.media.publisher":"publisher","media.resumed":"hasResume"},mc={"a.media.ad.advertiser":"advertiser","a.media.ad.campaign":"campaignID","a.media.ad.creative":"creativeID","a.media.ad.placement":"placementID","a.media.ad.site":"siteID","a.media.ad.creativeURL":"creativeURL"};var fc=({logger:e,trackMediaSession:t,trackMediaEvent:n,uuid:o})=>{let r=null;const a=()=>{r={qoe:null,lastPlayhead:0,playerId:o()}},i=({eventType:e})=>e===ac.BufferComplete||e===ac.SeekComplete?ic.Play:e===ac.StateStart||e===ac.StateEnd?ic.StateUpdate:e===ac.SeekStart?ic.Pause:e,s=({eventType:e,mediaDetails:t={},contextData:n=[]})=>{const o=i({eventType:e});if(e===ac.StateStart)return{eventType:`media.${o}`,mediaCollection:{statesStart:[t]}};if(e===ac.StateEnd)return{eventType:`media.${o}`,mediaCollection:{statesEnd:[t]}};const r={eventType:`media.${o}`,mediaCollection:{...t}},a=[];return Object.keys(n).forEach((e=>{gc[e]?r.mediaCollection.sessionDetails[gc[e]]=n[e]:mc[e]?r.mediaCollection.advertisingDetails[mc[e]]=n[e]:a.push({name:e,value:n[e]})})),Be(a)&&(r.mediaCollection.customMetadata=a),r};return{trackSessionStart:(n,o={})=>{if(ue(n)||ft(n))return e.warn("Invalid media object"),{};null===r&&(e.warn("The Media Session was completed. Restarting a new session."),a());const i=s({eventType:ic.SessionStart,mediaDetails:n,contextData:o});return t({playerId:r.playerId,getPlayerDetails:()=>({playhead:r.lastPlayhead,qoeDataDetails:r.qoe}),xdm:i})},trackPlay:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:ic.Play});return n({playerId:r.playerId,xdm:t})},trackPause:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:ic.Pause});return n({playerId:r.playerId,xdm:t})},trackSessionEnd:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:ic.SessionEnd});return n({playerId:r.playerId,xdm:t})},trackComplete:()=>{if(null===r)return e.warn("The Media Session was completed."),{};const t=s({eventType:ic.SessionComplete});return n({playerId:r.playerId,xdm:t})},trackError:t=>{if(e.warn(`trackError(${t})`),null===r)return e.warn("The Media Session was completed."),{};const o={name:t,source:"player"},a=s({eventType:ic.Error,mediaDetails:{errorDetails:o}});return n({playerId:r.playerId,xdm:a})},trackEvent:(t,o,a)=>{if(ft(o))return e.warn("Invalid media object."),{};if(null===r)return e.warn("The Media Session was completed."),{};if(!Object.values(ac).includes(t))return e.warn("Invalid event type"),{};const i=s({eventType:t,mediaDetails:o,contextData:a});return n({playerId:r.playerId,xdm:i})},updatePlayhead:t=>{null!==r?Ht(t)&&(r.lastPlayhead=parseInt(t,10)):e.warn("The Media Session was completed.")},updateQoEObject:t=>{null!==r?t&&(r.qoe=t):e.warn("The Media Session was completed.")},destroy:()=>{e.warn("Destroy called, destroying the tracker."),r=null}}};const hc=({eventManager:e,sendEdgeNetworkRequest:t,config:n,logger:o,consent:r})=>{const a=Qs(),i=Gs({sendEdgeNetworkRequest:t,config:n,consent:r,eventManager:e,setTimestamp:va((()=>new Date))}),s=Ys({mediaSessionCacheManager:a,mediaEventManager:i,config:n}),c=Ks({config:n,mediaEventManager:i,mediaSessionCacheManager:a,legacy:!0}),l=tc({mediaSessionCacheManager:a,config:n,trackMediaEvent:s});return uc({mediaResponseHandler:l,trackMediaSession:c,trackMediaEvent:s,createMediaHelper:pc,createGetInstance:fc,logger:o,config:n})};hc.namespace="Legacy Media Analytics";const bc="web",vc="webapp",yc="://",wc="#",Cc=/^(\w+):\/\/([^/#]+)(\/[^#]*)?(#.*)?$/,kc=/^(?:.*@)?(?:[a-z\d\u00a1-\uffff.-]+|\[[a-f\d:]+])(?::\d+)?$/,Ec=/^\/(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})*$/,Pc=/^#(?:[/\w\u00a1-\uffff-.~]|%[a-fA-F\d]{2})+$/,Ic=(e="/")=>{let t=e.length;for(;t>0&&-1!=="/".indexOf(e.charAt(t-1));)t-=1;return e.substring(0,t)||"/"},xc=e=>Zt(e)?e.toLowerCase():"",Tc=e=>Zt(e)?e.toLowerCase():"",Sc=e=>Zt(e)?Ic(e):"/",jc=e=>{const t=e.match(Cc);return t?{surfaceType:xc(t[1]),authority:Tc(t[2]),path:Sc(t[3]),fragment:t[4]}:null},Oc=e=>`${e.surfaceType}${yc}${e.authority}${e.path||""}${e.fragment||""}`,_c=e=>{const t=e(),n=t.host.toLowerCase(),o=t.pathname;return bc+yc+n+Ic(o)},Rc=(e,t)=>e.startsWith(wc)?_c(t)+e:e,Dc=(e,t,n)=>{const o=e=>(n.warn(e),null);if(!Zt(e))return o(`Invalid surface: ${e}`);const r=Rc(e,t),a=jc(r);return null===a?o(`Invalid surface: ${e}`):[bc,vc].includes(a.surfaceType)?a.authority&&kc.test(a.authority)?a.path&&!Ec.test(a.path)?o(`Invalid path ${a.path} in surface: ${e}`):a.fragment&&!Pc.test(a.fragment)?o(`Invalid fragment ${a.fragment} in surface: ${e}`):a:o(`Invalid authority ${a.authority} in surface: ${e}`):o(`Unsupported surface type ${a.surfaceType} in surface: ${e}`)},Nc=e=>!!e&&0===e.indexOf(bc+yc)&&-1===e.indexOf(wc),Lc=(e=[],t,n)=>e.map((e=>Dc(e,t,n))).filter((e=>!ue(e))).map(Oc),Ac="https://ns.adobe.com/personalization/default-content-item",Mc="https://ns.adobe.com/personalization/dom-action",qc="https://ns.adobe.com/personalization/html-content-item",Bc="https://ns.adobe.com/personalization/json-content-item",Vc="https://ns.adobe.com/personalization/ruleset-item",Fc="https://ns.adobe.com/personalization/redirect-item",Uc="https://ns.adobe.com/personalization/message/in-app",$c="https://ns.adobe.com/personalization/message/content-card",zc=e=>{e.includes(kr)||e.push(kr)},Hc=(e,t)=>{const n=_c(t);e.includes(n)||e.push(n)},Wc=e=>e.filter(((t,n)=>e.indexOf(t)===n));var Jc=({getPageLocation:e,renderDecisions:t,decisionScopes:n,personalization:o,event:r,isCacheInitialized:a,logger:i})=>{const s=r.getViewName();return{isRenderDecisions:()=>t,isSendDisplayEvent:()=>!!o.sendDisplayEvent,shouldIncludeRenderedPropositions:()=>!!o.includeRenderedPropositions,getViewName:()=>s,
hasScopes:()=>n.length>0||Be(o.decisionScopes),hasSurfaces:()=>Be(o.surfaces),hasViewName:()=>Zt(s),createQueryDetails(){const t=[...n];Be(o.decisionScopes)&&t.push(...o.decisionScopes);const r=Lc(o.surfaces,e,i);this.shouldRequestDefaultPersonalization()&&(zc(t),Hc(r,e));const a=[Ac,qc,Bc,Fc,Vc,Uc,$c];return t.includes(kr)&&a.push(Mc),{schemas:a,decisionScopes:Wc(t),surfaces:Wc(r)}},isCacheInitialized:()=>a,shouldFetchData(){return this.hasScopes()||this.hasSurfaces()||this.shouldRequestDefaultPersonalization()},shouldUseCachedData(){return this.hasViewName()&&!this.shouldFetchData()},shouldRequestDefaultPersonalization(){return o.defaultPersonalizationEnabled||!this.isCacheInitialized()&&!1!==o.defaultPersonalizationEnabled}}};const Gc="Rendering is disabled for authoring mode.",Zc="decisioning.propositionDisplay",Qc="decisioning.propositionInteract",Xc="decisioning.propositionTrigger",Yc="decisioning.propositionDismiss",Kc="decisioning.propositionSuppressDisplay",el=1,tl={DISPLAY:"display",INTERACT:"interact",TRIGGER:"trigger",DISMISS:"dismiss",SUPPRESS:"suppressDisplay"},nl={[Zc]:tl.DISPLAY,[Qc]:tl.INTERACT,[Xc]:tl.TRIGGER,[Yc]:tl.DISMISS,[Kc]:tl.SUPPRESS},ol={[tl.DISPLAY]:Zc,[tl.INTERACT]:Qc,[tl.TRIGGER]:Xc,[tl.DISMISS]:Yc,[tl.SUPPRESS]:Kc},rl=e=>nl[e],al=e=>ol[e],il={propositions:[]};var sl=({logger:e,options:t})=>{const n=Io({propositions:yo(Io({id:xo().required(),scope:xo().required(),scopeDetails:Io({decisionProvider:xo().required()}).required(),items:yo(Io({id:xo().required(),schema:xo().required(),data:Io(vo())})).nonEmpty().required()}).required()).nonEmpty().required(),metadata:Io(vo()),viewName:xo()}).required();try{return n(t)}catch(t){return e.warn("Invalid options for applyPropositions. No propositions will be applied.",t),il}},cl=({getPageLocation:e,logger:t,fetchDataHandler:n,viewChangeHandler:o,onClickHandler:r,isAuthoringModeEnabled:a,mergeQuery:i,viewCache:s,showContainers:c,applyPropositions:l,setTargetMigration:d,mergeDecisionsMeta:u,renderedPropositions:p,onDecisionHandler:g,handleConsentFlicker:m})=>({lifecycle:{onComponentsRegistered(){m()},onDecision:g,onBeforeRequest:({request:e})=>(d(e),Promise.resolve()),onBeforeEvent({event:r,renderDecisions:l,decisionScopes:d=[],personalization:g={},onResponse:m=Qt,onRequestFailure:f=Qt}){if(m((()=>({propositions:[]}))),f((()=>c())),a())return t.warn(Gc),i(r,{enabled:!1}),Promise.resolve();const h=Jc({getPageLocation:e,renderDecisions:l,decisionScopes:d,personalization:g,event:r,isCacheInitialized:s.isInitialized(),logger:t}),b=[];if(h.shouldIncludeRenderedPropositions()&&b.push(p.clear()),h.shouldFetchData()){const e=s.createCacheUpdate(h.getViewName());f((()=>e.cancel())),n({cacheUpdate:e,personalizationDetails:h,event:r,onResponse:m})}else h.shouldUseCachedData()&&b.push(o({personalizationDetails:h,event:r,onResponse:m,onRequestFailure:f}));return Promise.all(b).then((e=>{const t=e.flatMap((e=>e));Be(t)&&u(r,t,[tl.DISPLAY])}))},onClick({event:e,clickedElement:t}){r({event:e,clickedElement:t})}},commands:{applyPropositions:{optionsValidator:e=>sl({logger:t,options:e}),run:l}}}),ll=(e="undefined")=>je(De,{},{innerHTML:e});const dl=":eq(",ul=/:eq\((\d+)\)/g,pl=e=>-1===e.indexOf(dl),gl=e=>e.split(ul).filter(Zt),ml=/(#|\.)(-?\w+)/g,fl=(e,t,n)=>`${t}${CSS.escape(n)}`,hl=e=>e.replace(ml,fl),bl=e=>{const t=[],n=hl(e.trim()),o=gl(n),{length:r}=o;let a=0;for(;a<r;){const e=o[a],n=o[a+1];n?t.push({sel:e,eq:Number(n)}):t.push({sel:e}),a+=2}return t},vl=e=>{const t=document;if(pl(e))return Ge(e,t);const n=bl(e),{length:o}=n;let r=[],a=t,i=0;for(;i<o;){const{sel:e,eq:t}=n[i],s=Ge(e,a),{length:c}=s;if(0===c)break;if(null!=t&&t>c-1)break;i<o-1&&(null==t?[a]=s:a=s[t]),i===o-1&&(r=null==t?s:[s[t]]),i+=1}return r};var yl=(e,t=document)=>t.getElementById(e),wl=(e,t,n)=>{e.setAttribute(t,n)},Cl=(e,t)=>e.getAttribute(t),kl=(e,t)=>{e.removeAttribute(t)},El=(e,t,n,o)=>{let r;r=o?`${t}:${n} !${o};`:`${t}:${n};`,e.style.cssText+=`;${r}`},Pl=e=>e.parentNode,Il=e=>e.nextElementSibling,xl=(e,t)=>{if(!e)return;const n=Pl(e);n&&n.insertBefore(t,Il(e))},Tl=(e,t)=>{if(!e)return;const n=Pl(e);n&&n.insertBefore(t,e)},Sl=e=>{const{children:t}=e;return t?Ve(t):[]},jl=e=>{const{childNodes:t}=e;return t?Ve(t):[]},Ol=e=>e.firstElementChild;let _l;var Rl=(e=document)=>{if(void 0===_l){const t=e.querySelector("[nonce]");_l=t&&(t.nonce||t.getAttribute("nonce"))}return _l};const Dl="src",Nl=e=>e.tagName===Re,Ll=e=>je(Re,{src:e}),Al=e=>{Ge(Re,e).forEach((e=>{const t=Cl(e,Dl);t&&Ll(t)}))},Ml=(e,t)=>e.tagName===t,ql=e=>Ml(e,Ne)&&!Cl(e,Dl);var Bl=e=>{const t=Ge(Ne,e),{length:n}=t,o=Rl();if(o)for(let e=0;e<n;e+=1){const n=t[e];ql(n)&&(n.nonce=o)}};const Vl=(e,t)=>new Promise(((n,o)=>{t.onload=()=>{n(t)},t.onerror=()=>{o(new Error(`Failed to load script: ${e}`))}})),Fl=e=>{const t=document.createElement("script");t.src=e,t.async=!0;const n=Vl(e,t);return document.head.appendChild(t),n},Ul=(e,t)=>!!e&&e.tagName===t,$l=e=>Ul(e,Le)&&!Cl(e,Dl),zl=e=>Ul(e,Le)&&Cl(e,Dl),Hl=e=>{const t=Ge(Le,e),n=[],{length:o}=t,r=Rl(),a={...r&&{nonce:r}};for(let e=0;e<o;e+=1){const o=t[e];if(!$l(o))continue;const{textContent:r}=o;r&&n.push(je(Le,a,{textContent:r}))}return n},Wl=e=>{const t=Ge(Le,e),n=[],{length:o}=t;for(let e=0;e<o;e+=1){const o=t[e];if(!zl(o))continue;const r=Cl(o,Dl);r&&n.push(r)}return n},Jl=(e,t)=>{t.forEach((t=>{e.appendChild(t),e.removeChild(t)}))},Gl=e=>Promise.all(e.map(Fl));var Zl=(e,t,n)=>{const o=ll(t);Bl(o);const r=jl(o),a=Hl(o),i=Wl(o);return Al(o),r.forEach((t=>{Te(e,t)})),n(e),Jl(e,a),Gl(i)};const Ql=e=>{jl(e).forEach(ut)};var Xl=(e,t,n)=>(Ql(e),Zl(e,t,n)),Yl=(e,t,n)=>{const o=ll(t);Bl(o);const r=jl(o),a=Hl(o),i=Wl(o),{length:s}=r;let c=s-1;for(Al(o);c>=0;){const t=r[c];n(t);const o=Ol(e);o?Tl(o,t):Te(e,t),c-=1}return Jl(e,a),Gl(i)};const Kl="alloy-prehiding",ed="{ visibility: hidden }",td={},nd=e=>{if(td[e])return;const t=Rl(),n={...t&&{nonce:t}},o=je(Ne,n,{textContent:`${e} ${ed}`});Te(document.head,o),td[e]=o},od=e=>{const t=td[e];t&&(ut(t),delete td[e])},rd=e=>t=>{if(!t)return;if(yl(Kl))return;const n=Rl(),o={id:Kl,...n&&{nonce:n}},r=je(Ne,o,{textContent:t});e.logOnContentHiding({status:"hide-containers",message:"Prehiding style applied to hide containers.",logLevel:"info"}),Te(document.head,r)},ad=e=>()=>{const t=yl(Kl);t&&(e.logOnContentHiding({status:"show-containers",message:"Prehiding style removed to show containers.",logLevel:"info"}),ut(t))};var id=(e,t,n)=>{n(e),e.textContent=t},sd=(e,t,n)=>{const o=ll(t);Bl(o);const r=jl(o),a=Hl(o),i=Wl(o);return Al(o),r.forEach((t=>{n(t),Tl(e,t)})),Jl(e,a),Gl(i)},cd=(e,t,n)=>sd(e,t,n).then((()=>{ut(e)})),ld=(e,t,n)=>{const o=ll(t);Bl(o);const r=jl(o),a=Hl(o),i=Wl(o);Al(o);let s=e;return r.forEach((e=>{n(e),xl(s,e),s=e})),Jl(e,a),Gl(i)},dd=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{El(e,t,r[t],o)})),n(e)},ud=(e,t,n)=>{Object.keys(t).forEach((n=>{wl(e,n,t[n])})),n(e)},pd=(e,t,n)=>{Nl(e)&&(Ll(t),n(e),kl(e,Dl),wl(e,Dl,t))},gd=(e,{from:t,to:n},o)=>{const r=Sl(e),a=r[t],i=r[n];a&&i&&(t<n?xl(i,a):Tl(i,a),o(i),o(a))};const md=(e,t,n,o)=>{const r=e.map((e=>o(e,t,n)));return Promise.all(r)},fd=e=>(t,n)=>{const{selector:o,prehidingSelector:r,content:a}=t;return nd(r),lt(o,vl).then((t=>md(t,a,n,e))).then((()=>{od(r)}),(e=>{throw od(r),e}))},hd=e=>`${e}`.endsWith("px")?e:`${e}px`;var bd=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{let n=r[t];"left"!==t&&"top"!==t||(n=hd(n)),El(e,t,n,o)})),n(e)},vd=(e,t,n)=>{n(e)},yd=(e,t,n)=>{const{priority:o,...r}=t;Object.keys(r).forEach((t=>{let n=r[t];"width"!==t&&"height"!==t||(n=hd(n)),El(e,t,n,o)})),n(e)};const wd="setHtml",Cd="customCode",kd="setText",Ed="setAttribute",Pd="setImageSource",Id="setStyle",xd="move",Td="resize",Sd="rearrange",jd="remove",Od="insertAfter",_d="insertBefore",Rd="replaceHtml",Dd="prependHtml",Nd="appendHtml",Ld="click",Ad="collectInteractions";var Md=()=>({[wd]:fd(Xl),[Cd]:fd(Yl),[kd]:fd(id),[Ed]:fd(ud),[Pd]:fd(pd),[Id]:fd(dd),[xd]:fd(bd),[Td]:fd(yd),[Sd]:fd(gd),[jd]:fd(ut),[Od]:fd(ld),[_d]:fd(sd),[Rd]:fd(cd),[Dd]:fd(Yl),[Nd]:fd(Zl),[Ad]:fd(vd)}),qd=({eventManager:e,mergeDecisionsMeta:t})=>({decisionsMeta:n=[],propositionAction:o,documentMayUnload:r=!1,eventType:a=Zc,propositionEventTypes:i=[rl(a)],viewName:s})=>{const c=e.createEvent(),l={eventType:a};return s&&(l.web={webPageDetails:{viewName:s}}),Be(n)&&t(c,n,i,o),c.mergeXdm(l),r&&c.documentMayUnload(),e.sendEvent(c)};const Bd="personalization:decisions";var Vd=({logger:e,prehidingStyle:t,showContainers:n,hideContainers:o,mergeQuery:r,processPropositions:a,createProposition:i,notificationHandler:s,consent:c})=>({cacheUpdate:l,personalizationDetails:d,event:u,onResponse:p})=>{const{state:g,wasSet:m}=c.current();"out"===g&&m||(d.isRenderDecisions()?o(t):n()),r(u,d.createQueryDetails());const f=s(d.isRenderDecisions(),d.isSendDisplayEvent(),d.getViewName());p((({response:t})=>{const o=t.getPayloadsByType(Bd);Be(o)||e.logOnContentRendering({status:"no-offers",message:"No offers were returned.",logLevel:"info",detail:{query:d.createQueryDetails()}});const r=o.map((e=>i(e))),{page:s=[],view:c=[],proposition:u=[]}=Pt(r,(e=>e.getScopeType())),p=l.update(c);let g,m,h;return d.isRenderDecisions()?(({render:g,returnedPropositions:m,returnedDecisions:h}=a([...s,...p],u)),Be(s)&&e.logOnContentRendering({status:"rendering-started",message:"Started rendering propositions for page-wide scope.",logLevel:"info",detail:{scope:kr,propositions:s.map((e=>e.toJSON()))}}),Be(p)&&e.logOnContentRendering({status:"rendering-started",message:`Rendering propositions started for view scope - ${d.getViewName()}.`,logLevel:"info",detail:{scope:d.getViewName(),propositions:p.map((e=>e.toJSON()))}}),g().then(f),n()):({returnedPropositions:m,returnedDecisions:h}=a([],[...s,...p,...u])),{propositions:m,decisions:h}}))},Fd=(e,t)=>{if(pl(e))return dt(e,t);const n=vl(e);let o=!1;for(let e=0;e<n.length;e+=1)if(n[e]===t){o=!0;break}return o};const Ud="view",$d="page",zd="proposition",Hd=e=>e.map((e=>{const{trackingLabel:t,scopeType:n,...o}=e;return o})),Wd=e=>e.filter(((t,n)=>{const o=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===o))})),Jd=(e,t,n)=>{const{documentElement:o}=document;let r=e,a=0;for(;r&&r!==o;){if(Fd(t,r)){const e=n(t),o={metas:e},r=e.find((e=>e.trackingLabel));r&&(o.label=r.trackingLabel,o.weight=a);const i=e.find((e=>e.scopeType===Ud));return i&&(o.viewName=i.scope,o.weight=a),o}r=r.parentNode,a+=1}return{metas:null}};var Gd=(e,t,n)=>{const o=[];let r,a="",i=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER;for(let c=0;c<t.length;c+=1){const{metas:l,label:d,weight:u,viewName:p}=Jd(e,t[c],n);l&&(d&&u<=i&&(a=d,i=u),p&&u<=s&&(r=p,s=u),o.push(...Hd(l)))}return{decisionsMeta:Wd(o),propositionActionLabel:a,propositionActionToken:void 0,viewName:r}},Zd=(e=document)=>-1!==e.location.href.indexOf("adobe_authoring_enabled");const Qd=(e,t,n,o)=>{if(0===t.length)return;const r={};n.forEach((e=>{r[e]=el}));const a={_experience:{decisioning:{propositions:t,propositionEventType:r}}};o&&(a._experience.decisioning.propositionAction=o),e.mergeXdm(a)},Xd=(e,t)=>{e.mergeQuery({personalization:{...t}})},Yd=(e,t)=>{if(!t&&!e)return;const n={};return e&&(n.label=e),t&&(n.tokens=[t]),n};var Kd=({mergeDecisionsMeta:e,collectInteractions:t,collectClicks:n,getInteractionMetas:o,getClickMetas:r,getClickSelectors:a,autoCollectPropositionInteractions:i})=>({event:s,clickedElement:c})=>{const l=[];let d,u,p;if([t(c,o,i),n(c,a(),r)].forEach((({decisionsMeta:e,propositionActionLabel:t,propositionActionToken:n,viewName:o})=>{Array.prototype.push.apply(l,e),!d&&t&&(d=t),!u&&n&&(u=n),!p&&o&&(p=o)})),Be(l)){const t={eventType:Qc};p&&(t.web={webPageDetails:{viewName:p}}),s.mergeXdm(t),e(s,l,[tl.INTERACT],Yd(d,u))}},eu=({createProposition:e})=>{let t=!1,n=Promise.resolve({});const o=(t,n)=>{const o=t[n.toLowerCase()];return o&&o.length>0?o:[e({scope:n,scopeDetails:{characteristics:{scopeType:Ud}},items:[{schema:Ac}]},!1)]};return{createCacheUpdate:e=>{const r=Ee();return t=!0,n=n.then((e=>r.promise.then((t=>({...e,...t}))).catch((()=>e)))),{update(t){const n=t.filter((e=>e.getScope())),a=Pt(n,(e=>e.getScope().toLowerCase()));return r.resolve(a),e?o(a,e):[]},cancel(){r.reject()}}},getView:e=>n.then((t=>o(t,e))),isInitialized:()=>t}},tu=({processPropositions:e,viewCache:t,logger:n})=>({personalizationDetails:o,onResponse:r})=>{let a,i;const s=o.getViewName();return r((()=>({propositions:a,decisions:i}))),t.getView(s).then((t=>{let r;return o.isRenderDecisions()?(({render:r,returnedPropositions:a,returnedDecisions:i}=e(t)),n.logOnContentRendering({status:"rendering-started",message:`Started rendering propositions for view scope - ${s}.`,logLevel:"info",detail:{scope:s,propositions:t.map((e=>e.toJSON()))}}),r()):(({returnedPropositions:a,returnedDecisions:i}=e([],t)),[])}))};const nu=e=>Object.keys(e).map((t=>({id:t,...e[t]})));var ou=()=>{const e={};return{storeClickMeta:({selector:t,meta:{id:n,scope:o,scopeDetails:r,trackingLabel:a,scopeType:i}})=>{e[t]||(e[t]={}),e[t][n]={scope:o,scopeDetails:r,trackingLabel:a,scopeType:i}},getClickSelectors:()=>Object.keys(e),getClickMetas:t=>e[t]?nu(e[t]):{}}},ru=()=>{const e={},t={};return{storeInteractionMeta:(n,o,r,a,i)=>{i=parseInt(i,10),e[i]||(e[i]={},t[i]={}),t[i][n]||(t[i][n]=new Set),t[i][n].add(o),e[i][n]={...a,scopeType:r}},getInteractionMetas:n=>Array.isArray(n)&&0!==n.length?Object.values(n.map((e=>parseInt(e,10))).reduce(((n,o)=>(Object.keys(e[o]||{}).forEach((r=>{n[r]||(n[r]={proposition:e[o][r],items:new Set}),n[r].items=new Set([...n[r].items,...t[o][r]])})),n)),{})).map((({proposition:e,items:t})=>({...e,items:Array.from(t).map((e=>({id:e})))}))):[]}};const au=(e,t)=>e===Bc&&t===Ad,iu={[Mc]:()=>!0,[qc]:()=>!0,[Bc]:au,[Uc]:()=>!0,[Ac]:()=>!0},su=(e,t)=>"function"==typeof iu[e]&&iu[e](e,t);var cu=({processPropositions:e,createProposition:t,renderedPropositions:n,viewCache:o})=>{const r=({items:e,metadataForScope:t={}})=>{const{actionType:n,selector:o}=t;return e.filter((e=>su(e.schema,n))).map((e=>{const{schema:r}=e;return r===qc||au(r,n)?ft(t)?void 0:{...e,schema:au(r,n)?Mc:r,data:{...e.data,selector:o,type:n}}:{...e}})).filter((e=>e))},a=e=>!(e.scope===kr&&e.renderAttempted),i=({propositions:e,metadata:t})=>e.filter(a).map((e=>{if(Be(e.items)){const{id:n,scope:o,scopeDetails:a}=e;return{id:n,scope:o,scopeDetails:a,items:r({items:e.items,metadataForScope:t[e.scope]})}}return e})).filter((e=>Be(e.items)));return({propositions:r=[],metadata:a={},viewName:s})=>{const c=Ee();n.concat(c.promise);const l=i({propositions:r,metadata:a}).map((e=>t(e)));return Promise.resolve().then((()=>s?o.getView(s):[])).then((t=>{const{render:n,returnedPropositions:o}=e([...l,...t]);return n().then(c.resolve),{propositions:o}}))}},lu=({window:e})=>()=>e.location,du=({targetMigrationEnabled:e})=>e?e=>{e.getPayload().mergeMeta({target:{migration:!0}})}:Qt;const uu="BODY > *:eq(0)";var pu=e=>{const{selector:t,type:n}=e;return n!==Cd||t!==uu?e:{...e,selector:"BODY"}};const gu="SCRIPT,LINK,STYLE",mu=e=>{const t=ll(e);return Ge(gu,t).map((e=>e.outerHTML)).join("")};var fu=e=>{const t={...e},{content:n,selector:o}=t;if(ec(n))return t;if(null==o)return t;const r=vl(o);return Ul(r[0],Ae)?(t.type=Nd,t.content=mu(n),t):t},hu=e=>t=>t?e.reduce(((e,t)=>({...e,...t(e)})),t):t,bu=({preprocess:e,isPageWideSurface:t})=>{const n=(t,n)=>{const{id:o,schema:r,data:a,characteristics:{trackingLabel:i}={}}=t,s=a?a.type:void 0,c=e(a);return{getId:()=>o,getSchema:()=>r,getSchemaType:()=>s,getData:()=>c,getProposition:()=>n,getTrackingLabel:()=>i,getOriginalItem:()=>t,toString:()=>JSON.stringify(t),toJSON:()=>t}};return(e,o=!0,r=!1)=>{const{id:a,scope:i,scopeDetails:s,items:c=[]}=e,{characteristics:{scopeType:l}={}}=s||{};return{getScope:()=>i,getScopeType:()=>i===kr||t(i)?$d:l===Ud?Ud:zd,getItems(){return c.map((e=>n(e,this)))},getNotification:()=>({id:a,scope:i,scopeDetails:s}),getId:()=>a,toJSON:()=>e,shouldSuppressDisplay:()=>r,addToReturnValues(t,n,r,a){o&&(t.push({...e,items:r.map((e=>e.getOriginalItem())),renderAttempted:a}),a||n.push({...e,items:r.map((e=>e.getOriginalItem()))}))}}}},vu=()=>{let e=Promise.resolve([]);return{concat(t){e=e.then((e=>t.then((t=>e.concat(t))).catch((()=>e))))},clear(){const t=e;return e=Promise.resolve([]),t}}},yu=()=>({render:Qt,setRenderAttempted:!0,includeInNotification:!0});const wu="always",Cu="never",ku="decoratedElementsOnly",Eu=[wu,Cu,ku],Pu="data-aep-interact-id",Iu="data-aep-click-label",xu="data-aep-click-token";let Tu=0;const Su=(e,t)=>t?parseInt(t,10):++Tu,ju=(e,t)=>!!e&&!!e[t]&&[wu,ku].includes(e[t]),Ou=(e,t,n,o,r,a,i,s)=>{const{scopeDetails:c={}}=i,{decisionProvider:l}=c;return ju(e,l)||t===Ld?e=>{if(!e.tagName)return;const t=Su(n,Cl(e,Pu));s(n,o,a,i,t),wl(e,Pu,t),r&&!Cl(e,Iu)&&wl(e,Iu,r)}:Qt};var _u=({modules:e,logger:t,storeInteractionMeta:n,storeClickMeta:o,autoCollectPropositionInteractions:r})=>a=>{const{type:i,selector:s}=a.getData()||{};if(!i)return t.warn("Invalid DOM action data: missing type.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};if(i===Ld)return s?(o({selector:s,meta:{...a.getProposition().getNotification(),trackingLabel:a.getTrackingLabel(),scopeType:a.getProposition().getScopeType()}}),{setRenderAttempted:!0,includeInNotification:!1}):(t.warn("Invalid DOM action data: missing selector.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1});if(!e[i])return t.warn("Invalid DOM action data: unknown type.",a.getData()),{setRenderAttempted:!1,includeInNotification:!1};const c=Ou(r,i,a.getProposition().getId(),a.getId(),a.getTrackingLabel(),a.getProposition().getScopeType(),a.getProposition().getNotification(),n);return{render:()=>e[i](a.getData(),c),setRenderAttempted:!0,includeInNotification:!0}},Ru=({modules:e,logger:t,storeInteractionMeta:n,autoCollectPropositionInteractions:o})=>r=>{const{type:a,selector:i}=r.getData()||{};if(!i||!a)return{setRenderAttempted:!1,includeInNotification:!1};if(!e[a])return t.warn("Invalid HTML content data",r.getData()),{setRenderAttempted:!1,includeInNotification:!1};const s=Ou(o,a,r.getProposition().getId(),r.getId(),r.getTrackingLabel(),r.getProposition().getScopeType(),r.getProposition().getNotification(),n);return{render:()=>e[a](r.getData(),s),setRenderAttempted:!0,includeInNotification:!0}};const Du="BODY";var Nu=({logger:e,executeRedirect:t,collect:n})=>o=>{const{content:r}=o.getData()||{};return r?{render:()=>(nd(Du),n({decisionsMeta:[o.getProposition().getNotification()],documentMayUnload:!0}).then((()=>(e.logOnContentRendering({status:"rendering-redirect",detail:{propositionDetails:o.getProposition().getNotification(),redirect:r},message:`Redirect action ${o.toString()} executed.`,logLevel:"info"}),t(r)))).catch((e=>{throw od(Du),e}))),setRenderAttempted:!0,onlyRenderThis:!0}:(e.warn("Invalid Redirect data",o.getData()),{})},Lu=({schemaProcessors:e,logger:t})=>{const n=(e,n)=>()=>Promise.resolve().then(e).then((()=>(t.enabled&&t.info(`Action ${n.toString()} executed.`),n.toJSON()))).catch((e=>{const{message:o,stack:r}=e,a=`Failed to execute action ${n.toString()}. ${o} ${r}`;t.logOnContentRendering({status:"rendering-failed",detail:{propositionDetails:n.getProposition().getNotification(),item:n.toJSON()},error:e,message:a,logLevel:"warn"})})),o=async(e,t)=>{const n=(await Promise.allSettled(e.map((e=>e())))).filter((e=>"fulfilled"===e.status)).map((e=>e.value));if(t&&Be(n))return{...t,items:n}},r=t=>{const n=e[t.getSchema()];return n?n(t):{}},a=({renderers:e,returnedPropositions:t,returnedDecisions:a,items:i,proposition:s})=>{let c,l,d,u,p=[...e],g=[...t],m=[...a],f=[],h=[],b=[],v=!1,y=!1,w=0;for(;i.length>w;){if(u=i[w],({render:c,setRenderAttempted:l,includeInNotification:d,onlyRenderThis:y}=r(u)),y){g=[],m=[],l?(f=[u],h=[]):(f=[],h=[u]),p=[],b=[c],v=d;break}c&&b.push(n(c,u)),d&&(v=!0),l?f.push(u):h.push(u),w+=1}if(b.length>0){const e=v?s.getNotification():void 0;p.push((()=>o(b,e)))}else v&&p.push((()=>Promise.resolve(s.getNotification())));return f.length>0&&s.addToReturnValues(g,m,f,!0),h.length>0&&s.addToReturnValues(g,m,h,!1),{renderers:p,returnedPropositions:g,returnedDecisions:m,onlyRenderThis:y}};return(e,n=[])=>{let o,r,i,s=[],c=[],l=[],d=0;for(;e.length>d&&(r=e[d],i=r.getItems(),({renderers:s,returnedPropositions:c,returnedDecisions:l,onlyRenderThis:o}=a({renderers:s,returnedPropositions:c,returnedDecisions:l,items:i,proposition:r})),!o);)d+=1;return o&&e.forEach(((e,t)=>{t!==d&&e.addToReturnValues(c,l,e.getItems(),!1)})),n.forEach((e=>{e.addToReturnValues(c,l,e.getItems(),!1)})),{returnedPropositions:c,returnedDecisions:l,render:()=>Promise.all(s.map((e=>e()))).then((e=>{const n=e.filter((e=>e)),o=n.map((e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}}));if(Be(n)){const e=Pt(n,(e=>e.scope));t.logOnContentRendering({status:"rendering-succeeded",detail:{...e},message:`Scopes: ${JSON.stringify(e)} successfully executed.`,logLevel:"info"})}return o}))}}};const Au=()=>{let e=0;return t=>{const{items:n=[]}=t;return!!n.some((e=>e.schema===Uc))&&(e+=1,e>1)}};var Mu=({processPropositions:e,createProposition:t,notificationHandler:n})=>({renderDecisions:o,propositions:r,event:a,personalization:i={}})=>{if(!o)return Promise.resolve();const{sendDisplayEvent:s=!0}=i,c=a?a.getViewName():void 0,l=Au(),d=r.map((e=>t(e,!0,l(e)))),{render:u,returnedPropositions:p}=e(d),g=n(o,s,c),m=d.reduce(((e,t)=>(e[t.getId()]=t,e)),{});return u().then((e=>{const t=e.filter((e=>!m[e.id].shouldSuppressDisplay())),n=e.filter((e=>m[e.id].shouldSuppressDisplay()));g(t,n)})),Promise.resolve({propositions:p})};const qu="text/html",Bu="application/json",Vu="defaultContent",Fu=["content","contentType"],Uu=["mobileParameters","webParameters","html"],$u=(e,t)=>{for(let n=0;n<Fu.length;n+=1){const o=Fu[n];if(!Object.prototype.hasOwnProperty.call(e,o))return t.warn(`Invalid in-app message data: missing property '${o}'.`,e),!1}const{content:n,contentType:o}=e;if(o===Bu)for(let o=0;o<Uu.length;o+=1){const r=Uu[o];if(!Object.prototype.hasOwnProperty.call(n,r))return t.warn(`Invalid in-app message data.content: missing property '${r}'.`,e),!1}return!0};var zu=({modules:e,logger:t})=>n=>{const o=n.getData(),r=n.getProposition(),a={...r.getNotification()},i=r.shouldSuppressDisplay();if(!o)return t.warn("Invalid in-app message data: undefined.",o),{};const{type:s=Vu}=o;return e[s]?$u(o,t)?a?{render:()=>i?null:e[s]({...o,meta:a}),setRenderAttempted:!0,includeInNotification:!0}:(t.warn("Invalid in-app message meta: undefined.",a),{}):{}:(t.warn("Invalid in-app message data: unknown type.",o),{})};const Hu=e=>{const t=Ge(`#${e}`,document);t&&t.length>0&&ut(t[0])},Wu=e=>{const t={};if(!e||"a"!==e.tagName.toLowerCase())return t;const{href:n}=e;if(!n||!n.startsWith("adbinapp://"))return t;const o=n.split("?"),r=o[0].split("://")[1],a=e.innerText,i=e.getAttribute("data-uuid")||"";let s,c;if(Be(o)){const e=de.default.parse(o[1]);s=e.interaction||"",c=ni(e.link||"")}return{action:r,interaction:s,link:c,label:a,uuid:i}};var Ju=e=>(t,n=!1)=>(n?e.location.href=t:e.location.replace(t),new Promise((()=>{})));const Gu="alloy-messaging-container",Zu="alloy-overlay-container",Qu="alloy-content-iframe",Xu=()=>[Gu,Zu].forEach(Hu),Yu=(e,t=Ju(window))=>n=>{n.preventDefault(),n.stopImmediatePropagation();const{target:o}=n,r="a"===o.tagName.toLowerCase()?o:o.closest("a");if(!r)return;const{action:a,interaction:i,link:s,label:c,uuid:l}=Wu(r);e(a,{label:c,id:i,uuid:l,link:s}),"dismiss"===a&&Xu(),Zt(s)&&s.length>0&&t(s,!0)},Ku=(e,t)=>{const n=(new DOMParser).parseFromString(e,qu),o=n.querySelector("script");o&&o.setAttribute("nonce",Rl());const r=je("iframe",{src:URL.createObjectURL(new Blob([n.documentElement.outerHTML],{type:"text/html"})),id:Qu});return r.addEventListener("load",(()=>{const{addEventListener:e}=r.contentDocument||r.contentWindow.document;e("click",t)})),r},ep=(e,t,n,o)=>{[{id:Zu,element:o},{id:Gu,element:n},{id:Qu,element:e}].forEach((({id:e,element:n})=>{const{style:o={},params:r={}}=t[e];n.style={...n.style,...o};const{parentElement:a="body",insertionMethod:i="appendChild",enabled:s=!0}=r,c=document.querySelector(a);s&&c&&"function"==typeof c[i]&&c[i](n)}))},tp=e=>{const{verticalAlign:t,width:n,horizontalAlign:o,backdropColor:r,height:a,cornerRadius:i,horizontalInset:s,verticalInset:c,uiTakeover:l=!1}=e,d={width:n?`${n}%`:"100%",backgroundColor:r||"rgba(0, 0, 0, 0.5)",borderRadius:i?`${i}px`:"0px",border:"none",position:l?"fixed":"relative",overflow:"hidden"};return"left"===o?d.left=s?`${s}%`:"0":"right"===o?d.right=s?`${s}%`:"0":"center"===o&&(d.left="50%",d.transform="translateX(-50%)"),"top"===t?d.top=c?`${c}%`:"0":"bottom"===t?(d.position="fixed",d.bottom=c?`${c}%`:"0"):"center"===t&&(d.top="50%",d.transform=("center"===o?`${d.transform} `:"")+"translateY(-50%)",d.display="flex",d.alignItems="center",d.justifyContent="center"),d.height=a?`${a}vh`:"100%",d},np=e=>{const{backdropOpacity:t,backdropColor:n}=e;return{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",opacity:t||.5,backgroundColor:n||"#FFFFFF"}},op=["enabled","parentElement","insertionMethod"],rp=e=>{if(!e)return!1;const t=Object.keys(e);if(!t.includes(Gu))return!1;if(!t.includes(Zu))return!1;const n=Object.values(e);for(let e=0;e<n.length;e+=1){if(!Io(n[e],"style"))return!1;if(!Io(n[e],"params"))return!1;for(let t=0;t<op.length;t+=1)if(!Io(n[e].params,op[t]))return!1}return!0},ap=e=>{if(!e)return;const{uiTakeover:t=!1}=e;return{[Qu]:{style:{border:"none",width:"100%",height:"100%"},params:{enabled:!0,parentElement:"#alloy-messaging-container",insertionMethod:"appendChild"}},[Gu]:{style:tp(e),params:{enabled:!0,parentElement:"body",insertionMethod:"appendChild"}},[Zu]:{style:np(e),params:{enabled:!0===t,parentElement:"body",insertionMethod:"appendChild"}}}},ip=(e={},t)=>{Xu();const{content:n,contentType:o,mobileParameters:r}=e;let{webParameters:a}=e;if(o!==qu)return;const i=je("div",{id:Gu}),s=Ku(n,Yu(t)),c=je("div",{id:Zu});rp(a)||(a=ap(r)),a&&ep(s,a,i,c)};var sp=(e,t)=>new Promise((n=>{const{meta:o}=e;ip(e,((e,n)=>{const r={};r[tl.INTERACT]=el,-1!==Object.values(tl).indexOf(e)&&(r[e]=el),t({decisionsMeta:[o],propositionAction:n,eventType:Qc,propositionEventTypes:Object.keys(r)})})),n({meta:o})})),cp=e=>({defaultContent:t=>sp(t,e)}),lp=(e,t)=>(n,o,r)=>{if(!n)return()=>{};if(!o){const e=Ee();return t.concat(e.promise),e.resolve}return(t=[],n=[])=>{Be(t)&&e({decisionsMeta:t,viewName:r}),Be(n)&&e({decisionsMeta:n,eventType:Kc,propositionAction:{reason:"Conflict"},viewName:r})}},dp=({showContainers:e,consent:t})=>()=>{const{state:n,wasSet:o}=t.current();n===Fo&&o?e():t.awaitConsent().catch(e)};const up=e=>{const{documentElement:t}=document;let n=e;const o=new Set;let r,a;for(;n&&n!==t;){const e=Cl(n,Pu);e&&o.add(e),r=r||Cl(n,Iu),a=a||Cl(n,xu),n=n.parentNode}return{interactIds:[...o],clickLabel:r,clickToken:a}},pp=e=>{const t=e.find((e=>e.scopeType===Ud));return t?t.scope:void 0},gp=(e,t,n)=>o=>{const{scopeDetails:r={}}=o,{decisionProvider:a}=r;return e[a]===wu||e[a]===ku&&(t||n)};var mp=(e,t,n)=>{const{interactIds:o,clickLabel:r="",clickToken:a}=up(e),i=gp(n,r,a);if(0===o.length)return{};const s=t(o).filter(i);return{decisionsMeta:Hd(s),propositionActionLabel:r,propositionActionToken:a,viewName:pp(s)}};const fp="AJO",hp="TGT",bp=({config:e,logger:t,eventManager:n,consent:o})=>{const{targetMigrationEnabled:r,prehidingStyle:a,autoCollectPropositionInteractions:i}=e,s=qd({eventManager:n,mergeDecisionsMeta:Qd}),c=ad(t),l=rd(t),{storeInteractionMeta:d,getInteractionMetas:u}=ru(),{storeClickMeta:p,getClickSelectors:g,getClickMetas:m}=ou(),f=lu({window:window}),h=Md(),b=hu([fu,pu]),v=bu({preprocess:b,isPageWideSurface:Nc}),y=eu({createProposition:v}),w=Ju(window),C={[Ac]:yu,[Mc]:_u({modules:h,logger:t,storeInteractionMeta:d,storeClickMeta:p,autoCollectPropositionInteractions:i}),[qc]:Ru({modules:h,logger:t,storeInteractionMeta:d,autoCollectPropositionInteractions:i}),[Fc]:Nu({logger:t,executeRedirect:w,collect:s}),[Uc]:zu({modules:cp(s),logger:t})},k=Lu({schemaProcessors:C,logger:t}),E=vu(),P=lp(s,E),I=Vd({prehidingStyle:a,showContainers:c,hideContainers:l,mergeQuery:Xd,processPropositions:k,createProposition:v,notificationHandler:P,consent:o,logger:t}),x=Kd({mergeDecisionsMeta:Qd,collectInteractions:mp,collectClicks:Gd,getInteractionMetas:u,getClickMetas:m,getClickSelectors:g,autoCollectPropositionInteractions:i}),T=tu({processPropositions:k,viewCache:y,logger:t}),S=cu({processPropositions:k,createProposition:v,renderedPropositions:E,viewCache:y}),j=du({targetMigrationEnabled:r}),O=Mu({processPropositions:k,createProposition:v,notificationHandler:P}),_=dp({showContainers:c,consent:o});return cl({getPageLocation:f,logger:t,fetchDataHandler:I,viewChangeHandler:T,onClickHandler:x,isAuthoringModeEnabled:Zd,mergeQuery:Xd,viewCache:y,showContainers:c,applyPropositions:S,setTargetMigration:j,mergeDecisionsMeta:Qd,renderedPropositions:E,onDecisionHandler:O,handleConsentFlicker:_})};bp.namespace="Personalization";const vp=Eu.map((e=>ko(e)));bp.configValidators=Io({prehidingStyle:xo().nonEmpty(),targetMigrationEnabled:wo().default(!1),autoCollectPropositionInteractions:Io({[fp]:bo(vp).default(wu),[hp]:bo(vp).default(Cu)}).default({[fp]:wu,[hp]:Cu}).noUnknownFields()});const yp="personalization:decisions",wp=e=>null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype,Cp=(e,t={},n=[])=>(Object.keys(e).forEach((o=>{wp(e[o])||Array.isArray(e[o])?Cp(e[o],t,[...n,o]):t[[...n,o].join(".")]=e[o]})),t);var kp=e=>wp(e)?Cp(e):e,Ep=({renderDecisions:e,decisionProvider:t,applyResponse:n,event:o,personalization:r,decisionContext:a})=>{const i={...kp(o.getContent()),...a};return({response:a})=>{if(t.addPayloads(a.getPayloadsByType(yp)),!o.hasQuery())return{propositions:[]};const s=t.evaluate(i);return n({renderDecisions:e,propositions:s,event:o,personalization:r})}};const Pp={MATCHER:"matcher",GROUP:"group",HISTORICAL:"historical"},Ip={EQUALS:"eq",NOT_EQUALS:"ne",EXISTS:"ex",NOT_EXISTS:"nx",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"ge",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"le",CONTAINS:"co",NOT_CONTAINS:"nc",STARTS_WITH:"sw",ENDS_WITH:"ew"},xp={AND:"and",OR:"or"},Tp={ORDERED:"ordered"},Sp={[Ip.EQUALS]:d(),[Ip.NOT_EQUALS]:u(),[Ip.EXISTS]:p(),[Ip.NOT_EXISTS]:g(),[Ip.GREATER_THAN]:f(),[Ip.GREATER_THAN_OR_EQUAL_TO]:h(),[Ip.LESS_THAN]:b(),[Ip.LESS_THAN_OR_EQUAL_TO]:v(),[Ip.CONTAINS]:y(),[Ip.NOT_CONTAINS]:w(),[Ip.STARTS_WITH]:C(),[Ip.ENDS_WITH]:k()},jp=["iam.eventType","eventType","type"],Op=["iam.id","id"],_p="TGT",Rp="DEFAULT",Dp="ECID",Np="<key>",Lp="<identity>",Ap=ee(ne,(e=>e.join("-"))),Mp=100,qp=ee(oe),Bp=(e,t)=>n=>{const o=e.getItem(t);if(!o)return n;try{return JSON.parse(o)}catch{return n}},Vp=(e,t,n=(e=>e))=>o=>{e.setItem(t,JSON.stringify(n(o)))},Fp=e=>{const t=new Date;return t.setDate(t.getDate()-e),t},Up=e=>{const{scopeDetails:t={}}=e,{activity:n={}}=t,{id:o}=n;return o},$p=()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n}}},zp=e=>{e.clear()},Hp=(e={})=>{const{_experience:t}=e;return!(!t||"object"!=typeof t)},Wp=e=>{const{scopeDetails:t={}}=e,{decisionProvider:n}=t;return n},Jp=(e=[])=>{const t=[];return Array.isArray(e)?(e.forEach((e=>{Array.isArray(e)?t.push(...Jp(e)):t.push(e)})),t):e};var Gp=(e,t,n)=>{const{html:o,mobileParameters:r}=n;return{schema:Uc,data:{mobileParameters:r,webParameters:{},content:o,contentType:qu},id:e}},Zp=(e,t,n)=>{const{schema:o,data:r,id:a}=n;return{schema:o,data:r,id:a||e}};const Qp="cjmiam",Xp="schema",Yp={[Qp]:Gp,[Xp]:Zp};var Kp=()=>e=>{const{id:t,type:n,detail:o}=e;return"function"==typeof Yp[n]?Yp[n](t,n,o):o};const eg=e=>{const{schema:t,data:n}=e;if(t===Vc)return!0;if(t!==Bc)return!1;try{const e="string"==typeof n.content?JSON.parse(n.content):n.content;return e&&Object.prototype.hasOwnProperty.call(e,"version")&&Object.prototype.hasOwnProperty.call(e,"rules")}catch{return!1}};var tg=(e,t,n)=>{const o=Kp(),r=Up(e),a=[],i=e=>{const{data:t={},schema:n}=e,o=n===Vc?t:t.content;o&&a.push(le("string"==typeof o?JSON.parse(o):o))},s=i=>{const s=t.getEvent(Zc,r),c=s?s.firstTimestamp:void 0,l=Jp(a.map((e=>e.execute(i)))).map(o).map((e=>{const{firstTimestamp:t}=n.recordQualified(r)||{};return{...e,data:{...e.data,qualifiedDate:t,displayedDate:c}}}));return{...e,items:l}};return Array.isArray(e.items)&&e.items.filter(eg).forEach(i),{rank:e?.scopeDetails?.rank||1/0,evaluate:s,isEvaluable:a.length>0}},ng=({eventRegistry:e})=>({recordQualified:t=>{if(t)return e.addEvent({},tl.TRIGGER,t)}}),og=({eventRegistry:e})=>{const t={},n=ng({eventRegistry:e}),o=o=>{const r=Up(o);if(!r)return;const a=tg(o,e,n);a.isEvaluable&&(t[r]=a)};return{addPayload:o,addPayloads:e=>{e.forEach(o)},evaluate:(e={})=>Object.values(t).sort((({rank:e},{rank:t})=>e-t)).map((t=>t.evaluate(e))).filter((e=>e.items.length>0))}
},rg=e=>({renderDecisions:t=!1,propositions:n=[],event:o,personalization:r})=>(e&&e.onDecision({renderDecisions:t,propositions:n,event:o,personalization:r}),{propositions:n});const ag="events",ig=1e3,sg=30,cg=e=>`iam.${e}`,lg=(e=ig,t=sg)=>n=>{const o={};return Object.keys(n).forEach((r=>{o[r]={},Object.values(n[r]).filter((e=>new Date(e.firstTimestamp)>=Fp(t))).sort(((e,t)=>e.firstTimestamp-t.firstTimestamp)).slice(-1*e).forEach((e=>{o[r][e.event[cg("id")]]=e}))})),o};var dg=({storage:e})=>{let t,n,o,r=e;const a=e=>{r=e,t=Bp(r,ag),n=Vp(r,ag,lg(ig,sg)),o=t({})};a(e);const i=(e,t,r,a)=>{if(!t||!r)return;o[t]||(o[t]={});const i=o[t][r],s=i?i.count:0,c=(new Date).getTime(),l=i?i.firstTimestamp||i.timestamp:c;return o[t][r]={event:{...e,[cg("id")]:r,[cg("eventType")]:t,[cg("action")]:a},firstTimestamp:l,timestamp:c,count:s+1},n(o),o[t][r]};return{addExperienceEdgeEvent:e=>{const{xdm:t={}}=e.getContent(),{_experience:n}=t;if(!Hp(t))return;const{decisioning:o={}}=n,{propositionEventType:r={},propositionAction:a={},propositions:s=[]}=o,c=Object.keys(r);if(0===c.length)return;const l=e=>r[e]===el,{id:d}=a;c.filter(l).forEach((e=>{s.forEach((t=>{Wp(t)===fp&&i({},e,Up(t),d)}))}))},addEvent:i,getEvent:(e,t)=>{if(o[e])return o[e][t]},toJSON:()=>o,setStorage:a}},ug=({eventRegistry:e,window:t,getBrowser:n})=>{const o=(new Date).getTime(),r=()=>({title:t.title,url:t.url,...Kt(t.url)}),a=()=>({url:t.referrer,...Kt(t.referrer)}),i=()=>{const e=new Date,t=e.getTime();return{pageLoadTimestamp:o,currentTimestamp:t,currentDate:e.getDate(),"~state.com.adobe.module.lifecycle/lifecyclecontextdata.dayofweek":e.getDay()+1,"~state.com.adobe.module.lifecycle/lifecyclecontextdata.hourofday":e.getHours(),currentMinute:e.getMinutes(),currentMonth:e.getMonth(),currentYear:e.getFullYear(),pageVisitDuration:t-o,"~timestampu":t/1e3,"~timestampz":e.toISOString()}},s=()=>({height:t.height,width:t.width,scrollY:t.scrollY,scrollX:t.scrollX}),c={browser:{name:n()},page:r(),referringPage:a()},l=()=>({...c,...i(),window:s(),"~sdkver":wa});return{getContext:(t={})=>{const n={...l(),...t};return{...kp(n),events:e.toJSON()}}}};const pg=(e,...t)=>t,gg=()=>!0,mg=()=>{let e=pg,t=gg,n=0;const o={},r=e=>()=>{delete o[e]},a=(e,t)=>"function"!=typeof e?()=>{}:(n+=1,o[n]={callback:e,params:t},{id:n,unsubscribe:r(n)}),i=(...n)=>{Object.values(o).forEach((({callback:o,params:r})=>{const a=e(r,...n);t(r,...a)&&o(...a)}))},s=(n,...r)=>{if(!n||!o[n])return;const{callback:a,params:i}=o[n],s=e(i,...r);t(i,...s)&&a(...s)};return{add:a,emit:i,emitOne:s,hasSubscriptions:()=>Object.keys(o).length>0,setEmissionPreprocessor:t=>{"function"==typeof t&&(e=t)},setEmissionCondition:e=>{"function"==typeof e&&(t=e)}}},fg=({options:e})=>Io({surfaces:yo(xo()).uniqueItems(),schemas:yo(xo()).uniqueItems(),callback:Co().required()}).noUnknownFields()(e),hg=e=>{const{id:t,scope:n,scopeDetails:o}=e;return{id:t,scope:n,scopeDetails:o}};var bg=({collect:e})=>{let t=()=>{};const n=new Set,o=e=>[tl.INTERACT,tl.DISMISS].includes(e),r=(e,t,r)=>{const a=[e,t].join("-"),i=!r.has(a)&&(o(e)||!n.has(a));return r.add(a),n.add(a),i},a=(t,n=[])=>{if(!(n instanceof Array))return Promise.resolve();if(!Object.values(tl).includes(t))return Promise.resolve();const o=[],a=new Set;return n.forEach((e=>{const n=hg(e);r(t,n.id,a)&&o.push(n)})),o.length>0?e({decisionsMeta:o,eventType:al(t),documentMayUnload:!0}):Promise.resolve()},i=mg(),s=(e,t)=>{const{surfacesFilter:n,schemasFilter:o}=e;return[{propositions:t.filter((e=>!n||n.includes(e.scope))).map((e=>{const{items:t=[]}=e;return{...e,items:t.filter((e=>!o||o.includes(e.schema)))}})).filter((e=>e.items.length>0))},a]};i.setEmissionPreprocessor(s);const c=({surfaces:e,schemas:n,callback:o})=>{const{id:r,unsubscribe:a}=i.add(o,{surfacesFilter:e instanceof Array?e:void 0,schemasFilter:n instanceof Array?n:void 0});return t(r),Promise.resolve({unsubscribe:a})};return{refresh:e=>{t=t=>{t?i.emitOne(t,e):i.emit(e)},t()},command:{optionsValidator:e=>fg({options:e}),run:c}}};const vg={TYPE:"~type",SOURCE:"~source"},yg={EDGE:"com.adobe.eventType.edge",RULES_ENGINE:"com.adobe.eventType.rulesEngine"},wg={REQUEST:"com.adobe.eventSource.requestContent"},Cg=({options:e})=>Io({renderDecisions:wo(),personalization:Io({decisionContext:Io({})})}).noUnknownFields()(e);var kg=({contextProvider:e,decisionProvider:t})=>({optionsValidator:e=>Cg({options:e}),run:({renderDecisions:n,decisionContext:o,applyResponse:r})=>r({renderDecisions:n,propositions:t.evaluate(e.getContext(o))})});const Eg=({config:e,eventManager:t,createNamespacedStorage:n,consent:o,getBrowser:r})=>{const{orgId:a,personalizationStorageEnabled:i}=e,s=qd({eventManager:t,mergeDecisionsMeta:Qd}),c=n(`${kt(a)}.decisioning.`);i||zp(c.persistent);const l=dg({storage:$p()}),d=og({eventRegistry:l}),u=ug({eventRegistry:l,window:window,getBrowser:r}),p=kg({contextProvider:u,decisionProvider:d}),g=bg({collect:s});let m;return{lifecycle:{onDecision({propositions:e}){g.refresh(e)},onComponentsRegistered(e){m=rg(e.lifecycle),i&&o.awaitConsent().then((()=>{l.setStorage(c.persistent)})).catch((()=>{c&&zp(c.persistent)}))},onBeforeEvent({event:e,renderDecisions:t,personalization:n={},onResponse:o=Qt}){const{decisionContext:r={}}=n;o(Ep({renderDecisions:t,decisionProvider:d,applyResponse:m,event:e,personalization:n,decisionContext:u.getContext({[vg.TYPE]:yg.EDGE,[vg.SOURCE]:wg.REQUEST,...r})}))},onBeforeRequest({request:e}){const t=e.getPayload().toJSON(),{events:n=[]}=t;0!==n.length&&n.forEach((e=>l.addExperienceEdgeEvent(e)))}},commands:{evaluateRulesets:{run:({renderDecisions:e,personalization:t={}})=>{const{decisionContext:n={}}=t;return p.run({renderDecisions:e,decisionContext:{[vg.TYPE]:yg.RULES_ENGINE,[vg.SOURCE]:wg.REQUEST,...n},applyResponse:m})},optionsValidator:p.optionsValidator},subscribeRulesetItems:g.command}}};Eg.namespace="RulesEngine",Eg.configValidators=Io({personalizationStorageEnabled:wo().default(!1)});var Pg=Io({streamingMedia:Io({channel:xo().nonEmpty().required(),playerName:xo().nonEmpty().required(),appVersion:xo(),mainPingInterval:Eo().minimum(10).maximum(50).default(10),adPingInterval:Eo().minimum(1).maximum(10).default(10)}).noUnknownFields()}),Ig=({options:e})=>bo([Io({playerId:xo().required(),getPlayerDetails:Co().required(),xdm:Io({mediaCollection:Io({sessionDetails:Io(vo()).required()})}),edgeConfigOverrides:Io({})}).required(),Io({xdm:Io({mediaCollection:Io({playhead:Eo().required(),sessionDetails:Io(vo()).required()})}),edgeConfigOverrides:Io({})}).required()],"Error validating the createMediaSession command options.")(e),xg=({options:e})=>bo([Io({playerId:xo().required(),xdm:Io({eventType:To(...Object.values(Ws)).required(),mediaCollection:Io(vo())}).required()}).required(),Io({xdm:Io({eventType:To(...Object.values(Ws)).required(),mediaCollection:Io({playhead:Eo().integer().required(),sessionID:xo().required()}).required()}).required()}).required()],"Error validating the sendMediaEvent command options.")(e),Tg=({config:e,trackMediaEvent:t,trackMediaSession:n,mediaResponseHandler:o})=>({lifecycle:{onBeforeEvent({mediaOptions:e,onResponse:t=Qt}){if(!e)return;const{legacy:n,playerId:r,getPlayerDetails:a}=e;n||t((({response:e})=>o({playerId:r,getPlayerDetails:a,response:e})))}},commands:{createMediaSession:{optionsValidator:e=>Ig({options:e}),run:n},sendMediaEvent:{optionsValidator:e=>xg({options:e}),run:n=>e.streamingMedia?t(n):Promise.reject(new Error("Streaming media is not configured."))}}});const Sg=({config:e,logger:t,eventManager:n,sendEdgeNetworkRequest:o,consent:r})=>{const a=Qs(),i=Gs({config:e,eventManager:n,consent:r,sendEdgeNetworkRequest:o,setTimestamp:va((()=>new Date))}),s=Ys({mediaSessionCacheManager:a,mediaEventManager:i,config:e}),c=Ks({config:e,mediaEventManager:i,mediaSessionCacheManager:a}),l=tc({mediaSessionCacheManager:a,config:e,trackMediaEvent:s});return Tg({config:e,trackMediaEvent:s,mediaResponseHandler:l,trackMediaSession:c})};Sg.namespace="Streaming media",Sg.configValidators=Pg;const{console:jg}=window,Og=Ut(window),_g=(e={})=>{const t=Io({name:xo().default("alloy"),monitors:yo(Io({})).default([]),components:yo(Co())}).noUnknownFields(),{name:n,monitors:o,components:r}=t(e),a=()=>(window.__alloyMonitors||[]).concat(o),i=_o({console:jg,locationSearch:window.location.search,createLogger:Cr,instanceName:n,createNamespacedStorage:Og,getMonitors:a}),s=Li({instanceName:n,logController:i,components:r});return i.logger.logOnInstanceCreated({instance:s}),s};t.createCustomInstance=_g,t.components=[Is,js,Us,Hs,hc,bp,Eg,Sg]}},"adobe-alloy/dist/lib/actions/updateVariable/createUpdateVariable.js":{script:function(e,t,n){"use strict";const{deletePath:o}=n("../../utils/pathUtils");e.exports=({variableStore:e,deepAssign:t})=>({data:n,dataElementId:r,transforms:a,customCode:i},s)=>{var c;const l=Object.keys(a||{}).reduce(((e,t)=>{const{clear:n}=a[t];return n?o(e,t):e}),e[r]||{});e[r]=t({},l,n),i&&i(e[r],s);const d=(null===(c=e[r])||void 0===c?void 0:c.__adobe)||{};return d.audienceManager&&(d.audiencemanager=d.audienceManager,delete d.audienceManager),Promise.resolve()}}},"adobe-alloy/dist/lib/utils/pathUtils.js":{script:function(e,t){"use strict";const n=/^-?[0-9]+$/,o=e=>e.split(".").map((e=>n.test(e)?parseInt(e,10):e)).filter((e=>""!==e)),r=e=>{const t=e||{};return"object"!=typeof t?{}:t},a=e=>{const t=e||[];return Array.isArray(t)?t:[]},i=(e,t,n)=>{if("number"==typeof t){const o=e.slice();return o[t]=n,o}return{...e,[t]:n}},s=(e,t)=>{if("number"==typeof t)return[...e.slice(0,t),...e.slice(t+1)];const n={...e};return delete n[t],n},c=(e,t,n,o,s)=>{if(o===n.length)return s(e,t);let l,d=n[o];return"number"==typeof d?(l=a(e[t]),d=d<0?l.length+d:d,d=d<0?0:d):l=r(e[t]),i(e,t,c(l,d,n,o+1,s))},l=e=>(t,n,r)=>c({value:t},"value",o(n),0,((t,n)=>e(t,n,r))).value;t.setValue=l(i),t.deletePath=l(s)}},"adobe-alloy/dist/lib/actions/sendEvent/createSendEvent.js":{script:function(e,t,n){"use strict";const o=n("../../utils/clone");e.exports=({instanceManager:e,sendEventCallbackStorage:t,getConfigOverrides:n})=>r=>{const{instanceName:a,...i}=r;i.edgeConfigOverrides=n(i);const s=e.getInstance(a);if(!s)throw new Error(`Failed to send event for instance "${a}". No matching instance was configured with this name.`);return i.xdm&&(i.xdm=o(i.xdm)),i.data&&(i.data=o(i.data)),s("sendEvent",i).then((e=>{t.triggerEvent(e)}))}}},"adobe-alloy/dist/lib/utils/createGetConfigOverrides.js":{script:function(e){"use strict";const t=e=>t=>{var n,o,r,a;const{edgeConfigOverrides:i}=t;let s;if(i){if(i[e])s={...i[e]};else{if(i.development||i.staging||i.production)return;s=i}if(0!==Object.keys(s).length&&!1!==s.enabled){if(delete s.enabled,(null===(n=s.com_adobe_analytics)||void 0===n||null===(n=n.reportSuites)||void 0===n?void 0:n.length)>0&&(s.com_adobe_analytics.reportSuites=s.com_adobe_analytics.reportSuites.flatMap((e=>e.includes(",")?e.split(/,\s*/gi):e)).map((e=>e.trim())).filter(Boolean)),void 0!==(null===(o=s.com_adobe_identity)||void 0===o?void 0:o.idSyncContainerId)&&null!==(null===(r=s.com_adobe_identity)||void 0===r?void 0:r.idSyncContainerId)&&"string"==typeof(null===(a=s.com_adobe_identity)||void 0===a?void 0:a.idSyncContainerId)){const e=parseInt(s.com_adobe_identity.idSyncContainerId.trim(),10);if(Number.isNaN(e))throw new Error(`The ID sync container ID "${s.com_adobe_identity.idSyncContainerId}" is not a valid integer.`);s.com_adobe_identity.idSyncContainerId=e}return s}}};e.exports=t}},"adobe-alloy/dist/lib/utils/clone.js":{script:function(e){"use strict";e.exports=e=>JSON.parse(JSON.stringify(e))}},"adobe-alloy/dist/lib/instanceManager/createInstanceManager.js":{script:function(e){"use strict";e.exports=({turbine:e,window:t,createCustomInstance:n,components:o,createEventMergeId:r,orgId:a,wrapOnBeforeEventSend:i,getConfigOverrides:s})=>{const{instances:c}=e.getExtensionSettings(),l={},d={};return t.__alloyMonitors=t.__alloyMonitors||[],t.__alloyMonitors.push({onInstanceCreated:(...e)=>{d.onInstanceCreated||=[],d.onInstanceCreated.push(e)},onInstanceConfigured:(...e)=>{d.onInstanceConfigured||=[],d.onInstanceConfigured.push(e)},onBeforeCommand(...e){const{commandName:t}=e[0];"configure"===t&&(d.onBeforeCommand||=[],d.onBeforeCommand.push(e))}}),c.forEach((({name:r,edgeConfigId:c,stagingEdgeConfigId:d,developmentEdgeConfigId:u,onBeforeEventSend:p,...g})=>{const m=n({name:r,components:o});t[r]=m,t.__alloyNS||(t.__alloyNS=[]),t.__alloyNS.push(r),l[r]=m;const f=e.environment&&e.environment.stage,h="development"===f&&u||"staging"===f&&d||c;g.edgeConfigOverrides=s(g),m("configure",{...g,datastreamId:h,debugEnabled:e.debugEnabled,orgId:g.orgId||a,onBeforeEventSend:i(p)}),e.onDebugChanged((e=>{m("setDebug",{enabled:e})}))})),{getInstance:e=>l[e],createEventMergeId:()=>r(),addMonitor(e){t.__alloyMonitors.push(e),Object.keys(d).forEach((t=>{e[t]&&d[t].forEach((n=>{e[t](...n)}))}))}}}}},"adobe-alloy/dist/lib/instanceManager/injectWrapOnBeforeEventSend.js":{script:function(e){"use strict";e.exports=({version:e})=>t=>n=>{if(n.xdm.implementationDetails.name=`${n.xdm.implementationDetails.name}/reactor`,n.xdm.implementationDetails.version=`${n.xdm.implementationDetails.version}+${e}`,t)return t(n)}}},"adobe-alloy/dist/lib/actions/redirectWithIdentity/createRedirectWithIdentity.js":{script:function(e){"use strict";e.exports=({instanceManager:e,window:t,logger:n,getConfigOverrides:o})=>(r,a)=>{const{instanceName:i}=r,s=e.getInstance(i);if(!s)return n.warn(`Instance "${i}" not found when running "Redirect with identity."`),Promise.resolve();if(!a||!a.element)return n.warn('Clicked element not found when running "Redirect with identity." This action is meant to be used with a Core click event.'),Promise.resolve();if(!a.element.href)return n.warn('Invalid event target when running "Redirect with identity." This action is meant to be used with a Core click event using an "a[href]" selector.'),Promise.resolve();a.nativeEvent.preventDefault&&a.nativeEvent.preventDefault();const c=a.element.href,l=o(r),d=a.element.target||"_self";return s("appendIdentityToUrl",{url:c,edgeConfigOverrides:l}).then((({url:e})=>{t.open(e,d)}))}}}}},demandbase:{displayName:"Demandbase",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP626c2fdeee87479f9e7bf1955955f2e8/",settings:{apikey:"tnxIEjsyOugedcWI8vxIkFUX3kxBpUjGULMR2ry5",timeout:"1000",ipAPIVersion:"v3",targetEnabled:!1,demandbaseDataElement1:"primary_naics:company_name:industry:sub_industry:employee_range:revenue_range:audience:audience_segment",demandbaseDataElement2:"state:city:country_name:marketing_alias:web_site:company_linkedin_profile:company_type:annual_sales",demandbaseDataElement3:":::::::",demandbaseDataElement4:":::::::",demandbaseDataElement5:":::::::",nonTargetAccountDefault:"Non-Target Account",nonCompanyVisitorDefault:"Non-Company Visitor",targetAccountEmptyDefault:"(Target Account-No Attribute)",attributeUnavailableDefault:"(No Attribute)"},modules:{"demandbase/dist/lib/dataElements/demandbasedataelement2.js":{name:"demandbasedataelement2",displayName:"demandbaseDataElement2",script:function(e,t,n){"use strict";var o=n("../../lib/config/dataElements"),r=n("../../lib/helpers/localStorage"),a=function(){return r.default.getItem("".concat(o.default.prefix,"2"))};e.exports=a}},"demandbase/dist/lib/dataElements/demandbasedataelement1.js":{name:"demandbasedataelement1",displayName:"demandbaseDataElement1",script:function(e,t,n){"use strict";var o=n("../../lib/config/dataElements"),r=n("../../lib/helpers/localStorage"),a=function(){return r.default.getItem("".concat(o.default.prefix,"1"))};e.exports=a}},"demandbase/dist/lib/actions/calldemandbaseipapi.js":{name:"calldemandbaseipapi",displayName:"callDemandbaseIpApi",script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-document"),a=n("@adobe/reactor-window"),i=n("../../lib/config/events"),s=n("../../lib/helpers/IPAPIActionHelper"),c=n("../../lib/helpers/errorReporter");c.default.wrap((function(){!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=r.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}if("function"==typeof a.CustomEvent)return!1;e.prototype=a.Event.prototype,a.CustomEvent=e}()}));var l=s.default,d=function(){var e=o.getExtensionSettings();o.logger.info("adobeActionIPAPI called with extensionSettings: ".concat(JSON.stringify(e))),c.default.wrap((function(){l.makeRequestAndSave(e).then((function(){o.logger.info("IPAPI call resolved and dispatching event"),a.dispatchEvent(new a.CustomEvent(i.default.resolveApiCallName))})).catch((function(e){o.logger.error(e)}))}),e)};e.exports=d}},"demandbase/dist/lib/config/dataElements.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={quantity:5,prefix:"demandbaseDataElement"};t.default=n}},"demandbase/dist/lib/helpers/localStorage.js":{script:function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("@adobe/reactor-window"),a=n("../../lib/config/localStorage").default.prefix,i=function(){function e(){}return e.prototype.setItem=function(e,t){var n=a+e;try{r.localStorage.setItem(n,JSON.stringify(t))}catch(e){o.logger.error(e)}},e.prototype.getItem=function(e){var t=a+e;try{return JSON.parse(r.localStorage.getItem(t))}catch(e){o.logger.error(e)}},e}();t.default=new i}},"demandbase/dist/lib/config/localStorage.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.prefix="Demandbase.AdobeLaunch."}return e}();t.default=new n}},"demandbase/dist/lib/config/events.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={resolveApiCallName:"Demandbase.AdobeLaunch.resolveApiCall"};t.default=n}},"demandbase/dist/lib/helpers/IPAPIActionHelper.js":{script:function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPAPI=void 0;var r=n("../../lib/helpers/async"),a=n("@adobe/reactor-promise"),i=n("../../lib/helpers/dataElement"),s=n("../../lib/helpers/demandbaseIpApi"),c=n("../../lib/helpers/http"),l=n("../../lib/helpers/localStorage"),d=n("../../lib/helpers/object"),u=function(){function e(){}return e.prototype.makeRequestAndSave=function(e){var t=this,n=l.default.getItem("raw")||{},u=i.default.buildSets(e);return a.race([r.default.sleep(e.timeout),new a((function(r){var a;try{var i=e.ipAPIVersion,l=e.apikey,p=e.targetEnabled;if(s.default.isIPAPIV2(i))a=c.default.get(s.default.buildUrl(l,p,i));else{var g=s.default.buildIPAPIPayload(l,p);a=c.default.post(s.default.buildUrl(l,p,i),g)}}catch(e){o.logger.error(e)}a.then((function(a){var i=d.default.flatten(a);t.shouldOverwriteLocalStorage(n,i)?(o.logger.info("Demandbase IP API response was detailed enough to overwrite local storage."),t.saveToLocalStorage(u,i,e)):o.logger.info("Demandbase IP API response was not detailed enough to overwrite local storage"),r(i)})).catch((function(e){o.logger.error(e)}))}))])},e.prototype.shouldOverwriteLocalStorage=function(e,t){return"Detailed"!==e.information_level||"Detailed"===t.information_level},e.prototype.saveToLocalStorage=function(e,t,n){l.default.setItem("raw",t);for(var o=0;o<e.length;o++)n.targetEnabled&&this.configureForTarget(e[o],t),l.default.setItem(e[o].name,i.default.buildDelimitedDataString(n,t,e[o]))},e.prototype.configureForTarget=function(e,t){for(var n=0;n<e.attributes.length;n++)"demandbase_sid"===e.attributes[n]?l.default.setItem("demandbase_sid",t[e.attributes[n]]):l.default.setItem("demandbase_".concat(e.attributes[n]),t[e.attributes[n]])},e}();t.IPAPI=u,t.default=new u}},"demandbase/dist/lib/helpers/errorReporter.js":{script:function(e,t,n){"use strict";function o(){var e=this,t="1894802",n="79994043fcf443c988b5f68d714cf23b",o=i.shouldLogInstead||!1;return this.sendRequest=function(o,r){var a;i.XMLHttpRequest?a=new XMLHttpRequest:i.ActiveXObject&&(a=new ActiveXObject("Microsoft.XMLHTTP"));var s="https://sentry.io/api/".concat(t,"/store/?sentry_version=7&sentry_key=").concat(n);try{a.open("POST",s,!0),a.setRequestHeader("Content-type","text/plain;charset=UTF-8"),a.send(e.formatMessage(o,r))}catch(e){}},this.formatMessage=function(t,n){var o=e.parseError(t),r=e.parseContext(),a=e.formatErrorForSentry(o);return JSON.stringify({logger:r.notifier.name,platform:"javascript",request:{url:r.url},contexts:{browser:{userAgent:r.userAgent}},extra:{readyState:r.readyState,additionalErrorDetails:n},exception:{values:[a]}})},this.formatErrorForSentry=function(e){for(var t=[],n=0,o=e.backtrace;n<o.length;n++){var r=o[n];t.push({function:r.function,filename:r.file,lineno:r.line,colno:r.column})}return{type:e.type,value:e.message,stacktrace:{frames:t}}},this.parseError=function(e){return{type:e.name,message:e.message,backtrace:r.default.parse(e)}},this.parseContext=function(){return{notifier:{name:"ErrorReporterModule"},url:i.location.href,userAgent:navigator.userAgent,rootDirectory:i.location.origin,readyState:a.readyState}},this.sendError=function(t,n){if("function"!=typeof t)throw new Error("Invalid Function: ".concat(t));try{if(void 0!==t&&"function"==typeof t.apply)return t.apply(this)}catch(t){o?console.error(t):e.sendRequest(t,n)}},this.wrap=function(t,n){e.sendError(t,n)},this}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./errorStackParser"),a=n("@adobe/reactor-document"),i=n("@adobe/reactor-window");t.default=new o}},"demandbase/dist/lib/helpers/async.js":{script:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("@adobe/reactor-promise"),r=function(){function e(){}return e.prototype.sleep=function(e){return void 0===e&&(e=0),new o((function(t){setTimeout(t,e)}))},e}();t.default=new r}},"demandbase/dist/lib/helpers/dataElement.js":{script:function(e,t,n,o){"use strict";function r(e){return null==e||""===e}function a(e,t){return r(e)?t:e}Object.defineProperty(t,"__esModule",{value:!0});var i=n("../../lib/config/dataElements"),s=function(){function e(){}return e.prototype.buildSets=function(e){for(var t,n=[],r=0,a=void 0;r<i.default.quantity;r++)t=i.default.prefix+(r+1),o.logger.info("Building data element set for ".concat(t," for values from ").concat(e[t])),a=e[t].split(":"),n.push({name:t,attributes:""===a[0]?[]:a});return n},e.prototype.buildDelimitedDataString=function(e,t,n){var r=e.nonCompanyVisitorDefault,i=e.nonTargetAccountDefault,s=e.targetAccountEmptyDefault,c=e.attributeUnavailableDefault;return o.logger.info("Building delimited data string for ".concat(n.name," for ").concat(n.attributes.length)),n.attributes.map((function(e){var n="Detailed"===t.information_level,o=0===e.indexOf("watch_list"),l=t[e];return n?o&&void 0===l?i:a(l,o?s:c):a(l,r)})).join(":")},e}();t.default=new s}},"demandbase/dist/lib/helpers/demandbaseIpApi.js":{script:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPAPI_V2=void 0;var o=n("@adobe/reactor-document"),r=n("./windowUtils"),a=function(e){return i(e)?"https://api.company-target.com/api/v2/ip.json":"https://api.company-target.com/api/v3/ip.json"},i=function(e){return e===t.IPAPI_V2||!e};t.IPAPI_V2="v2";var s=function(){function e(){}return e.prototype.isIPAPIV2=function(e){return i(e)},e.prototype.buildIPAPIPayload=function(e,t){return{auth:e,src:t?"adobelaunch_target":"adobelaunch"}},e.prototype.buildUrl=function(e,t,n){var o=a(n);if(this.isIPAPIV2(n)){var r="".concat(o,"?key=").concat(e).concat(this.buildStandardQueryParams());return t?"".concat(r,"&src=adobelaunch_target"):"".concat(r,"&src=adobelaunch")}return r="".concat(o,"?").concat(this.buildStandardQueryParams()),"".concat(r)},e.prototype.buildStandardQueryParams=function(){return"&page=".concat(encodeURIComponent(this.getPageLocation()),"&referrer=").concat(encodeURIComponent(o.referrer),"&page_title=").concat(encodeURIComponent(o.title))},e.prototype.getPageLocation=function(){var e=o.location.href;return r.default.detectIFrame()&&(e=o.referrer),e},e}();t.default=new s}},"demandbase/dist/lib/helpers/http.js":{script:function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("@adobe/reactor-promise"),a=n("@adobe/reactor-window"),i=function(){function e(){}return e.prototype.get=function(e){return new r((function(t,n){var r;a.XMLHttpRequest?r=new XMLHttpRequest:a.ActiveXObject&&(r=new ActiveXObject("Microsoft.XMLHTTP")),r||(o.logger.error("Unable to instantiate an HTTP request object"),n()),"undefined"!==r.withCredentials&&(r.withCredentials=!0);try{r.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(JSON.parse(r.responseText))},r.open("GET",e,!0),r.send()}catch(e){n(e),o.logger.error(e)}}))},e.prototype.post=function(e,t){return new r((function(n,r){var i;try{a.XMLHttpRequest?i=new XMLHttpRequest:a.ActiveXObject&&(i=new ActiveXObject("Microsoft.XMLHTTP")),i||(o.logger.error("Unable to instantiate an HTTP request object"),r()),"undefined"!==i.withCredentials&&(i.withCredentials=!0),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(JSON.parse(i.responseText))},i.open("POST",e,!0),i.send(JSON.stringify(t))}catch(e){o.logger.error(e),r(e)}}))},e}();t.default=new i}},"demandbase/dist/lib/helpers/object.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.flatten=function(e,t){for(var n in t=t||"_",e)if("object"==typeof e[n]&&null!==e[n]&&e.hasOwnProperty(n)){for(var o in e[n])e[n].hasOwnProperty(o)&&(e[n+t+o]=e[n][o]);delete e[n]}return e},e}();t.default=new n}},"demandbase/dist/lib/helpers/windowUtils.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={detectIFrame:function(){return window.top!==window.self}};t.default=n}},"demandbase/dist/lib/helpers/errorStackParser.js":{script:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorStackParser=void 0;var n=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/,a=function(){function e(){var e=this;this.parse=function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return e.parseOpera(t);if(t.stack&&t.stack.match(o))return e.parseV8OrIE(t);if(t.stack)return e.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},this.extractLocation=function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},this._parseInt=function(e){if(e)return parseInt(e,10)},this.parseV8OrIE=function(t){return t.stack.split("\n").filter((function(e){return!!e.match(o)}),e).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop());return{function:t.join(" ")||void 0,file:["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2]),source:e}}),e)},this.parseFFOrSafari=function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),e).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return{function:e};var t=e.split("@"),n=this.extractLocation(t.pop());return{function:t.join("@")||void 0,file:n[0],line:this._parseInt(n[1]),column:this._parseInt(n[2]),source:e}}),e)},this.parseOpera=function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?e.parseOpera9(t):t.stack?e.parseOpera11(t):e.parseOpera10(t)},this.parseOpera9=function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,o=t.message.split("\n"),r=[],a=2,i=o.length;a<i;a+=2){var s=n.exec(o[a]);s&&r.push({file:s[2],line:e._parseInt(s[1]),source:o[a]})}return r},this.parseOpera10=function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=t.stacktrace.split("\n"),r=[],a=0,i=o.length;a<i;a+=2){var s=n.exec(o[a]);s&&r.push({function:s[3]||void 0,file:s[2],line:e._parseInt(s[1]),source:o[a]})}return r},this.parseOpera11=function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)&&!e.match(/^Error created at/)}),e).map((function(e){var t,n=e.split("@"),o=this.extractLocation(n.pop()),r=n.shift()||"",a=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;return r.match(/\(([^\)]*)\)/)&&(t=r.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")),{function:a,args:void 0===t||"[arguments not available]"===t?void 0:t.split(","),file:o[0],line:this._parseInt(o[1]),column:this._parseInt(o[2]),source:e}}),e)}}return e}();t.ErrorStackParser=a,t.default=new a}}}},"qualtrics-website-feedback":{displayName:"Qualtrics Website Feedback",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP3037080b2f514c82a49a8eab77b5a00e/",modules:{"qualtrics-website-feedback/src/lib/actions/loadProject.js":{name:"load-project",displayName:"Load Project",script:function(e,t,n,o){"use strict";e.exports=function(e){try{var t=e.brandID,n=e.projectID,r=n.replace("_","").toLowerCase(),a=function(){var e=document.createElement("div");e.id=n,document.body.appendChild(e)};void 0===window.QSI&&(window.QSI={clientTypeVariant:"AdobeLaunch"});var i=function(){!function(){var e=function(e,t,n,o){this.get=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0,r=n.length;o<r;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null},this.set=function(e,t){var n,o="";(n=new Date).setTime(n.getTime()+6048e5),o="; expires="+n.toGMTString(),document.cookie=e+"="+t+o+"; path=/; "},this.check=function(){var o=this.get(n);if(o)o=o.split(":");else{if(o=[t,e,0],100==e)return!0;"v"==t&&(e=Math.random()>=e/100?0:100),o=[t,e,0],this.set(n,o.join(":"))}var r=o[1];if(100==r)return!0;switch(o[0]){case"v":return!1;case"r":var a=o[2]%Math.floor(100/r);return o[2]++,this.set(n,o.join(":")),!a}return!0},this.go=function(){if(this.check()){var e=document.createElement("script");e.type="text/javascript",e.src=o,document.body&&document.body.appendChild(e)}}};try{new e(100,"r","QSI_S_"+n,"https://"+r+"-"+t+".siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID="+n).go()}catch(e){}}()};t&&n&&r&&(a(),i(),o.logger.log("Loaded Site Intercept Project: "+n))}catch(e){o.logger.error("Could not load Intercept Project: "+e)}}}}}},"bing-ads-extension":{displayName:"Bing Ads UET Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/",settings:{qname:"uetq",tagid:"5317852",navTimingApi:!0,storeConvTrackCookies:!0},modules:{"bing-ads-extension/src/lib/actions/customEventNew.js":{name:"customeventnew",displayName:"Custom Event",script:function(e,t,n,o){"use strict";var r=function(e,t,n,o){e.push("event",t,n),o.log("New custom event "+t+" is sent.")};e.exports=function(e){var t=n("@adobe/reactor-window"),a=n("../helpers/getBatJsBase"),i=o.getExtensionSettings().qname||"uetq",s={};for(var c in e)e.hasOwnProperty(c)&&"event_action"!==c&&(s[c]=e[c]);t[i]&&t[i]!==[]?r(t[i],e.event_action,s,o.logger):a().then((function(){r(t[i],e.event_action,s,o.logger)}))}}},"bing-ads-extension/src/lib/helpers/getBatJsBase.js":{script:function(e,t,n,o){"use strict";e.exports=function(){var e=n("@adobe/reactor-window"),t=n("@adobe/reactor-load-script"),r=o.getExtensionSettings(),a=r.qname||"uetq";return e[a]=e[a]||[],t("//bat.bing.com/bat.js").then((function(){var t={ti:r.tagid,navTimingApi:r.navTimingApi,storeConvTrackCookies:r.storeConvTrackCookies,tm:"al001"};t.q=e[a],e[a]=new UET(t),e[a].push("pageLoad"),o.logger.log("BingAds Base Code successfully loaded.")})).catch((function(){o.logger.error("BingAds Base Code could not be loaded.")}))}}}}},"pixel-loader":{displayName:"Pixel Loader",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP8986a755a23d4bb48e2f65b04e5d46f0/",modules:{"pixel-loader/src/lib/actions/loadPixel.js":{name:"load-pixel",displayName:"Load Pixel",script:function(e){"use strict";e.exports=function(e){e.outputURL&&((new Image).src=e.outputURL)}}}}},"pinterest-conversion-tracking":{displayName:"Pinterest Conversion Tracking",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP324ff1f2f120499999322445d946e722/",settings:{tagid:"2619414502653"},modules:{"pinterest-conversion-tracking/src/lib/actions/loadBaseCode.js":{name:"loadbasecode",displayName:"Load Base Code",script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-load-script"),a="https://s.pinimg.com/ct/core.js",i=o.getExtensionSettings();e.exports=function(){window.pintrk||(window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))},window.pintrk.queue=[],window.pintrk.version="3.0",
r(a).then((function(){o.logger.log("Base Code loaded")}),(function(){o.logger.error("Base Code could not be loaded")}))),pintrk("load",i.tagid)}}},"pinterest-conversion-tracking/src/lib/actions/sendPageVisitEvent.js":{name:"pagevisit",displayName:"PageVisit",script:function(e,t,n,o){"use strict";e.exports=function(e){pintrk("track","pagevisit",e,(function(t,n){t?o.logger.log("Sent pagevisit event: "+JSON.stringify(e)):o.logger.log("pintrk pagevisit event error: "+n)}))}}}}},"sdi-toolkit":{displayName:"Further Toolkit",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP98860ffddec14bee98be1eabc8a311e3/",settings:{utilLoadScript:!0,utilQueryString:!1,polyfillObjectAssign:!1,polyfillObjectPromise:!1},modules:{"sdi-toolkit/src/lib/main/extension_main.js":{script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-window"),a=n("@adobe/reactor-object-assign"),i=n("@adobe/reactor-promise"),s=o.getExtensionSettings()||{};o.logger.debug("Initializing with settings",s),s.polyfillObjectAssign&&(r.Object.assign?o.logger.debug("Object.assign exists. No polyfill needed."):(r.Object.assign=a,o.logger.debug("Object.assign polyfilled from @adobe/reactor-object-assign."))),s.polyfillObjectPromise&&(r.Promise?o.logger.debug("Promise exists. No polyfill needed."):(r.Promise=i,o.logger.debug("Promise polyfilled from @adobe/reactor-promise."))),s.utilQueryString&&(r._sdiToolkit=r._sdiToolkit||{},r._sdiToolkit.reactor=r._sdiToolkit.reactor||{},r._sdiToolkit.reactor.queryString||(r._sdiToolkit.reactor.queryString=n("@adobe/reactor-query-string"),o.logger.debug("_sdiToolkit.reactor.queryString installed from @adobe/reactor-query-string."))),s.utilLoadScript&&(r._sdiToolkit=r._sdiToolkit||{},r._sdiToolkit.reactor=r._sdiToolkit.reactor||{},r._sdiToolkit.reactor.loadScript||(r._sdiToolkit.reactor.loadScript=n("@adobe/reactor-load-script"),o.logger.debug("_sdiToolkit.reactor.loadScript installed from @adobe/reactor-load-script.")))}}}}},company:{orgId:"4C3B0C3755C3822E7F000101@AdobeOrg",dynamicCdnEnabled:!1},property:{name:"cbdotcom",settings:{domains:["www.citizensbank.com","qa2.qacitizensbank.com","qa1.qacitizensbank.com","www.citizensstudentloans.com","uat.citizensstudentloans.com","studentloans.citizensbank.com","sit1.qacitizensbank.com"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!0},id:"PRd150aae94b9c4cdc93becd0ad9921ece"},rules:[{id:"RL047f8163428641b0bab6c608afa4007d",name:"Pinterest - Base Code",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/how-often-should-you-monitor-your-bank-account|/learning/invest-in-education|/learning/home-improvement-loan|/learning/home-construction-loans|/learning/debt-with-a-heloc|/learning/student-loan-frequently-asked-questions|/learning/what-are-private-student-loans.html|/learning/student-loan-cosigner",valueIsRegex:!0},{value:"/learning/pay-off-home-equity-loan-or-heloc|/learning/home-with-heloc|/learning/ways-to-use-equity|/learning/home-equity-line-comparison|/learning/home-equity-and-student-loans|/learning/unexpected-costs-buying-a-home|/learning/pay-off-mortgage-with-heloc|/learning/what-is-a-home-equity-line-of-credit",valueIsRegex:!0},{value:"/learning/short-sale-process|/learning/prequalification-vs-pre-approval|/learning/down-payment-assistance|/learning/mortgage-myth-debunked|/learning/things-to-do-when-making-an-offer-on-a-house|/learning/what-is-escrow",valueIsRegex:!0},{value:"/learning/ready-to-buy-a-home|/learning/pros-cons-low-down-payment-mortgage|/learning/mortgage-closing-costs|/learning/mortgage-payment|/learning/home-ownership/overview|/learning/15-year-mortgage|/learning/refi-money-in-pocket|/learning/refinance-lowers-mortgage|/learning/cash-out-refi|/learning/refinancing-investment-property|/learning/refinance-process|/loans/home-mortgage|/loans/mortgage-refinance|/home-equity-loans/home-equity-line-of-credit-heloc|/learning/budget-planning-for-bathroom-renovation|/learning/ready-to-renovate|/learning/steps|/-to-choose-a-contractor|/learning/get-the-most-out-of-your-kitchen-renovation|/learning/refinancing-your-mortgage",valueIsRegex:!0},{value:"/learning/home-equity-401k|/learning/what-is-apr|/learning/what-is-the-prime-rate|/learning/credit-score-calculation|/learning/debt-reduction-tips|/learning/second-mortgage-loans|/learning/8-surprising-heloc-facts|/learning/aging-in-place-home-remodeling|/learning/eco-friendly-home-improvement-heloc|/learning/home-equity-application-checklist",valueIsRegex:!0}]},negate:!0,timeout:8e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"pinterest-conversion-tracking/src/lib/actions/loadBaseCode.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL0d1f0ba7ebbe4ab78f949b804a33bc3e",name:"Adobe - Rates Error Event",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=function(e){return e.length>=1?e[0]:""};const n=document.querySelectorAll("._productLine,._labellookup.inactive");var t="";const o=[];if(n.forEach((n=>{if(null!=n){let a=n.innerHTML;if("#Error"===a||a.includes("#Json=Label_Lookup")&&!a.includes("Key=Region Label#")&&!a.includes("Key=login_dropdown_values#")&&!a.includes("Key=search")&&!a.includes("Key=what")){o.push(n);let i=null!==n.closest("section")&&void 0!==n.closest("section")?n.closest("section"):"";var r=""!==i?i.getAttribute("id")||e(i.classList)||a:a||"";r=a.includes("#Json=Label_Lookup")||n.className.includes("_labellookup inactive")?"tokenerror:"+r:"rateserror:"+r,-1==t.indexOf(r)&&(t+=r+",")}}})),o.length>0)return t=""!==t?"dcomerror|"+t.substring(0,t.length-1):"dcomerror",_satellite.setVar("rateserror",t),"object"==typeof _detector&&"function"==typeof _detector.triggerCustomEvent&&_detector.triggerCustomEvent("Error Rate","#Error"),!0}catch(e){return!1}}},timeout:2e6},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qa1.qacitizensbank.com","www.citizensbank.com","qa2.qacitizensbank.com"]},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/updateVariable/index.js",settings:{data:{web:{webInteraction:{name:"rateserror",type:"other",linkClicks:{value:1}},webPageDetails:{name:"%s.pageName%"}},_experience:{analytics:{event1to100:{event87:{value:1}},customDimensions:{eVars:{eVar30:"%rateserror%",eVar90:"%stepName%",eVar181:"cbdotcom"},props:{prop27:"%shortened_pageurl%",prop30:"%rateserror%",prop60:"%stepName%"}}}}},transforms:{},dataElementId:"DE8fe85f15040a461e9d069a8739088c4e",dataElementCacheId:"d38c7486-70d2-4f00-a373-0c9a92fe2e67"},timeout:2e5,delayNext:!0},{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%AEP - Variable %",type:"web.webinteraction.linkClicks",instanceName:"alloy",edgeConfigOverrides:{production:{},development:{}}},timeout:2e3,delayNext:!0}]},{id:"RL0f551dfd17b241b8861ec44c514ec067",name:"Floodlight (Mediacom) - Digital Wallets - PixReq1709663606301 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/digital-wallets/overview",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2024-03-05T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien00+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL0f791397f4a744d9811a56d823f10e56",name:"Adobe - Sprinklr Events",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC667463d2d1f04cd79ee679b66203defb-source.min.js",language:"javascript",isExternal:!0},timeout:2e7,delayNext:!0}]},{id:"RL12e915c0e8fa4380a99fa4ee3625c056",name:"Pinterest Page Event - Mortgage - PixReq1679940339536/ 1679944043968/ 1679944338319/ PixReq1700065601899/ PixReq1698854727505/ PixReq1718390271645/ PixReq1721053669155/ 1721054362323/ 1721054346925/ 1721054373270 - Jul2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/college/overview",valueIsRegex:!0},{value:"/learning/debt-with-a-heloc",valueIsRegex:!0},{value:"/learning/financial-goals-with-HELOC",valueIsRegex:!0},{value:"/learning/invest-in-education|/learning/student-loan-frequently-asked-questions|/learning/what-are-private-student-loans.html|/learning/student-loan-cosigner",valueIsRegex:!0},{value:"/learning/ready-to-buy-a-home|/learning/pros-cons-low-down-payment-mortgage|/learning/mortgage-closing-costs|/learning/mortgage-payment|/learning/home-ownership/overview|/learning/15-year-mortgage|/learning/refi-money-in-pocket|/learning/refinance-lowers-mortgage|/learning/cash-out-refi|/learning/refinancing-investment-property|/learning/refinance-process|/loans/home-mortgage|/loans/mortgage-refinance|/home-equity-loans/home-equity-line-of-credit-heloc|/learning/budget-planning-for-bathroom-renovation|/learning/ready-to-renovate|/learning/steps-to-choose-a-contractor|/learning/get-the-most-out-of-your-kitchen-renovation",valueIsRegex:!0},{value:"/learning/thought-card-podcast-your-first-mortgage",valueIsRegex:!0},{value:"/learning/short-sale-process|/learning/prequalification-vs-pre-approval|/learning/down-payment-assistance|/learning/mortgage-myth-debunked|/learning/things-to-do-when-making-an-offer-on-a-house|/learning/what-is-escrow|/learning/refinancing-your-mortgage",valueIsRegex:!0},{value:"/promo/heloc/fastline|/promo/heloc/consolidate|/promo/heloc/switch|/promo/heloc/fastlinenow|/promo/heloc/consolidatenow|/promo/heloc/switchnow|/promo/heloc/fastlineprivate|/promo/heloc/fastlinepc|/promo/citizensbank|/promo/featured-products|/promo/heloc/what-to-know-about-a-heloc",valueIsRegex:!0},{value:"/learning/empower-your-life-with-a-heloc|/learning/pay-off-mortgage-with-heloc|/learning/pay-off-home-equity-loan-or-heloc|/learning/home-equity-line-comparison|/learning/home-equity-and-student-loans|/learning/home-with-heloc|/learning/ways-to-use-equity|/learning/what-is-a-home-equity-line-of-credit|/learning/home-construction-loans|/learning/home-equity-refinancing|/learning/faster-smarter-way-to-finance-projects|/learning/how-to-calculate-home-equity|/home-equity-loans/heloc-basics",valueIsRegex:!0},{value:"/learning/credit-card-innovation-design",valueIsRegex:!0},{value:"/learning/home-equity-401k|/learning/what-is-apr|/learning/what-is-the-prime-rate|/learning/credit-score-calculation|/learning/debt-reduction-tips|/learning/second-mortgage-loans|/learning/8-surprising-heloc-facts|/learning/aging-in-place-home-remodeling|/learning/eco-friendly-home-improvement-heloc|/learning/home-equity-application-checklist",valueIsRegex:!0},{value:"/promo/student-awareness|/promo/student",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-07-31T00:00:00Z",start:"2023-11-15T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"pinterest-conversion-tracking/src/lib/actions/loadBaseCode.js",settings:{},timeout:2e6,delayNext:!0},{modulePath:"pinterest-conversion-tracking/src/lib/actions/sendPageVisitEvent.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL13c5563e9d2d494c8f004625f239af79",name:"Merkury Tag",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window._svq = window._svq || [];\nwindow._svq.push(['_setUID',_satellite.getVar('ECID')])\n//window._svq.push(['_setCustomVar','adobeid',_satellite.getVar('ECID')])\nwindow._svq.push(['_trackPageView']);\n(function(d, c) {\n  var sv = d.createElement(c);\n  sv.type = 'text/javascript';\n  sv.src = '//track.sv.rkdms.com/js/sv.js?sv_cid=6326_04783&sv_origin=citizensbank.com';\n  var s = d.getElementsByTagName(c)[0];\n  s.parentNode.insertBefore(sv, s);\n})(document, 'script');\n",language:"javascript"}}]},{id:"RL1a2b2b777da04d4fbc622f54de667c61",name:"Deposits Promo LinkedIn - PixReq1727700305800- Sep2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/deposits/pod-2024-d3",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-09-29T00:00:00Z",start:"2024-09-30T15:51:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC9020048205c9460db4d34ad21aff59e1-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL243699ed726e4170967ff437ab7a3ab4",name:"Flood Light (Mediacom) - HELOC - PixReq1709663099474 - Mar2025",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"promo/heloc/fastline",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2024-03-05T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u2","%s.pageName%"],["u3","%PageURL%"]],accounts:{1623955035520:{label:"2024pixe/clien001+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL2739783794ca4989a17b6e1237ddc180",name:"Floodlight - CitizensPay_Form Starts_Unique - PixReq1712684736891 - Apr2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"citizenspay/business",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-04-08T00:00:00Z",start:"2021-11-23T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u3","%s.pageName%"]],accounts:{1623954588787:{label:"citizpay/cpformst+Unique",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL27e367afec344e4d929c57c9d8749526",name:"Floodlight - Zelle Product Page Pixel - N/A ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/mobile-and-online-banking/zelle",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623968940945:{label:"level0/citiz0+unique",enabled:!0}},callback:null},timeout:2e6,delayNext:!0}]},{id:"RL289f9939e8f649ab9b2355003203a72c",name:"Demandbase - callDemandbaseIpApi ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-300}],conditions:[],actions:[{modulePath:"demandbase/dist/lib/actions/calldemandbaseipapi.js",settings:{},timeout:2e6,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.demandbaseHasCompleted = false;",language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RL2e1696eb0b744e2793afb87825c16cb5",name:"Adobe - Iframe Events Tracking",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RCf57572fcb23440ef9c9f16faabca8439-source.min.js",language:"javascript",isExternal:!0},timeout:2e6,delayNext:!0}]},{id:"RL32297645100c480eaad74de241a196f4",name:"Floodlight - CitizensPay_Form Complete_Unique - PixReq1712684736891 - Apr2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"citizenspay/merchant-lead-submitted",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-04-08T00:00:00Z",start:"2021-11-23T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u3","%s.pageName%"]],accounts:{1623954588787:{label:"citizpay/cpformco+Unique",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL344e9400f8cc4ff2bb21fe38bd978921",name:"Pinterest - Convenience Q2 Digital Sustained - PixReq1745943567914 - April 2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/how-often-should-you-monitor-your-bank-account",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-05-01T00:00:00Z",start:"2025-04-29T04:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC80d03f2271ba4df4ad855ab24a86c062-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC38e5624ce7fa4adebd325365cf2b5f6a-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL395f969dcccd4e768ec3d441b0fd0b69",name:"Floodlight (Mediacom) - Student Checking - PixReq1705953980618 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/checking/student-checking",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2024-01-22T21:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien000+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL39ab92d914424da9b8b94bbba56480ed",name:"Adobe - Form Tracking Event",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(citizenspay/business.html|citizenspay/business.page)",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC885381bd00b1435d8f2432d8d3f22ca4-source.min.js",language:"javascript",isExternal:!0},timeout:2e7,delayNext:!0}]},{id:"RL3ba9f50e0fde4256ad1a18bb450e93b1",name:"Qualtrics - Onclick",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#custfeedback",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC4c3e642c00524d6aa822cfcdd05ff038-source.min.js",language:"javascript",isExternal:!0},timeout:2e7,delayNext:!0}]},{id:"RL448fe1389d7d48a0acbfb9503aa5ece8",name:"Wealth_ Investment Match _Lucy - PixReq1709670968849 - Mar2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/investing-and-wealth-management/lucy",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-03-31T23:00:00Z",start:"2024-03-05T16:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u2","%stepName%"],["u3","%PageURL%"]],accounts:{1623954588787:{label:"wealth/wealt000+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC633fea117d1d40628d7fe7b6e09e30e7-source.min.js",language:"html",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL479099e4a2414406be157908ce4f43d1",name:"Floodlight - Student IS - Scholarship Page - PixReq1695749381770/ PixReq1738855294758 - Feb2026",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){function t(t){"formcomplete"===t.data.type&&"complete"===t.data.action&&e()}window.addEventListener("message",t,!1)}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/student-loans/scholarship",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-02-06T01:00:00Z",start:"2023-09-26T17:29:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u3","%PageURL%"]],accounts:{1623954588787:{label:"insch0/inssubm+unique",enabled:!0}},callback:null},timeout:8e3,delayNext:!0}]},{id:"RL4e54cdc86fa64fc4abcefde8a4d3edb7",name:"Adobe WebSDK - Target - PageView Event",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){function e(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var t;window.ttActivity=void 0!==window.ttActivity?window.ttActivity:[],"function"==typeof alloy&&alloy("sendEvent",{type:"decisioning.propositionFetch",personalization:{sendDisplayEvent:!1},renderDecisions:!0}).then((function(n){e(document.querySelector("#alloy-prehiding")),(t=n.propositions)&&(t.forEach((function(e){e.renderAttempted&&e.items.forEach((function(e){if(e.meta){var t=e.meta["activity.name"];void 0!==t&&-1==ttActivity.indexOf(t)&&ttActivity.push({RecipeName:e.meta["experience.name"],RecipeId:e.meta["experience.id"],CampaignName:t,CampaignId:e.meta["activity.id"],OfferId:e.meta["offer.id"],OfferName:e.meta["offer.name"]})}}))})),"development"==_satellite.environment.stage&&ttActivity.length>0&&console.log("Adobe Target Response",ttActivity))}))}},ruleOrder:-300}],conditions:[],actions:[]},{id:"RL52eba026bf9542ba80e3a23a0cec65f1",name:"Qualtrics - Prod",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["qa2.qacitizensbank.com","qa1.qacitizensbank.com","www.citizensstudentloans.com","uat.citizensstudentloans.com"]},negate:!0,timeout:2e3}],actions:[{modulePath:"qualtrics-website-feedback/src/lib/actions/loadProject.js",settings:{brandID:"citizensbank",projectID:"ZN_UcEIgwL9WK8PRiV"},timeout:8e3,delayNext:!0}]},{id:"RL543a941789724a4787a08209b7683d24",name:"Adobe - ECID - Redirect",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){let t=e.target.hostname||this.hostname,n=e.target.pathname||this.pathname,o=e&&e.target&&null!=e.target.href?e.target.href:null!=this.href&&null!=this.href?this.href:"";if(console.log("test"+this.href),void 0!==t&&void 0!==n&&!t.includes("citizensbank.com")&&!t.includes("citizensbankeverydaypoints.com")&&!o.includes("enroll")&&!o.includes("trouble")&&t.includes("citizens"))return!0}},timeout:2e3}],actions:[{modulePath:"adobe-alloy/dist/lib/actions/redirectWithIdentity/index.js",settings:{instanceName:"alloy",edgeConfigOverrides:{development:{}}}}]},{id:"RL555f0c28b16047abaeb7a74c0f86ad69",name:"Adobe - Youtube Events",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RCe5e73551330b422096a52b5e3df6b3e2-source.min.js",language:"javascript",isExternal:!0},timeout:2e7,delayNext:!0}]},{id:"RL564930c461f8404b90984a52efc2a33d",name:"Meta Pixel - InSchool Retargeting - April 2026 ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/student-loans/(graduate-loans/(law-school-loans|mba-loans|medical-residency-relocation-loan|medical-school-loans|dental-school-loans)|graduate-overview|parent-student-loans|private-student-loans|multi-year-approval|scholarship|access-my-student-loan|graduate-loans)",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-04-08T00:00:00Z",start:"2025-04-08T04:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(path, fbq) { \n  var promotions = {'/student-loans/graduate-loans/law-school-loans': 'ins_law', \n                    '/student-loans/graduate-loans/mba-loans':'ins_mba',\n                    '/student-loans/graduate-loans/medical-residency-relocation-loan':'ins_residency',\n                    '/student-loans/graduate-loans/medical-school-loans':'ins_medical',\n                    '/student-loans/graduate-overview': 'ins_overview',\n                    '/student-loans/parent-student-loans' :'ins_parent',\n                    '/student-loans/private-student-loans':'ins_privateclient',\n                    '/student-loans/multi-year-approval':'ins_multi', \n                    '/student-loans/scholarship' : 'ins_scholarship',\n                    '/student-loans/access-my-student-loan':'ins_access',\n                    '/student-loans/graduate-loans':'ins_graduate',\n                    '/student-loans/graduate-loans/dental-school-loans':'ins_dental'\n                    \n  };\n  if (promotions[path] !== '' && typeof fbq === 'function'){\n    fbq('trackCustom','retargetingpage',{promotion : promotions[path]});\n    console.log(\"Pixel selected promotions is:\", promotions[path]);\n  } else {\n    console.log(\"No Promotion match for this page path: \" , window.location.pathname);\n  }\n})(window.location.pathname.replace(/\\.html|\\.page/, ''), window.fbq);\n",language:"javascript"}}]},{id:"RL5a84e20c1cee45d4874627e17e9e7488",name:"Adobe WebSDK - Click Event",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".cbensightenevent",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%AEP XDM Mapping Click Event%",type:"web.webinteraction.linkClicks",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{},production:{},development:{}}},timeout:2e8,delayNext:!0}]},{id:"RL5de31378fb3b41338c89a4bb78d469aa",name:"Citizens Wealth Management - PixReq1711476547409 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/investing-and-wealth-management|/investing-and-wealth-management",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-24T23:00:00Z",start:"2024-03-13T15:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC35248bc6a59540a7a32b1400df440f4b-source.min.js",language:"html",isExternal:!0},timeout:2e8,delayNext:!0}]},{id:"RL6149de0ddb904fb1a7d319c2a3613e37",name:"Snapchat - Student - PixReq1721054911547- Jul2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/how-to-build-credit-college-student|/learning/what-to-do-not-enough-financial-aid",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-07-31T00:00:00Z",start:"2024-07-15T15:51:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC25f5847b525b4d5483d670ff76e1e69e-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL64a3e9f0cdfc48928d6f4aaa401a3362",name:"DC - Client Landing Page - PixReq1710361066929 - Sep2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/featured-products",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien004+standard",enabled:!0}},callback:null},timeout:8e3,delayNext:!0}]},{id:"RL6547c7b12f1644be942af779522a02e9",name:"Demand Base",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(corporate-finance|small-business|citizenspay|promo/business/insights|learning|/promo/investing-and-wealth-management|/promo/featured-products|/features/citizens-iq/overview|promo/business)",valueIsRegex:!0}]},timeout:2e5}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"<script type=\"text/plain\" class=\"optanon-category-C0004\">\n(function(d,b,a,s,e){ var t = b.createElement(a),\n  fs = b.getElementsByTagName(a)[0]; t.async=1; t.id=e; t.src=s;\n  fs.parentNode.insertBefore(t, fs); })\n(window,document,'script','https://tag.demandbase.com/f8064ffab0f99f9f.min.js','demandbase_js_lib'); \n</script>\n",language:"html"},timeout:2e6,delayNext:!0}]},{id:"RL6fae182798ea49afb0e66c13e1a31707",name:"Floodlight - ERL Mid Funnel Media Landing Page - N/A",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/student-lending/parent-education-refinance-loan|/student-loans/parent-student-loan-refinance|/learning/student-loans-and-marriage|/learning/budgeting-for-a-mortgage-with-student-loans/",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u1","%MCID%"],["u2","%s.pageName%"],["u3","%PageURL%"]],accounts:{1623954588787:{label:"erl/erlmflp+unique",enabled:!0}},callback:null},timeout:2e7,delayNext:!0}]},{id:"RL77acf8a18b6e4ac79d9b6aeae88bdef4",name:"DC - Private Bank Overview Page - PixReq1744143528808 - Apr 2026 ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/private-banking/overview",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-05-01T00:00:00Z",start:"2025-04-08T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2025pixe/clien001+standard",enabled:!0}},callback:null}}]},{id:"RL785bfdc7b8454500a00e742fec06de60",name:"Global Tags",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:30}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/load.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"!function(f,b,e,v,n,t,s)\n{if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};\nif(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';\nn.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];\ns.parentNode.insertBefore(t,s)}(window, document,'script',\n'https://connect.facebook.net/en_US/fbevents.js');\nfbq('dataProcessingOptions', ['LDU'], 1, 1000);\nfbq('init', '1067028177888223');\nfbq('track', 'PageView');",language:"javascript"},timeout:2e6,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"!function(e, t, n, s, u, a) {\n e.twq || (s = e.twq = function() {\n s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);\n  }, s.version = '1.1', s.queue = [], u = t.createElement(n), u.async = !0, u.src = 'https://static.ads-twitter.com/uwt.js', a = t.getElementsByTagName(n)[0], a.parentNode.insertBefore(u, a))\n}(window, document, 'script');\ntwq('init', 'nuw9t');\ntwq('track', 'PageView');",language:"javascript"}},{modulePath:"bing-ads-extension/src/lib/actions/customEventNew.js",settings:{event_action:"page_view",event_category:"uetq"}},{modulePath:"pixel-loader/src/lib/actions/loadPixel.js",settings:{urlHost:"secure.adnxs.com",urlKeys:["add","t"],urlPath:"seg",urlVals:["10100","1"],outputURL:"//secure.adnxs.com/seg?add=10100&t=1",urlDelimiter:"&",urlDelimiterType:"query-param"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/*window._svq = window._svq || [];\nwindow._svq.push(['_trackPageView']);\n(function (d, c) {\nvar sv=d.createElement(c); sv.type='text/javascript';\nsv.src='//track.sv.rkdms.com/js/sv.js?sv_cid=6326_04783&sv_origin=citizensbank.com';\nvar s=d.getElementsByTagName(c)[0]; s.parentNode.insertBefore(sv, s);\n})(document, 'script');*/\n",language:"javascript"}}]},{id:"RL7d22c1f6ec0f4a90a077f2b8ae055b3e",name:"Wealth_ Investment Match _Lucy Thank You Page - PixReq1712585677793 / PixReq1712586014054 - Mar2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"promo/investing-and-wealth-management/lucy/thank-you",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-04-01T00:00:00Z",start:"2024-03-05T16:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623954588787:{label:"wealth/wealt001+standard",enabled:!0}},callback:null},timeout:2e6,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC50b70ab592f4400ead459c1d8bf93b77-source.min.js",language:"html",isExternal:!0}}]},{id:"RL7f483bf4611c47a48e5fe91adc33c226",name:"Promo LinkedIn - PixReq1716234271642/PixReq1716233856088/PixReq1716233241567/PixReq1716232448347- Jun2025",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/citizensbank|/promo/featured-products",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-06-19T00:00:00Z",start:"2023-08-22T15:51:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript">\n_linkedin_partner_id = "6159060";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n</script><script type="text/javascript">\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\n</script>\n<noscript>\n<img height="1" width="1" style="display:none;" alt=" " src="https://px.ads.linkedin.com/collect/?pid=6159060&fmt=gif"/>\n</noscript>',language:"html"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript">\n_linkedin_partner_id = "4230105";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n</script><script type="text/javascript">\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\n</script>\n<noscript>\n<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=4230105&fmt=gif" />\n</noscript>',language:"html"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript">\n_linkedin_partner_id = "4618034";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n</script><script type="text/javascript">\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\n</script>\n<noscript>\n<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=4618034&fmt=gif" />\n</noscript>',language:"html"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript">\n_linkedin_partner_id = "4319985";\nwindow._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];\nwindow._linkedin_data_partner_ids.push(_linkedin_partner_id);\n</script><script type="text/javascript">\n(function(l) {\nif (!l){window.lintrk = function(a,b){window.lintrk.q.push([a,b])};\nwindow.lintrk.q=[]}\nvar s = document.getElementsByTagName("script")[0];\nvar b = document.createElement("script");\nb.type = "text/javascript";b.async = true;\nb.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";\ns.parentNode.insertBefore(b, s);})(window.lintrk);\n</script>\n<noscript>\n<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=4319985&fmt=gif" />\n</noscript>',language:"html"},timeout:8e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(e, t, n) {\n    if (e.snaptr) return;\n    var a = e.snaptr = function() {\n        a.handleRequest ? a.handleRequest.apply(a, arguments) : a.queue.push(arguments)\n    };\n    a.queue = [];\n    var s = 'script';\n    r = t.createElement(s);\n    r.async = !0;\n    r.src = n;\n    var u = t.getElementsByTagName(s)[0];\n    u.parentNode.insertBefore(r, u);\n})(window, document,\n    'https://sc-static.net/scevent.min.js');\n\nsnaptr('init', '7bae9aa6-62bc-432d-b25c-89fe6c1933cd', {\n    'user_email': '__INSERT_USER_EMAIL__'\n});\n\nsnaptr('track', 'PAGE_VIEW');",language:"javascript"},timeout:8e3,delayNext:!0}]},{id:"RL80053694991c4dfbb4fff9511e4c164c",name:"Pinterest - Deposits CD/MMA/Offer/Cyber Monday Teaser - PixReq1698861650881/ 1698862199315 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/savings/cds-certificates-of-deposit/online-certificate-of-deposit|/savings/money-market-accounts/overview|/promo/deposits/cybermonday2023-ad-cd|/promo/deposits/cybermonday2023-ad-mma|/promo/deposits/cybermonday2023-teaser",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T00:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"pinterest-conversion-tracking/src/lib/actions/loadBaseCode.js",settings:{},timeout:2e6,delayNext:!0},{modulePath:"pinterest-conversion-tracking/src/lib/actions/sendPageVisitEvent.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RL86d2774e84f94694853ec7e00c4b497b",name:"Learning/Promo Reddit Pagevisit ID - PixReq1734025954157/ PixReq1734103580806 - Dec2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/types-of-federal-financial-aid|/learning/key-fafsa-changes|/learning/how-do-scholarships-work",valueIsRegex:!0},{value:"/promo/student|/promo/student-awareness",valueIsRegex:!0}]},timeout:8e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-12-12T00:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC80ba88e0164f4fc9ae4861869a99b277-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL87bd2163c47d442da7d867845b966fe8",name:"Glassbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Performance%",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n  var gbEparam = document.location.hostname.indexOf(\"www.citizensbank\") != -1 ? 'p' : 'u'; // this parameter should be dynamically passed to the URL based on the environment dev vs prod\n  var gbUrl = 'https://cdn.glassboxcdn.com/citizen/com/' + gbEparam + '/detector-dom.min.js';\n  var glassbox_script = document.createElement('script');\n  glassbox_script.id = \"_cls_detector\";\n  glassbox_script.src = gbUrl;\n  document.head.appendChild(glassbox_script);\n} catch (err) {}",language:"javascript"},timeout:2e5,delayNext:!0}]},{id:"RL8a10476a2eb144c094d757e75db8d30b",name:"Adobe - Remove Pre-hiding Snippet (Safe Fail) ",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:25}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"return new Promise(function(resolve, reject) {\n  setTimeout(function() {\n    resolve();\n  }, 2500);\n});",language:"javascript"},timeout:2e6,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n  let rpreHideSnippet = function(o) { //function to remove prehiding snippet if response is received or server takes more than 3 seconds to respond\n    if(o && o.parentNode) {\n      o.parentNode.removeChild(o);\n    }\n  }\n  let o = document.querySelector("#alloy-prehiding");\n  rpreHideSnippet(o);\n} catch (e) {\n\n}',language:"javascript"},timeout:2e8,delayNext:!0}]},{id:"RL8c0c395c91cb478ea231e44ddf43cd74",name:"Floodlight (Mediacom) - Brand SEM Landing page - PixReq1700507806407 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/features/direct-deposit/paidearly",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2023-11-20T21:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2022p0/clien000+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RL9508017609c74c2895bf468964dc9670",name:"DC - Business Banking V2 - PixReq1730142847758 - Oct2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/business/brand/confidence-in-business",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-10-26T23:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/2024q0+standard",enabled:!0}},callback:null},timeout:8e3,delayNext:!0}]},{id:"RL9ae21bdd1aba4444b89f76c98d49b7de",name:"DC - Client Landing Page - HELOC - PixReq1743610005206 - Mar2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/heloc/go-fastline",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-03-31T23:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2025pixe/clien00+standard",enabled:!0}},callback:null},timeout:8e3,delayNext:!0}]},{id:"RL9d9da48f7a724492816350042826d22c",name:"Reddit Pagevisit Pixel - PixReq1732559222223/ PixReq1732571981221/ PixReq1732572345345/ PixReq1732649560842/ PixReq1732650082284/ PixReq1732650458766/ PixReq1732650772751/ PixReq1732655744281/ PixReq1732655506795/ PixReq1732655291950/ PixReq1732654864268 - Nov2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/home-equity-and-student-loans|/learning/pay-off-mortgage-with-heloc|/learning/ways-to-use-equity|/learning/debt-with-a-heloc|/learning/home-construction-loans|/learning/home-equity-refinancing|/learning/8-surprising-heloc-facts|/learning/eco-friendly-home-improvement-heloc|/learning/how-to-calculate-home-equity|/learning/home-equity-401k|/learning/what-is-apr|/learning/what-is-the-prime-rate|/learning/heloc-myths-debunked|/learning/buying-vacation-home-investment|/learning/winterization-home-improvement-ideas|/learning/second-mortgage-loans|/learning/credit-score-calculation|/learning/debt-reduction-tips|/learning/home-equity-application-checklist|/learning/refinancing-investment-property|/learning/finance-your-spring-renovation-projects|/learning/home-improvement-ideas",valueIsRegex:!0},{value:"/promo/heloc/fastline|/promo/heloc/competitor-comparison|/promo/heloc/fastlinepc|/promo/heloc/fastlineprivate|/promo/heloc/switchnow|/promo/heloc/switch|/promo/heloc/fastlinenow|/promo/heloc/what-to-know-about-a-heloc",valueIsRegex:!0},{value:"/financial-calculators/heloc-calculator",valueIsRegex:!0},{value:"/home-equity-loans/home-equity-line-of-credit-heloc",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-11-25T00:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC0b9a85d6c01741dfa1a6802d074a9371-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RL9ec7cbd9e1224b1f95f98b434809bd95",name:"Business Banking EMC - PixReq1721679960729 - Jun2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/small-business/cash-management/cash-flow-essentials/overview",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-06-30T00:00:00Z",start:"2024-07-22T20:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien007+standard",enabled:!0}},callback:null},timeout:8e3,delayNext:!0}]},{id:"RLa04393c78b9949e480f18f12eb622489",name:"Adobe - ECID",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:-400}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'return alloy("getIdentity")\n   .then(function(result) {\n     _satellite.setVar("ECID", result.identity.ECID);\n   }).catch(function(error) {\n     _satellite.setVar("ECIDErrorType", error.type);\n     _satellite.setVar("ECIDErrorStatus", error.status);\n     _satellite.setVar("ECIDErrorTitle", error.title);\n     _satellite.setVar("ECIDErrorDetail", error.detail);\n     _satellite.setVar("ECIDError", JSON.stringify(error));\n  });',language:"javascript"},timeout:2e3,delayNext:!0}]},{id:"RLa1584da4ae194a3eb8f26d888b23e094",name:"DV360 - Home Page - PixReq1713899647083/ PixReq1739198528238 - Feb2026",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/HomePage",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-02-10T01:00:00Z",start:"2021-01-15T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u3","%PageURL%"]],accounts:{1623954588787:{label:"homepag/homepag+unique",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLa6fc4c357ff046c28b0ccf6520bd72b8",name:"Adobe WebSDK - Tool Tracking",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"tool_interaction",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC4fd6f7160d8046f5925b6b34b470a9cb-source.min.js",language:"javascript",isExternal:!0},timeout:2e6,delayNext:!0}]},{id:"RLb954c4f2221b476398a6b6754e21f3c3",name:"Adwords - BB-Lead Form - N/A",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/customer-service/banking-contact-forms/speak-with-a-business-banker/successful-submission",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623954994660:{label:"kHv3CJWokoQBEIH0gL4D",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLbbd4e74337124369acfa79d34e539ef4",name:"Citizens Wealth Management - PixReq1710358847184 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(promo/investing-and-wealth-management/no-matter.html)",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-24T23:00:00Z",start:"2024-03-13T15:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien003+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLc5fe28160fb646be9f86e844b19fb113",name:"Citizens Private Banking - PixReq1710779082388 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/private-banking/overview",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-03-31T23:00:00Z",start:"2024-03-18T15:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien005+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLc62f171990fa4f3eb4f5a1bfb15b917f",name:"Global Event Pixels",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u2","%s.pageName%"],["u3","%PageURL%"]],accounts:{1623954588787:{label:"allpgs/allpageu+unique",enabled:!0},1623968940945:{label:"sitet0/citiz0+unique",enabled:!0}},callback:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'function amNet(pixelurl, callback) {\n  var tag = document.createElement("script")\n  tag.type = "text/javascript";\n  if (tag.readyState) { // only required for IE <9\n    tag.onreadystatechange = function() {\n      if (tag.readyState === "loaded" || tag.readyState === "complete") {\n        tag.onreadystatechange = null;\n        callback();\n      }\n    };\n  } else { //Others\n    tag.onload = function() {\n      callback();\n    };\n  }\n  tag.src = pixelurl;\n  var scpt = document.getElementsByTagName(\'script\')[0];\n  scpt.parentNode.insertBefore(tag, scpt);\n}\n\namNet(\'https://t.a3cloud.net/AM-141554/tag.js?nm=am\', function() {\n  document.body.dispatchEvent(new CustomEvent(\n    "am.custom", {\n      detail: {\n        message: {\n          event: "data",\n          message: {\n            "MCID": _satellite.getVar(\'intCampaign\') + \'\' + _satellite.getVar(\'s.campaign\'),\n          }\n        }\n      },\n      bubbles: true,\n      cancelable: true\n    }\n  ));\n});',language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"let dcJS = document.createElement('SCRIPT');\nlet done = false;\n\ndcJS.setAttribute('src', '//www.googleadservices.com/pagead/conversion_async.js');\ndcJS.setAttribute('type', 'text/javascript');\n\ndocument.body.appendChild(dcJS);\ndcJS.onload = dcJS.onreadystatechange = function() {\n  if (!done && (!this.readyState || this.readyState === \"loaded\" || this.readyState === \"complete\")) {\n    done = true;\n    callback();\n\n    // Handle memory leak in IE\n    dcJS.onload = dcJS.onreadystatechange = null;\n    document.body.removeChild(dcJS);\n  }\n};\n\nfunction callback() {\n  if (done) {\n    window.google_trackConversion({\n      google_conversion_id: 940611339,\n      google_custom_params: window.google_tag_params,\n      google_remarketing_only: true\n    });\n  }\n}",language:"javascript"}}]},{id:"RLca944e87b56649e798771de1881fce19",name:"Adobe - ECID - Redirect - OLB",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:25}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=document.querySelector(".dcom-c-nav-login__button>button");return!(!e||null===e||""===e||(e.addEventListener("click",(e=>{const t=document.querySelector("#loginDropdown").value;t&&null!==t&&""!==t&&"https://www.citizensbankonline.com/olb-root/login"==t&&"function"==typeof alloy&&(e.preventDefault(),alloy("appendIdentityToUrl",{url:t}).then((e=>{document.location=e.url})))})),0))}catch(e){}}},timeout:2e8}],actions:[]},{id:"RLcd028fdcff5a46d6a09ccb03bd8950b3",name:"Sprinklr",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"(mortgages|loans|learning|citizenspay)",valueIsRegex:!0},{value:"(partner/|promo/|student-lending/|customer-service/FAQs/student-loans|student-loans/|student-banking/overview)",valueIsRegex:!0},{value:"(everyday-banking/|checking/|savings/|learning/student-banking-tips|customer-service/FAQs/certificates-of-deposit|customer-service/FAQs/money-market-accounts)",valueIsRegex:!0},{value:"(credit-cards/|promotion/|customer-service/FAQs/credit-cards)",valueIsRegex:!0},{value:"features/citizens-plus/benefits-calculator.html",valueIsRegex:!0}]},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'let hostname = window.location.hostname;\nvar appConfigs = [{\n    name: "CitizensPay",\n    regexCond: "https://.*citizensbank.com/citizenspay/.*",\n    appID: (hostname == "www.citizensbank.com") ? "65bcce430fe0a555670a2dfa_app_1868442" : "65aab199379d7753f5114e6f_app_1865025"\n  }, {\n    name: "Mortgage",\n    regexCond: "https://.*citizensbank.com/(mortgages|loans|learning)/.*",\n    appID: (hostname == "www.citizensbank.com") ? "65bcce430fe0a555670a2df0_app_1868441" : "65a99bdb74547677a7a3c9f7_app_1864694"\n  }, {\n    name: "Student",\n    regexCond: "https://.*citizensbank.com/(partner/|promo/|student-lending/|customer-service/faqs/student-loans|student-loans/|student-banking/overview).*",\n    appID: (hostname == "www.citizensbank.com") ? "65dfa093ce706220eea5fa89_app_1875443" : "65d9a72b2b69e6141e42d90e_app_1873489"\n  }, {\n    "name": "Credit Card",\n    "regexCond": "https://.*citizensbank.com/(credit-cards/|promotion/|customer-service/FAQs/credit-cards).*",\n    "appID": (hostname == "www.citizensbank.com") ? "65dfa092ce706220eea5fa19_app_1875441" : "65d5c054b7d44851e1978652_app_1872687"\n  },\n  {\n    "name": "Deposits",\n    "regexCond": "https://.*citizensbank.com/(everyday-banking/|checking/|savings/|learning/student-banking-tips|customer-service/FAQs/certificates-of-deposit|customer-service/FAQs/money-market-accounts|features/citizens-plus/benefits-calculator).*",\n    "appID": (hostname == "www.citizensbank.com") ? "65dfa093ce706220eea5fa58_app_1875442" : "65d5e253b7d44851e1d20112_app_1872709"\n  }\n];\nwindow.sprChatSettings = window.sprChatSettings || {};\nfor (const a of appConfigs)\n  if (window.location.href.match(a.regexCond)) {\n    window.sprChatSettings = {\n      "appId": a.appID,\n      "scope": "CONVERSATION",\n      "landingScreen": "LAST_CONVERSATION",\n      "skin": "MODERN"\n    } //console.log(a.appID);\n    break\n  }\n\n(function() {\n  var t = window,\n    e = t.sprChat,\n    a = e && !!e.loaded,\n    n = document,\n    r = function() {\n      r.m(arguments)\n    };\n  r.q = [], r.m = function(t) {\n    r.q.push(t)\n  }, t.sprChat = a ? e : r;\n  var e2 = t.sprTeamChat,\n    r2 = function() {\n      r2.m(arguments)\n    };\n  r2.q = [], r2.m = function(t) {\n    r2.q.push(t)\n  }, t.sprTeamChat = e2 ? e2 : r2;\n  var o = function() {\n    var e = n.createElement("script");\n    e.type = "text/javascript", e.async = !0, e.src = "https://prod-live-chat.sprinklr.com/api/livechat/handshake/widget/" + t.sprChatSettings.appId;\n\n    e.onerror = function() {\n      t.sprChat.loaded = !1\n    }, e.onload = function() {\n      t.sprChat.loaded = !0\n    };\n    var a = n.getElementsByTagName("script")[0];\n    a.parentNode.insertBefore(e, a)\n  };\n  "function" == typeof e ? a ? e("update", t.sprChatSettings) : o() : "loading" !== n.readyState ? o() : n.addEventListener("DOMContentLoaded", o)\n})()',language:"javascript"},timeout:2e8,delayNext:!0}]},{id:"RLcf4cad381e3a483684fe98486e2bcdc2",name:"Click Tracking Script - Mobile View",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".dcom-c-navigation-bar__mobile-secondary",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".dcom-c-navigation-bar__secondary-link",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#onetrust-pc-btn-handler",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{
modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC504260864f204417b14c3741a88e82b2-source.min.js",language:"javascript",isExternal:!0},timeout:2e8,delayNext:!0}]},{id:"RLd2337e198cc148079c5e1c07fa7aeab6",name:"Qualtrics - QA",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3},{modulePath:"core/src/lib/conditions/domain.js",settings:{domains:["www.citizensbank.com","studentloans.citizensbank.com"]},negate:!0,timeout:2e3}],actions:[{modulePath:"qualtrics-website-feedback/src/lib/actions/loadProject.js",settings:{brandID:"citizensbank",projectID:"ZN_a67G7Rs4qv6bMRE"},timeout:8e3,delayNext:!0}]},{id:"RLd599bc23aa3644a3b9906ad309cd4d79",name:"Wealth_ Investment Match - PixReq1712683934799 - Dec2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/investing-and-wealth-management/investment-match.html",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-01-01T01:00:00Z",start:"2023-08-22T15:49:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u2","%stepName%"],["u3","%PageURL%"]],accounts:{1623954588787:{label:"wealth/wealt0+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLd5b547dca02144f19e17917f9b8717ad",name:"Reddit Purchase Pixel - PixReq1727379584516/ PixReq1727379584516/ PixReq1729699144176/ PixReq1729702299189/ PixReq1729716642555/ PixReq1729716128990/ PixReq1730391774088 - Nov2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/featured-products",valueIsRegex:!0},{value:"/learning/home-equity-line-comparison|/learning/ready-to-renovate|/learning/what-is-a-home-equity-line-of-credit|/learning/aging-in-place-home-remodeling|/learning/heloc-for-debt-consolidation|/learning/empower-your-life-with-a-heloc.html|/learning/faster-smarter-way-to-finance-projects",valueIsRegex:!0},{value:"/home-equity-loans/heloc-debt-consolidation-calculator|/home-equity-loans/heloc-basics|/home-equity-loans/renovation-hub",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-11-25T00:00:00Z",start:"2024-03-13T19:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC080fda5c54c44d26b8369c676a2bf577-source.min.js",language:"javascript",isExternal:!0},timeout:8e3,delayNext:!0}]},{id:"RLe2573422b57a476e9cc240baec715ab8",name:"Outbrain - Global Pixel",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/student-lending/scholarship|/student-loans/scholarship|/learning/11-things-to-look-for-on-your-college-visit|/learning/college-planning-guide-for-parents|/learning/should-i-go-to-grad-school",valueIsRegex:!0}]},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=[];return e.push("001b0a938fd4b435e0d11ea9b677bf8d05"),function(t){var n=e;if(!t.obApi){var o=t.obApi=function(){o.dispatch?o.dispatch.apply(o,arguments):o.queue.push(arguments)};o.version="1.0",o.loaded=!0,o.marketerId=n,o.queue=[];var r=document.createElement("script");r.type="text/javascript",r.src="https://amplify.outbrain.com/cp/obtp.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a)}}(window,document),window.obApi("track","PAGE_VIEW"),!0}},timeout:2e8}],actions:[]},{id:"RLe3554fbe54764823be2337798822fd21",name:"Meta Retargeting -UAO pages - April 2026  ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/checking/(overdraft/(peace-of-mind)|student-checking|evervalue|private-client-checking-account|quest-checking-account|one-deposit-checking-account|overview)",valueIsRegex:!0},{value:"/promo/savings/(money-markets|cds|savings-accounts)",valueIsRegex:!0},{value:"/savings/(savings-accounts/(quest|one-deposit|overview))|money-market-accounts/(overview)|cds-certificates-of-deposit/(online-certificate-of-deposit)",valueIsRegex:!0},{value:"/(features/direct-deposit/paidearly)|(learning/saving-center/overview)|(homepage)",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-04-08T00:00:00Z",start:"2025-04-08T04:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"(function(path, fbq) { \n  var promotions = {\n                    '/checking/overdraft/peace-of-mind':'checking_overdraft',\n                    '/features/direct-deposit/paidearly':'checking_directdeposit',\n                    '/checking/student-checking':'checking_student',\n                    '/checking/evervalue':'checking_evervalue',\n                    '/checking/private-client-checking-account':'checking_privateclient',\n                    '/checking/quest-checking-account':'checking_quest',\n                    '/checking/one-deposit-checking-account':'checking_onedeposit',\n                    '/checking/overview':'checking_overview',\n                    '/promo/savings/money-markets':'deposits_mma_promo',\n                    '/savings/money-market-accounts/overview':'deposits_mma_overview',\n                    '/promo/savings/cds':'deposits_cd_promo',\n                    '/savings/cds-certificates-of-deposit/online-certificate-of-deposit':'deposits_cd_cds',\n                    '/promo/savings/savings-accounts':'deposits_savings_savingsaccounts',\n                    '/learning/saving-center/overview':'deposits_savings_learning',\n                    '/savings/savings-accounts/quest':'deposits_savings_quest',\n                    '/savings/savings-accounts/one-deposit':'deposits_savings_onedeposit',\n                    '/savings/savings-accounts/overview':'deposits_savings_overview'\n                    \n                    \n  };\n  if (promotions[path] !== '' && typeof fbq === 'function'){\n    fbq('trackCustom','retargetingpage',{promotion : promotions[path]});\n    console.log(\"Pixel selected promotions is:\", promotions[path]);\n  } else {\n    console.log(\"No Promotion match for this page path: \" , window.location.pathname);\n  }\n})(window.location.pathname.replace(/\\.html|\\.page/, ''), window.fbq);\n",language:"javascript"}}]},{id:"RLe422922b3e4544c0aba2124e3fb00fd8",name:"Learning LinkedIn - PixReq1713467791745 - Mar2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/learning/unexpected-health-care-costs-during-retirement|/learning/using-your-tax-return-to-invest-in-your-future|/learning/financial-planning-for-the-lgbtq-community|/learning/financial-planning|/learning/how-to-retire-by-50|/learning/8-common-investing-mistakes|/learning/the-benefits-of-a-financial-advisor|/learning/how-much-money-do-you-need-to-retire",valueIsRegex:!0},{value:"/promo/investing-and-wealth-management/no-matter-mid|/promo/investing-and-wealth-management/no-matter|/investing-and-wealth-management/products-services-and-calculators/financial-calculators/roth-401k-vs-traditional-401k-calculator|/investing-and-wealth-management/services/overview|/investing-and-wealth-management/products-services-and-calculators/financial-calculators/retirement-planning-calculator",valueIsRegex:!0},{value:"/learning/bull-market-vs-bear-market|/learning/choosing-financial-planner|/learning/ira-vs-401k|/learning/how-to-divide-your-estate|/learning/understanding-ira-savings|/learning/understanding-dividends|/learning/irrevocable-trust-vs-529-plan",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-04-01T00:00:00Z",start:"2024-04-18T15:51:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/c6a477a8a7f5/67e13b3dacd1/5ab59f845563/RC8aa0889674d04d03992d8669ecacbd9f-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLec9bcde26e494dc7b2f5b9e93e558122",name:"Floodlight (Mediacom) - CB Park Site - PixReq1712346802584 - Mar2025",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/community/citizens-bank-park/overview",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2025-04-01T00:00:00Z",start:"2023-04-10T15:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[],accounts:{1623955035520:{label:"2024pixe/clien006+standard",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLf46c5ac266014b568447dd45826ca172",name:"DV360 - Student Lending Pod Promo Page - PixReq1712610514879/ PixReq1738855294758 - Feb2026",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/promo/student",valueIsRegex:!0}]},timeout:2e3},{modulePath:"core/src/lib/conditions/dateRange.js",settings:{end:"2026-02-06T01:00:00Z",start:"2022-11-28T05:00:00Z"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%One Trust - Targeting %",rightOperand:"opted-in"},timeout:2e3}],actions:[{modulePath:"acronym-gtag.js/src/lib/actions/event.js",settings:{name:"conversion",options:[["u3","%PageURL%"]],accounts:{1623954588787:{label:"insch0/inspromo+unique",enabled:!0}},callback:null},timeout:2e3,delayNext:!0}]},{id:"RLf8e2c6184793494780d7d9c69e561b54",name:"campaign dynamicity",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:48}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=window.location.href,t=e.split("?"),n=/erlratequote|openaccount|CARDS_APPLY\/Application.do|citizensapplynow.com|getstarted|journey|signup|app\/#\/login|app\/#\/summary\/origination|app\/#\/is\/origination|precheckup|applynow\/GetStarted|fastline|businessloans.citizensbank.com|heloconeclick|applynow.citizensbank.com|secureopen.citizensbank.com/,o=/app\/#\/login|app\/#\/summary\/origination|app\/#\/is\/origination|student.citizensbank.com/,r=/inschool|erl|uao|cc|heloc|mortgage|generic|wealth|businessloan|businessbanking/;if((e.indexOf("ctzMode")>0||e.indexOf("WT.mc_id")>0||e.indexOf("intcmp")>0||e.indexOf("WT.ac")>0||e.indexOf("testVer")>0)&&"object"==typeof CBDL&&"object"==typeof CBDL.pgInfo){var a=CBDL.pgInfo.cbproduct.toLowerCase(),i=CBDL.pgInfo.cbpgFunction.toLowerCase(),s=(CBDL.pgInfo.cbpgSubFunction.toLowerCase(),CBDL.pgInfo.cbpgsubType.toLowerCase()),c="homelending"===s||"cc"===s||"studentlending"===s?"lending":CBDL.pgInfo.cbpgType.toLowerCase();if("learning"!==c&&r.test(a)){var l=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);d(t);var o=new RegExp(/[~`!@#$%\?^&*+\\[\]\\',=";/{}|\\:<>\(\)]/);return null!==n&&!0!==o.test(n[1])||"erl"===a&&"inschool"===a?void 0!==d("cbCampaignValue")&&"undefined"!==d("cbCampaignValue")&&""!==d("cbCampaignValue")?decodeURIComponent(n[1].replace(/\+/g," "))+"&"+d("cbCampaignValue"):decodeURIComponent(n[1].replace(/\+/g," ")):""},d=function(){if("studentloan"===c||"heloc"==a){let o=t[1].split(/[&;]/g),r=/ctzMode|WT.mc_id|intcmp|WT.ac/.exec(o);if(t.length>=2){for(var e=encodeURIComponent(r)+"=",n=o.length;n-- >0;)-1!==o[n].lastIndexOf(e,0)&&o.splice(n,1);return o.join("&")}return""}},u=function(e,t){var n=new Date;n.setTime(n.getTime()+108e6);var o="expires="+n.toGMTString();document.cookie=e+"="+t+"; "+o},p=function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):""},g=function(e){var t=p("cbCampaignCookie");if(""!==t){var n=l(e);""!==n&&null!==n&&u("cbCampaignCookie",n,1)}else""!==(t=l(e))&&null!==t&&u("cbCampaignCookie",t,1)};if(t.length>1){var m=t[1].split(/[&;]/g),f=/ctzMode|WT.mc_id|WT.ac|intcmp/.exec(m);""!==(f=f&&null!=f?f.toString():"")&&l(f)&&("undefined"!=typeof Storage?sessionStorage.cbCampaignValue=l(f):g(f))}var h=function(e,t,n){var o=(e=e.replace(/\s+/g,"")).split("?");if(o.length>1){var r=o[1].split(/[&;]/g),a=/WT.mc_id|WT.ac|intcmp/.exec(r),i=r.filter((e=>!e.includes(a)));e=o[0]+(i.length>0?"?"+i.join("&"):"")}var s=new RegExp("([?&])"+t+"=[^&#]*","i");return s.test(e)?e=e.replace(s,"$1"+t+"="+n):e+=(e.match(/\?/)?"&":"?")+t+"="+n,e};$("a").each((function(){var t=void 0!==typeof Storage?sessionStorage.cbCampaignValue:p("cbCampaignCookie"),r=$(this).attr("href");if(r="string"==typeof r&&""!==r?r:"nourl",e.indexOf("ctzMode")>0?parameter="uao"==a&&!r.match("secureopen.citizensbank.com")||r.match("applynow.citizensbank.com/openaccount")?"ctzMcode":"ctzMode":parameter=e.indexOf("WT.mc_id")>0?"WT.mc_id":e.indexOf("WT.ac")>0?"WT.ac":e.indexOf("intcmp")>0?"intcmp":"",""!==t&&void 0!==t&&"undefined"!=typeof parameter&&""!==parameter)r&&r.match("http")&&n.test(r)?(r=h(r,parameter,t),$(this).attr("href",r)):"promo-featuredproducts"!==i&&"promo-citizensbank-brandsem"!==i||(r=h(r,parameter,t),$(this).attr("href",r));else if(e.indexOf("testVer")>0&&o.test(r)){let e=d(f);""!==e&&$(this).attr("href",r+"&"+e)}})),sessionStorage.clear("ctzMode"),sessionStorage.clear("WT.mc_id")}}}catch(e){console.log("Error In Campaign Dynamicity"+e)}return!0}},timeout:2e6}],actions:[]},{id:"RLfbfe622f43464688a16fd4b143010085",name:"Adobe WebSDK - PageView Event",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:120}],conditions:[],actions:[{modulePath:"adobe-alloy/dist/lib/actions/sendEvent/index.js",settings:{xdm:"%AEP XDM Mapping PageView Event%",type:"web.webpagedetails.pageViews",instanceName:"alloy",personalization:{includeRenderedPropositions:!0},edgeConfigOverrides:{staging:{datastreamId:"a3debc1c-c161-45f1-9055-e7ef5aedaa25",com_adobe_analytics:{reportSuites:["citizensbankglobaldev"]}},production:{datastreamId:"96a73d33-6475-4b55-950b-06851d3f516f",com_adobe_analytics:{reportSuites:["citizensbankglobalprod"]}},development:{datastreamId:"a3debc1c-c161-45f1-9055-e7ef5aedaa25",com_adobe_analytics:{reportSuites:["citizensbankglobaldev"]}}}},timeout:2e6,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"let pageName = _satellite.getVar('s.pageName') || '';\n_satellite.cookie.set('gpv_p5', pageName, {\n  domain: \"citizensbank.com\"\n})\n\nsetTimeout(() => {\n  if (typeof(_detector) === 'object' && typeof(_detector.triggerABTestingEvent) === 'function') {\n    if (\"object\" == typeof ttActivity && ttActivity.length > 0) {\n      for (i = 0; i < ttActivity.length; i++) {\n        _detector.triggerABTestingEvent(\"adobe\", ttActivity[i].CampaignId, ttActivity[i].CampaignName, ttActivity[i].RecipeId, ttActivity[i].RecipeName);\n      }\n    }\n  }\n}, \"750\");",language:"javascript"},timeout:2e8,delayNext:!0}]}]};var _satellite=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var n,o;return!1!==t(e)&&(void 0===(n=e.constructor)||!1!==t(o=n.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf"))}function o(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function r(e){return e.substr(0,e.indexOf("["))}function a(e,t,n){if(e.length&&ut(t)){var i=e[0];if(1!==e.length){var s=e.slice(1);if(!o(i))return a(s,t[i],n);var c=t[i=r(i)];Array.isArray(c)&&c.forEach((function(e){return a(s,e,n)}))}else t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=n(t[i]))}}if(window.atob){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=document,c=Object.assign,l=window,d=l,u=function(e,t,n,o){var r,a=Boolean(t&&Array.isArray(n)),i=Boolean(a&&e),s=document.createElement("a");if(a){var c=function(){var e=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw e.code="dynamic_host_resolver_constructor_error",e};if(e&&(/^((https?:)?\/\/).+/.test(e)||c(),/^\/\/.+/.test(e)?s.href=d.location.protocol+e:s.href=e),s.hostname||c(),-1===n.indexOf(s.hostname)){var l=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw l.code="dynamic_host_not_allowed",l}}var u=function(){if(null!=r)return r;if(i){var e=s.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),r=s.protocol+"//"+e}else r="";return r},p=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},g={getTurbineHost:u,decorateWithDynamicHost:p,get isDynamicEnforced(){return a}};return d&&o.onDebugChanged((function(e){e?d.dynamicHostResolver=g:delete d.dynamicHostResolver})),g},p=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(n){t.push({rule:e,event:n})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},g="debug",m=function(e,t){var n=function(){return"true"===e.getItem(g)},o=function(t){e.setItem(g,t)},r=[],a=function(e){r.push(e)};return t.outputEnabled=n(),{onDebugChanged:a,getDebugEnabled:n,setDebugEnabled:function(e){n()!==e&&(o(e),t.outputEnabled=e,r.forEach((function(t){t(e)})))}}},f="Module did not export a function.",h=function(e,t,n){return function(o,r,a){a=a||[];var i=e.getModuleExports(o.modulePath);if("function"!=typeof i)throw new Error(f);var s=e.getModuleDefinition(o.modulePath),c=o.settings||{};!o.hasTransformedFilePaths&&s.filePaths&&(n(c,s.filePaths,o.modulePath),o.hasTransformedFilePaths=!0);var l=t(c,r);return i.bind(null,l).apply(null,a)}},b=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},v={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},y="\ud83d\ude80",w=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":y,C=!1,k=function(e){if(C&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(w),e!==v.DEBUG||window.console[e]||(e=v.INFO),window.console[e].apply(window.console,t)}},E=k.bind(null,v.LOG),P=k.bind(null,v.INFO),I=k.bind(null,v.DEBUG),x=k.bind(null,v.WARN),T=k.bind(null,v.ERROR),S=function(){var e=C;C=!0,k.apply(null,Array.prototype.concat(v.WARN,Array.prototype.slice.call(arguments))),e||(C=!1)},j={log:E,info:P,debug:I,warn:x,error:T,deprecation:S,get outputEnabled(){return C},set outputEnabled(e){C=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:E.bind(null,t),info:P.bind(null,t),debug:I.bind(null,t),warn:x.bind(null,t),error:T.bind(null,t)}}},O=l,_="com.adobe.reactor.",R=function(e,t){var n=_+(t||"");return{getItem:function(t){try{return O[e].getItem(n+t)}catch(e){return null}},setItem:function(t,o){try{return O[e].setItem(n+t,o),!0}catch(e){return!1}}}},D=R,N="dataElements.",L=D("sessionStorage",N),A=D("localStorage",N),M={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},q={},B=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},V=b,F=j,U={setValue:function(e,t,n){var o;switch(t){case M.PAGEVIEW:return void(q[e]=n);case M.SESSION:return void((o=B(n))&&L.setItem(e,o));case M.VISITOR:return void((o=B(n))&&A.setItem(e,o))}},getValue:function(e,t){var n;switch(t){case M.PAGEVIEW:return q.hasOwnProperty(e)?q[e]:null;case M.SESSION:return null===(n=L.getItem(e))?n:JSON.parse(n);case M.VISITOR:return null===(n=A.getItem(e))?n:JSON.parse(n)}}},$=function(e,t,n,o){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(o?"\n"+o:"")},z=function(e,t,n,o,r){return function(a,i){var s=t(a);if(!s)return o?"":void 0;var c,l,d=s.storageDuration;try{c=e.getModuleExports(s.modulePath),l=e.getModuleDefinition(s.modulePath)}catch(e){return void F.error($(s,a,e.message,e.stack))}if("function"==typeof c){var u,p=s.settings||{};!s.hasTransformedFilePaths&&l.filePaths&&(r(p,l.filePaths,s.modulePath),s.hasTransformedFilePaths=!0);try{u=c(n(p,i),i)}catch(e){return void F.error($(s,a,e.message,e.stack))}return d&&(null!=u?U.setValue(a,d,u):u=U.getValue(a,d)),null==u&&null!=s.defaultValue&&(u=s.defaultValue),"string"==typeof u&&(s.cleanText&&(u=V(u)),s.forceLowerCase&&(u=u.toLowerCase())),u}F.error($(s,a,"Module did not export a function."))}},H=b,W={text:function(e){return e.textContent},cleanText:function(e){return H(e.textContent)}},J=function(e,t,n){for(var o,r=e,a=0,i=t.length;a<i;a++){if(null==r)return;var s=t[a];if(n&&"@"===s.charAt(0)){var c=s.slice(1);r=W[c](r)}else if(r.getAttribute&&(o=s.match(/^getAttribute\((.+)\)$/))){var l=o[1];r=r.getAttribute(l)}else r=r[s]}return r},G=function(e,t,n){return function(o,r){var a;if(t(o))a=n(o,r);else{var i=o.split("."),s=i.shift();"this"===s?r&&(a=J(r.element,i,!0)):"event"===s?r&&(a=J(r,i)):"target"===s?r&&(a=J(r.target,i)):a=J(e[s],i)}return a}},Z=function(e,t){return function(n){var o=n.split(".")[0];return Boolean(t(n)||"this"===o||"event"===o||"target"===o||e.hasOwnProperty(o))}},Q=function(e,t,n){var o={exports:{}};return e.call(o.exports,o,o.exports,t,n),o.exports},X=Q,Y=j,K=function(){var e={},t=function(t){var n=e[t];if(!n)throw new Error("Module "+t+" not found.");return n},n=function(){Object.keys(e).forEach((function(e){try{o(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");Y.error(t)}}))},o=function(e){var n=t(e);return n.hasOwnProperty("exports")||(n.exports=X(n.definition.script,n.require,n.turbine)),n.exports};return{registerModule:function(t,n,o,r,a){var i={definition:n,extensionName:o,require:r,turbine:a};i.require=r,e[t]=i},hydrateCache:n,getModuleExports:o,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},ee=j,te=!1,ne=function(e){return function(t,n){var o=e._monitors;o&&(te||(ee.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),te=!0),o.forEach((function(e){e[t]&&e[t](n)})))}},oe=j,re=function(e,t,n){var o,r,a,i,s=[],c=function(o,r,a){if(!e(r))return o;s.push(r);var i=t(r,a);return s.pop(),null==i&&n?"":i};return o=function(e,t){var n=/^%([^%]+)%$/.exec(e);return n?c(e,n[1],t):e.replace(/%(.+?)%/g,(function(e,n){return c(e,n,t)}))},r=function(e,t){for(var n={},o=Object.keys(e),r=0;r<o.length;r++){var a=o[r],s=e[a];n[a]=i(s,t)}return n},a=function(e,t){for(var n=[],o=0,r=e.length;o<r;o++)n.push(i(e[o],t));return n},i=function(e,t){return"string"==typeof e?o(e,t):Array.isArray(e)?a(e,t):"object"==typeof e&&null!==e?r(e,t):e},function(e,t){return s.length>10?(oe.error("Data element circular reference detected: "+s.join(" -> ")),e):i(e,t)}},ae=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var n in t)e[n]=t[n]}}},ie="undefined"!=typeof window&&window.Promise||void 0!==i&&i.Promise,se=ie,ce=function(e,t,n){return function(o,r,a,i){return i.then((function(){var i,s=o.delayNext;return new se((function(t,n){var r=e(o,a,[a]);if(!s)return t();var c=o.timeout,l=new se((function(e,t){i=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));se.race([r,l]).then(t,n)})).catch((function(e){return clearTimeout(i),e=t(e),n(o,r,e),se.reject(e)})).then((function(){clearTimeout(i)}))}))}},le=ie,de=function(e,t,n,o,r){return function(a,i,s,c){return c.then((function(){var c;return new le((function(t,n){var o=e(a,s,[s]),r=a.timeout,i=new le((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+r/1e3+" seconds to complete. "))}),r)}));le.race([o,i]).then(t,n)})).catch((function(e){return clearTimeout(c),e=t(e),o(a,i,e),le.reject(e)})).then((function(e){if(clearTimeout(c),!n(a,e))return r(a,i),le.reject()}))}))}},ue=ie.resolve(),pe=function(e,t,n){return function(o,r){return o.conditions&&o.conditions.forEach((function(t){ue=e(t,o,r,ue)})),o.actions&&o.actions.forEach((function(e){ue=t(e,o,r,ue)})),ue=(ue=ue.then((function(){n(o)}))).catch((function(){}))}},ge=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},me=function(e,t,n,o){return function(r,a){var i;if(r.conditions)for(var s=0;s<r.conditions.length;s++){i=r.conditions[s];try{var c=e(i,a,[a]);if(ge(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(i,c))return n(i,r),!1}catch(e){return o(i,r,e),!1}}return!0}},fe=function(e,t){return function(n,o){e(n,o)&&t(n,o)}},he=function(e){return function(t){var n=e.getModuleDefinition(t.modulePath);return n&&n.displayName||t.modulePath}},be=function(e){return function(t){var n=t.rule,o=t.event,r=e.getModuleDefinition(o.modulePath).name;return{$type:e.getModuleExtensionName(o.modulePath)+"."+r,$rule:{id:n.id,name:n.name}}}},ve=function(e,t,n,o,r,a){return function(i,s){var c=s.rule,l=s.event;l.settings=l.settings||{};try{var d=r(s);t(l,null,[function(t){var o=n(d,t);i((function(){e(o,c)}))}])}catch(e){a.error(o(l,c,e))}}},ye=function(e,t,n,o){return function(r,a,i){var s=t(r);n.error(e(s,a.name,i)),o("ruleActionFailed",{rule:a,action:r})}},we=function(e,t,n,o){return function(r,a,i){var s=t(r);n.error(e(s,a.name,i)),o("ruleConditionFailed",{rule:a,condition:r})}},Ce=function(e,t,n){return function(o,r){var a=e(o);t.log('Condition "'+a+'" for rule "'+r.name+'" was not met.'),n("ruleConditionFailed",{rule:r,condition:o})}},ke=function(e,t){return function(n){e.log('Rule "'+n.name+'" fired.'),t("ruleCompleted",{rule:n})}},Ee=function(e,t,n){return function(o,r){var a;if(o.actions)for(var i=0;i<o.actions.length;i++){a=o.actions[i];try{e(a,r,[r])}catch(e){return void t(a,o,e)}}n(o)}},Pe=function(e,t,n,o){return function(r,a){o("ruleTriggered",{rule:a}),e?n(a,r):t(a,r)}},Ie=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},xe=function(e,t){return t&&!e.negate||!t&&e.negate},Te=[],Se=!1,je=function(e){Se?e():Te.push(e)},Oe=function(e,t,n){e(t).forEach((function(e){n(je,e)})),Se=!0,Te.forEach((function(e){e()})),Te=[]},_e=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.isPlainObject=n;var De,Ne=j,Le=c,{isPlainObject:Ae}=Re,Me=function(e,t){return Ae(t=t||{})?t=Le({},t,e):Le(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return Ne.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},qe=function(e,t){return function(n,o){var r=e[n];if(r){var a=r.modules;if(a)for(var i=Object.keys(a),s=0;s<i.length;s++){var c=i[s],l=a[c];if(l.shared&&l.name===o)return t.getModuleExports(c)}}}},Be=function(e,t){return function(){return t?e(t):{}}},Ve=function(e,t,n){return function(o){if(n){var r=o.split(".");r.splice(r.length-1||1,0,"min"),o=r.join(".")}return e(t)+o}},Fe=".js",Ue=function(e){return e.substr(0,e.lastIndexOf("/"))},$e=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},ze=function(e,t){$e(t,Fe)||(t+=Fe);var n=t.split("/"),o=Ue(e).split("/");return n.forEach((function(e){e&&"."!==e&&(".."===e?o.length&&o.pop():o.push(e))})),o.join("/")},He={exports:{}};De=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(o){function r(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},r.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(e){}n=o.write?o.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in a)a[c]&&(s+="; "+c,!0!==a[c]&&(s+="="+a[c].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!=typeof document){for(var r={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(s[0]);if(c=(o.read||o)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[l]=c,e===l)break}catch(e){}}return e?r[e]:r}}return r.set=a,r.get=function(e){return i(e,!1)},r.getJSON=function(e){return i(e,!0)},r.remove=function(t,n){a(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}return n((function(){}))},He.exports=De();var We=He.exports,Je={get:We.get,set:We.set,remove:We.remove},Ge=ie,Ze=function(e,t){return new Ge((function(n,o){t.onload=function(){n(t)},t.onerror=function(){o(new Error("Failed to load script "+e))}}))},Qe=function(e){var t={};if(!e||"string"!=typeof e)return t;var n=e.trim().replace(/^[?#&]/,""),o=new URLSearchParams(n),r=o.keys();do{var a=r.next(),i=a.value;if(i){var s=o.getAll(i);1===s.length?t[i]=s[0]:t[i]=s}}while(!1===a.done);return t},Xe=function(e){var t="{{space}}",n=new URLSearchParams;return Object.keys(e).forEach((function(o){var r=e[o];"string"==typeof e[o]?r=r.replace(/ /g,t):["object","undefined"].includes(typeof r)&&!Array.isArray(r)&&(r=""),Array.isArray(r)?r.forEach((function(e){n.append(o,e)})):n.append(o,r)})),n.toString().replace(new RegExp(encodeURIComponent(t),"g"),"%20")},Ye="@adobe/reactor-",Ke={cookie:Je,document:s,"load-script":function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=Ze(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},"object-assign":c,promise:ie,"query-string":{parse:function(e){return Qe(e)},stringify:function(e){return Xe(e)}},window:l},et=function(e){return function(t){if(0===t.indexOf(Ye)){var n=t.substr(Ye.length),o=Ke[n];if(o)return o}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},tt=qe,nt=Be,ot=Ve,rt=j,at=ze,it=et,st=function(e,t,n,o,r,a,i){var s=e.extensions,c=e.buildInfo,l=e.environment,d=e.property.settings;if(s){var u=tt(s,t);Object.keys(s).forEach((function(p){var g=s[p],m=g.settings;Array.isArray(g.filePaths)&&(m=a(m,g.filePaths));var f=nt(o,m);if(g.modules){var h=rt.createPrefixedLogger(g.displayName),b=ot(i,g.hostedLibFilesBaseUrl,c.minified),v={buildInfo:c,environment:l,property:{name:e.property.name,id:e.property.id},getDataElementValue:r,getExtensionSettings:f,getHostedLibFileUrl:b,getSharedModule:u,
logger:h,propertySettings:d,replaceTokens:o,onDebugChanged:n.onDebugChanged,get debugEnabled(){return n.getDebugEnabled()}};Object.keys(g.modules).forEach((function(e){var n=g.modules[e],o=it((function(n){var o=at(e,n);return t.getModuleExports(o)}));t.registerModule(e,n,p,o,v)}))}})),t.hydrateCache()}return t},ct=Je,lt=j,dt=function(e,t,n,o,r){var a=lt.createPrefixedLogger("Custom Script");e.track=function(e){lt.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=a,e.notify=function(e,t){switch(lt.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:a.info(e);break;case 4:a.warn(e);break;case 5:a.error(e);break;default:a.log(e)}},e.getVar=o,e.setVar=r,e.setCookie=function(e,t,n){var o="",r={};n&&(o=", { expires: "+n+" }",r.expires=n);var a='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+o+").";lt.deprecation(a),ct.set(e,t,r)},e.readCookie=function(e){return lt.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),ct.get(e)},e.removeCookie=function(e){lt.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),ct.remove(e)},e.cookie=ct,e.pageBottom=function(){},e.setDebug=n;var i=!1;Object.defineProperty(e,"_container",{get:function(){return i||(lt.warn("_satellite._container may change at any time and should only be used for debugging."),i=!0),t}})},{isPlainObject:ut}=Re,pt=s,gt=c,mt=u,ft=p,ht=m,bt=h,vt=z,yt=G,wt=Z,Ct=K,kt=ne,Et=re,Pt=ae,It=ce,xt=de,Tt=pe,St=me,jt=fe,Ot=he,_t=be,Rt=ve,Dt=ye,Nt=we,Lt=Ce,At=ke,Mt=Ee,qt=Pe,Bt=Ie,Vt=xe,Ft=Oe,Ut=_e,$t=Me,zt=R,Ht=st,Wt=dt,Jt=function(e,t){return function(n,o,r){return e&&ut(n)&&Object.keys(n).length&&Array.isArray(o)&&o.length?(o.forEach((function(e){Boolean(null!=r&&/^core\/.*actions.*\/customCode\.js$/.test(r))&&"source"===e&&!n.isExternal||a(e.split("."),n,t)})),n):n}},Gt=j,Zt=window._satellite;if(Zt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Qt=Zt.container;delete Zt.container;var Xt=gt({},Qt.buildInfo);Object.defineProperty(Xt,"environment",{get:function(){return Gt.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Qt.environment.stage}}),Qt.buildInfo=Xt;var Yt,Kt=ht(zt("localStorage"),Gt),en="";pt.currentScript&&pt.currentScript.getAttribute("src")&&(en=pt.currentScript.getAttribute("src"));try{Yt=mt(en,Boolean(Qt.company.dynamicCdnEnabled),Qt.company.cdnAllowList,Kt)}catch(e){throw Gt.warn("Please review the following error:"),e}var tn,nn=Jt(Yt.isDynamicEnforced,Yt.decorateWithDynamicHost),on=Ct(),rn=Qt.property.settings.undefinedVarsReturnEmpty,an=Qt.property.settings.ruleComponentSequencingEnabled,sn=Qt.dataElements||{},cn=function(e){return sn[e]},ln=function(){return tn.apply(null,arguments)},dn=vt(on,cn,ln,rn,nn),un={},pn=Pt(un),gn=wt(un,cn),mn=yt(un,cn,dn);tn=Et(gn,mn,rn),Wt(Zt,Qt,Kt.setDebugEnabled,mn,pn),Ht(Qt,on,Kt,tn,dn,nn,Yt.decorateWithDynamicHost);var fn=kt(Zt),hn=bt(on,tn,nn),bn=Ot(on),vn=Lt(bn,Gt,fn),yn=Nt(Bt,bn,Gt,fn),wn=Dt(Bt,bn,Gt,fn),Cn=At(Gt,fn),kn=Rt(qt(an,jt(St(hn,Vt,vn,yn),Mt(hn,wn,Cn)),Tt(xt(hn,Ut,Vt,yn,vn),It(hn,Ut,wn),Cn),fn),hn,$t,Bt,_t(on),Gt);Ft(ft,Qt.rules||[],kn)}return e(Zt)}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();